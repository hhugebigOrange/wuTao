webpackJsonp([1],{0:function(t,e,a){a("NHnr"),t.exports=a("j1ja")},"03Mi":function(t,e){},"05UB":function(t,e){},"27R1":function(t,e){},"2Clc":function(t,e){},"39T8":function(t,e){},"4G77":function(t,e){},"4j69":function(t,e){},"4mtA":function(t,e){},"7ILD":function(t,e){},"7c2q":function(t,e){},"9ye0":function(t,e){},AQs0:function(t,e){},CjA4:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTQ3Nzk4NTMyNDQ1IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjYgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjQ4NDEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwLjM5MDYyNSIgaGVpZ2h0PSIyMDAiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTUxMi4wMjMyNzMgNDYuNTQ1NDU1YzI1Ni42NTE2MzYgMCA0NjUuNDU0NTQ1IDIwOC44MDI5MDkgNDY1LjQ1NDU0NSA0NjUuNDU0NTQ1cy0yMDguODAyOTA5IDQ2NS40NTQ1NDUtNDY1LjQ1NDU0NSA0NjUuNDU0NTQ1LTQ2NS40NTQ1NDUtMjA4LjgwMjkwOS00NjUuNDU0NTQ1LTQ2NS40NTQ1NDVTMjU1LjM3MTYzNiA0Ni41NDU0NTUgNTEyLjAyMzI3MyA0Ni41NDU0NTVNNTEyLjAyMzI3MyAwYy0yODIuNzYzNjM2IDAtNTEyIDIyOS4yMzYzNjQtNTEyIDUxMnMyMjkuMjM2MzY0IDUxMiA1MTIgNTEyIDUxMi0yMjkuMjM2MzY0IDUxMi01MTJTNzk0LjgxMDE4MiAwIDUxMi4wMjMyNzMgMEw1MTIuMDIzMjczIDB6IiBwLWlkPSI0ODQyIiBmaWxsPSIjNzA3MDcwIj48L3BhdGg+PHBhdGggZD0iTTcyNS43NiA3NDkuMDMyNzI3Yy01Ljk1NzgxOCAwLTExLjkxNTYzNi0yLjI4MDcyNy0xNi40NTM4MTgtNi44MTg5MDlsLTQyNy40NTAxODItNDI3LjUyYy05LjA5OTYzNi05LjA5OTYzNi05LjA5OTYzNi0yMy44MzEyNzMgMC0zMi45MDc2MzYgOS4wOTk2MzYtOS4wOTk2MzYgMjMuODA4LTkuMDk5NjM2IDMyLjkwNzYzNiAwbDQyNy40NTAxODIgNDI3LjUyYzkuMDk5NjM2IDkuMDk5NjM2IDkuMDk5NjM2IDIzLjgzMTI3MyAwIDMyLjkwNzYzNkM3MzcuNjc1NjM2IDc0Ni43NTIgNzMxLjcxNzgxOCA3NDkuMDMyNzI3IDcyNS43NiA3NDkuMDMyNzI3eiIgcC1pZD0iNDg0MyIgZmlsbD0iIzcwNzA3MCI+PC9wYXRoPjxwYXRoIGQ9Ik0yOTguMjYzMjczIDc0OS4wMDk0NTVjLTUuOTU3ODE4IDAtMTEuOTE1NjM2LTIuMjgwNzI3LTE2LjQ1MzgxOC02LjgxODkwOS05LjA5OTYzNi05LjA5OTYzNi05LjA5OTYzNi0yMy44MzEyNzMgMC0zMi45MDc2MzZMNzA5LjM1MjcyNyAyODEuODA5NDU1YzkuMDk5NjM2LTkuMDk5NjM2IDIzLjgwOC05LjA5OTYzNiAzMi45MDc2MzYgMHM5LjA5OTYzNiAyMy44MzEyNzMgMCAzMi45MDc2MzZMMzE0LjcxNzA5MSA3NDIuMTkwNTQ1QzMxMC4xNzg5MDkgNzQ2LjcyODcyNyAzMDQuMjIxMDkxIDc0OS4wMDk0NTUgMjk4LjI2MzI3MyA3NDkuMDA5NDU1eiIgcC1pZD0iNDg0NCIgZmlsbD0iIzcwNzA3MCI+PC9wYXRoPjwvc3ZnPg=="},Clu9:function(t,e){},DAhs:function(t,e){},E99v:function(t,e){},EFeV:function(t,e){},EIh8:function(t,e){},"EYG+":function(t,e){},GKrx:function(t,e){},"I50/":function(t,e){},IYVb:function(t,e){},JEdL:function(t,e){},JPJL:function(t,e){},KBGp:function(t,e){},MQve:function(t,e){},MWWD:function(t,e){},NF3Q:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var l=a("VU/8")({name:"App"},s,!1,function(t){a("GKrx")},null,null).exports,n=a("/ocq"),r=a("mtWM"),o=a.n(r),c=a("mw3O"),u=a.n(c);o.a.defaults.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8";var m="http://47.106.110.201:80/som/",d=(sessionStorage.getItem("langt"),(new Date).getTime(),{username:window.sessionStorage.getItem("username")});function v(t,e){var a={};for(var i in t)a[i]=t[i];for(var s in e)a[s]=e[s];return a}var f=function(t){return o.a.post(m+"customerInfo",u.a.stringify(v(t,d)))},p=function(t){return o.a.post(m+"areaManage",u.a.stringify(v(t,d)))},y=function(t){return o.a.post(m+"maintenancePlanByMachCode",u.a.stringify(v(t,d)))},h=function(t){return o.a.post(m+"sendOrder",u.a.stringify(v(t,d)))},_=function(t){return o.a.post(m+"noMachCodedoNewOrder",u.a.stringify(v(t,d)))},b=function(t){return o.a.post(m+"updateOrder",u.a.stringify(v(t,d)))},g=function(t){return o.a.post(m+"totalEquipmentOperation",u.a.stringify(v(t,d)))},C=(o.a,{name:"Index",data:function(){return{msg:"",items:"",name:"",assistant:!1,client:!1,majordomo:!1,operations:!1,serviceHome:!1,customerShow:""}},mounted:function(){this.getData()},methods:{getData:function(){var t,e=this,a=window.sessionStorage.getItem("username"),i=sessionStorage.getItem("userRoleA");(t={username:a},o.a.post(m+"permissions",u.a.stringify(v(t,d)))).then(function(t){e.items=t.data.data,e.name=t.data.name}),i==this.$admin.ywzl||i==this.$admin.zxcry||i==this.$admin.kfjl?this.assistant=!0:i==this.$admin.kh?(this.customerShow=!0,this.client=!0):i==this.$admin.zbkf?this.serviceHome=!0:i==this.$admin.ywzj||i==this.$admin.admin?this.majordomo=!0:i!=this.$admin.ywjl&&i!=this.$admin.jszg||(this.operations=!0)},exit:function(){var t=this;layui.use(["form","table"],function(){layui.form,layui.table;layer.confirm("确定退出登录么？",{btn:["确定","取消"]},function(e){sessionStorage.clear(),t.$router.push({path:"/"}),layer.closeAll()},function(){})})}},created:function(){}}),w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"index"}},[a("div",{staticClass:"layui-layout layui-layout-admin",staticStyle:{overflow:"auto"}},[a("div",{staticClass:"header"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"exit-img"},[a("span",{staticClass:"usernames"},[t._v(t._s(t.name))]),t._v(" "),a("img",{staticClass:"exit",attrs:{src:"static/images/exit.png",height:"30",width:"30",id:"exit"},on:{click:function(e){t.exit()}}})])]),t._v(" "),a("div",{staticClass:"sidenav"},[a("ul",{staticClass:"left_nav"},[t.items.homepage?a("li",{staticClass:"oneli hide",attrs:{id:"oneA"}},[t.assistant?a("router-link",{staticClass:"nav_left ico-homePage",attrs:{target:"iframe_a",to:"/home/assistant"}},[t._v("首页")]):t._e(),t._v(" "),t.client?a("router-link",{staticClass:"nav_left ico-homePage",attrs:{target:"iframe_a",to:"/home/client"}},[t._v("首页")]):t._e(),t._v(" "),t.majordomo?a("router-link",{staticClass:"nav_left ico-homePage",attrs:{target:"iframe_a",to:"/home/majordomo"}},[t._v("首页")]):t._e(),t._v(" "),t.operations?a("router-link",{staticClass:"nav_left ico-homePage",attrs:{target:"iframe_a",to:"/home/operations"}},[t._v("首页")]):t._e(),t._v(" "),t.serviceHome?a("router-link",{staticClass:"nav_left ico-homePage",attrs:{target:"iframe_a",to:"/home/serviceHome"}},[t._v("首页")]):t._e(),t._v(" "),a("ul",{staticClass:"nav_right hide",attrs:{id:"twoA"}})],1):t._e(),t._v(" "),t.customerShow?a("li",{staticClass:"oneli hide",attrs:{id:"oneTwoa"}},[a("router-link",{staticClass:"nav_left ico-service",attrs:{target:"iframe_a",to:"/home/workMsg"}},[t._v("工单管理")])],1):t._e(),t._v(" "),t.customerShow?a("li",{staticClass:"oneli hide",attrs:{id:"oneTwob"}},[a("router-link",{staticClass:"nav_left ico-equipmentAndAsset",attrs:{target:"iframe_a",to:"/home/equipmentManage"}},[t._v("设备管理")])],1):t._e(),t._v(" "),t.customerShow?a("li",{staticClass:"oneli hide",attrs:{id:"oneTwoc"}},[a("router-link",{staticClass:"nav_left ico-customer",attrs:{target:"iframe_a",to:"/home/contractMsg"}},[t._v("合同管理")])],1):t._e(),t._v(" "),t.customerShow?a("li",{staticClass:"oneli hide",attrs:{id:"oneTwod"}},[a("router-link",{staticClass:"nav_left ico-maintenance",attrs:{target:"iframe_a",to:"/home/implement"}},[t._v("保养查看")])],1):t._e(),t._v(" "),t.customerShow?a("li",{staticClass:"oneli hide",attrs:{id:"oneTwoe"}},[a("router-link",{staticClass:"nav_left ico-customer",attrs:{target:"iframe_a",to:"/home/contractSatis"}},[t._v("客户满意度")]),t._v(" "),a("ul",{staticClass:"nav_right hide",attrs:{id:"oneB"}},[t.items.feedback?a("li",[a("router-link",{attrs:{to:"/home/feedback",target:"iframe_a"}},[t._v("反馈与建议")])],1):t._e()])],1):t._e(),t._v(" "),t.items.basicMsg?a("li",{staticClass:"oneli hide",attrs:{id:"oneB"}},[a("a",{staticClass:"nav_left ico-basicInformation",attrs:{target:"iframe_a",href:"javascript:"}},[t._v("基本信息")]),t._v(" "),a("ul",{staticClass:"nav_right hide",attrs:{id:"twoB"}},[t.items.custmorMsg?a("li",[a("router-link",{attrs:{to:"/home/custmorMsg"}},[t._v("客户信息")])],1):t._e(),t._v(" "),t.items.userManage?a("li",[a("router-link",{attrs:{to:"/home/userManage",target:"iframe_a"}},[t._v("员工信息")])],1):t._e(),t._v(" "),t.items.calendar?a("li",[a("router-link",{attrs:{to:"/home/calendar",target:"iframe_a"}},[t._v("工作日历")])],1):t._e()])]):t._e(),t._v(" "),t.items.custManage?a("li",{staticClass:"oneli hide",attrs:{id:"oneC"}},[a("a",{staticClass:"nav_left ico-customer",attrs:{target:"iframe_a",href:"javascript:"}},[t._v("客户管理")]),t._v(" "),a("ul",{staticClass:"nav_right hide",attrs:{id:"twoC"}},[t.items.contractMsg?a("li",[a("router-link",{attrs:{target:"iframe_a",to:"/home/contractMsg"}},[t._v("合同管理")])],1):t._e(),t._v(" "),t.items.contractSatis?a("li",[a("router-link",{attrs:{to:"/home/contractSatis",target:"iframe_a"}},[t._v("客户满意度管理")])],1):t._e(),t._v(" "),t.items.feedback?a("li",[a("router-link",{attrs:{to:"/home/feedback",target:"iframe_a"}},[t._v("反馈与建议")])],1):t._e()])]):t._e(),t._v(" "),t.items.serveManage?a("li",{staticClass:"oneli hide",attrs:{id:"oneD"}},[a("a",{staticClass:"nav_left ico-service",attrs:{target:"iframe_a",href:"javascript:"}},[t._v("服务管理")]),t._v(" "),a("ul",{staticClass:"nav_right hide",attrs:{id:"twoD"}},[t.items.workMsg?a("li",[a("router-link",{attrs:{to:"/home/workMsg",target:"iframe_a"}},[t._v("工单管理")])],1):t._e(),t._v(" "),t.items.faultAnalysis?a("li",[a("router-link",{attrs:{to:"/home/faultAnalysis",target:"iframe_a"}},[t._v("维修履历")])],1):t._e()])]):t._e(),t._v(" "),t.items.equipAndProperty?a("li",{staticClass:"oneli hide",attrs:{id:"oneE"}},[a("a",{staticClass:"nav_left ico-equipmentAndAsset",attrs:{href:"javascript:",target:"iframe_a"}},[t._v("设备及资产管理")]),t._v(" "),a("ul",{staticClass:"nav_right hide",attrs:{id:"twoE"}},[t.items.equipmentManage?a("li",[a("router-link",{attrs:{to:"/home/equipmentManage",target:"iframe_a"}},[t._v("设备管理")])],1):t._e(),t._v(" "),t.items.assets?a("li",[a("router-link",{attrs:{to:"/home/assets",target:"iframe_a"}},[t._v("资产管理")])],1):t._e()])]):t._e(),t._v(" "),t.items.maintainManage?a("li",{staticClass:"oneli hide",attrs:{id:"oneF"}},[a("a",{staticClass:"nav_left ico-maintenance",attrs:{target:"iframe_a",href:"javascript:"}},[t._v("保养管理")]),t._v(" "),a("ul",{staticClass:"nav_right hide",attrs:{id:"twoF"}},[t.items.plan?a("li",[a("router-link",{attrs:{to:"/home/plan",target:"iframe_a"}},[t._v("保养计划")])],1):t._e(),t._v(" "),t.items.implement?a("li",[a("router-link",{attrs:{to:"/home/implement",target:"iframe_a"}},[t._v("保养执行")])],1):t._e()])]):t._e(),t._v(" "),t.items.reportManage?a("li",{staticClass:"oneli hide",attrs:{id:"oneG"}},[a("a",{staticClass:"nav_left ico-statement",attrs:{target:"iframe_a",href:"javascript:"}},[t._v("报表管理")]),t._v(" "),a("ul",{staticClass:"nav_right hide",attrs:{id:"twoG"}},[t.items.kpiMang?a("li",{staticClass:"kpiClass"},[a("a",{attrs:{name:"kpiMang"}},[t._v("KPI管理")]),t._v(" "),a("ul",{staticClass:"three",attrs:{id:"threeA"}},[t.items.engineer?a("li",[a("router-link",{attrs:{to:"/home/engineer",target:"iframe_a"}},[t._v("工程师KPI报表")])],1):t._e(),t._v(" "),t.items.customerMsgr?a("li",[a("router-link",{attrs:{to:"/home/customerMsgr",target:"iframe_a"}},[t._v("客户KPI报表")])],1):t._e(),t._v(" "),t.items.branchOffice?a("li",[a("router-link",{attrs:{to:"/home/branchOffice",target:"iframe_a"}},[t._v("分公司运维KPI")])],1):t._e(),t._v(" "),t.items.headquarters?a("li",[a("router-link",{attrs:{to:"/home/headquarters",target:"iframe_a"}},[t._v("总公司运维KPI")])],1):t._e(),t._v(" "),t.items.service?a("li",[a("router-link",{attrs:{to:"/home/service",target:"iframe_a"}},[t._v("坐席客服KPI")])],1):t._e()])]):t._e(),t._v(" "),t.items.orderAnalysis?a("li",[a("router-link",{attrs:{to:"/home/orderAnalysis",target:"iframe_a"}},[t._v("工单分析表")])],1):t._e(),t._v(" "),t.items.orderStat?a("li",[a("router-link",{attrs:{to:"/home/orderStat",target:"iframe_a"}},[t._v("工单统计表")])],1):t._e(),t._v(" "),t.items.orderPrescription?a("li",[a("router-link",{attrs:{to:"/home/orderPrescription",target:"iframe_a"}},[t._v("工单时效表")])],1):t._e(),t._v(" "),t.items.repair?a("li",[a("router-link",{attrs:{to:"/home/repair",target:"iframe_a"}},[t._v("维修报表")])],1):t._e(),t._v(" "),t.items.operationRate?a("li",[a("router-link",{attrs:{to:"/home/operationRate",target:"iframe_a"}},[t._v("设备运转正常率")])],1):t._e(),t._v(" "),t.items.maintain?a("li",[a("router-link",{attrs:{target:"iframe_a",to:"/home/maintain"}},[t._v("保养报表")])],1):t._e(),t._v(" "),t.items.equipmentReq?a("li",[a("router-link",{attrs:{target:"iframe_a",to:"/home/equipmentReq"}},[t._v("设备管理报表")])],1):t._e()])]):t._e(),t._v(" "),t.items.onGuard?a("li",{staticClass:"oneli hide",attrs:{id:"oneH"}},[a("a",{staticClass:"nav_left ico-working",attrs:{target:"iframe_a",href:"javascript:"}},[t._v("在岗管理")]),t._v(" "),a("ul",{staticClass:"nav_right hide",attrs:{id:"twoH"}},[t.items.engineerWork?a("li",[a("router-link",{attrs:{to:"/home/engineerWork",target:"iframe_a"}},[t._v("在岗状态")])],1):t._e()])]):t._e(),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t.items.system?a("li",{staticClass:"oneli hide",attrs:{id:"oneK"}},[a("a",{staticClass:"nav_left ico-system",attrs:{target:"iframe_a",href:"javascript:"}},[t._v("系统管理")]),t._v(" "),a("ul",{staticClass:"nav_right hide",attrs:{id:"twoI"}},[t.items.area?a("li",[a("router-link",{attrs:{to:"/home/area",target:"iframe_a"}},[t._v("区域管理")])],1):t._e(),t._v(" "),t.items.jurisdiction?a("li",{staticClass:"jurisClass"},[a("a",{attrs:{target:"iframe_a"}},[t._v("权限分配")]),t._v(" "),a("ul",{staticClass:"three",staticStyle:{top:"40px"},attrs:{id:""}},[t.items.account?a("li",[a("router-link",{attrs:{to:"/home/account",target:"iframe_a"}},[t._v("账户管理")])],1):t._e()])]):t._e(),t._v(" "),t.items.amend?a("li",[a("router-link",{attrs:{to:"/home/amend",target:"iframe_a"}},[t._v("密码修改")])],1):t._e(),t._v(" "),t.items.parameter?a("li",[a("router-link",{attrs:{to:"/home/parameter",target:"iframe_a"}},[t._v("参数设定")])],1):t._e()])]):t._e()])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo color-white",staticStyle:{"margin-top":"0"}},[e("img",{attrs:{src:"static/images/logo.png",width:"78%"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logoFont"},[e("p",{staticClass:"fontcomp"},[this._v("广东迅维信息产业股份有限公司")]),this._v(" "),e("p",{staticClass:"welcome"},[e("span",{staticStyle:{"margin-right":"5px"}}),this._v("欢迎光临SOM平台 广东迅维官网："),e("a",{attrs:{href:"http://www.insolu.cn/",target:"_blank"}},[this._v("www.insolu.cn")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"oneli hide layui-hide",attrs:{id:"oneI"}},[e("a",{staticClass:"nav_left",attrs:{target:"iframe_a",href:"javascript:"}},[e("img",{attrs:{src:"static/images/working.png"}}),this._v("耗材管理\n              ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"oneli hide layui-hide",attrs:{id:"oneJ"}},[e("a",{staticClass:"nav_left",attrs:{target:"iframe_a",href:"javascript:"}},[e("img",{attrs:{src:"static/images/working.png"}}),this._v("账单管理\n              ")])])}]};var V=a("VU/8")(C,w,!1,function(t){a("xaCt")},"data-v-7f0d5df2",null).exports,x={name:"Home",components:{Index:V},data:function(){return{username:"",isRouterAlive:!0}},mounted:function(){this.username=this.$route.params.ac,console.log(this.username);var t=sessionStorage.getItem("username");function e(t){var e=t||window.event,a=e.target||e.srcElement,i=a.type||a.getAttribute("type"),s=a.readOnly,l=a.disabled;if(s=void 0!=s&&s,l=void 0==l||l,8==e.keyCode&&!("password"==i||"text"==i||"textarea"==i))return!1}console.log(t),void 0==t&&this.$router.push({path:"/"}),jQuery(document).ready(function(){window.history&&window.history.pushState&&$(window).on("popstate",function(){window.history.pushState("forward",null,""),window.history.forward(0),$(".layui-layer-close").click()}),window.history.pushState("forward",null,""),window.history.forward(0),$(".layui-layer-close").click()}),document.onkeypress=e,document.onkeydown=e},methods:{shuaxin:function(){var t=this;this.isRouterAlive=!1,this.$nextTick(function(){return t.isRouterAlive=!0})}}},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"home"}},[e("Index"),this._v(" "),this.isRouterAlive?e("router-view"):this._e()],1)},staticRenderFns:[]};var N=a("VU/8")(x,k,!1,function(t){a("9ye0")},"data-v-8b96a7fe",null).exports,A=a("bOdI"),S=a.n(A),M=(a("kbrk"),S()({name:"Login",data:function(){return{value:{username:"",password:""}}},directives:{focus:{inserted:function(t){t.focus()}}},created:function(){},methods:{loginFun:function(){var t=this;layui.use("layer",function(){var e,a=layui.layer;if(t.value.username&&t.value.password){var i=a.load(0);(e=t.value,o.a.post(m+"dologin",u.a.stringify(e))).then(function(e){console.log(e),"0"==e.data.code?(sessionStorage.setItem("username",e.data.user),sessionStorage.setItem("userRole",e.data.userRole),sessionStorage.setItem("userRoleA",e.data.userRole2),sessionStorage.setItem("serviceArea",e.data.custName),"运维助理"==e.data.userRole||"驻现场人员"==e.data.userRole||"客服经理"==e.data.userRole?(t.$router.push({path:"/home/assistant"}),location.reload(),a.close(i)):"客户"==e.data.userRole?(t.$router.push({path:"/home/client"}),location.reload(),a.close(i)):"总部客服"==e.data.userRole?(t.$router.push({path:"/home/serviceHome"}),location.reload(),a.close(i)):"运维总监"==e.data.userRole||"超级管理员"==e.data.userRole?(t.$router.push({path:"/home/majordomo"}),location.reload(),a.close(i)):"运维经理"==e.data.userRole||"技术主管"==e.data.userRole?(t.$router.push({path:"/home/operations"}),location.reload(),a.close(i)):"工程师"==e.data.userRole&&(a.close(i),a.msg("此账户并无登录权限"))):(a.close(i),a.msg(e.data.msg))}).catch(function(t){a.close(i),a.msg("请检查你的网络连接")})}else a.close(i),a.msg("请输入用户名和密码")})}}},"created",function(){})),T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login"}},[a("div",{staticClass:"contents"},[t._m(0),t._v(" "),a("div",{staticClass:"right"},[a("div",{staticClass:"doubleCenter"},[a("div",{staticClass:"login-main"},[a("p",[t._v("登录")]),t._v(" "),a("div",[a("div",{staticClass:"inp username"},[a("img",{attrs:{src:"static/images/username.png"}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.value.username,expression:"value.username"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text",required:"","lay-verify":"required",placeholder:"  请输入用户名",autocomplete:"off",autofocus:"autofocus"},domProps:{value:t.value.username},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.loginFun(e):null},input:function(e){e.target.composing||t.$set(t.value,"username",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"inp pwd"},[a("img",{attrs:{src:"static/images/key.png"}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.value.password,expression:"value.password"}],attrs:{type:"password",required:"","lay-verify":"required",placeholder:"  请输入密码",autocomplete:"off"},domProps:{value:t.value.password},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.loginFun(e):null},input:function(e){e.target.composing||t.$set(t.value,"password",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"login-btn"},[a("button",{staticClass:"login",on:{click:function(e){t.loginFun()}}},[t._v("登录")])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left"},[e("div",{},[e("img",{attrs:{src:"static/images/logo.png"}}),this._v(" "),e("img",{attrs:{src:"static/images/logop.png"}})]),this._v(" "),e("div",{staticClass:"doubleCenter"},[e("p",[this._v("服务运维管理系统")]),this._v(" "),e("p",[this._v("Service Operation Management System")])])])}]};var D=a("VU/8")(M,T,!1,function(t){a("7ILD")},"data-v-db5c0256",null).exports,E={name:"Assistant",components:{Index:V},data:function(){var t;return t={item:"",khts:"",khby:"",wwc:"",bygd:"",yhpj:""},S()(t,"bygd",""),S()(t,"csgd",""),S()(t,"hcsl",""),S()(t,"formVa",{custName:"",serviceArea:"",repairMan:"",repairService:"",faultType:"",accidentType:"",accidentType2:"",macd:"",materialModel:"",materialNumber:"",username:window.sessionStorage.getItem("username"),describe:""}),S()(t,"flag1",""),S()(t,"flag2",""),S()(t,"flag3",""),S()(t,"flag4",""),S()(t,"datafor",""),S()(t,"serArea",[]),S()(t,"keyupData",""),S()(t,"isShow",!1),S()(t,"refer",!0),t},mounted:function(){this.getData()},methods:{getData:function(){var t,e=this,a=sessionStorage.getItem("username");(t={username:a},o.a.post(m+"assistant",u.a.stringify(v(t,d)))).then(function(t){e.khts=t.data.客户投诉,e.khby=t.data.客户表扬,e.wwc=t.data.未完成,e.bygd=t.data.本月工单,e.yhpj=t.data.用户评价,e.csgd=t.data.超时工单,e.hcsl=t.data.待定零件和耗材}).catch(function(t){}),e.$serviceArea(p)},custNameScreen:function(){var t=this;t.isShow=!0;var e={custName:t.formVa.custName};f(e).then(function(e){console.log(e),t.keyupData=e.data.data,console.log(t.keyupData)}).catch(function(t){})},namecust:function(t){console.log(t),this.formVa.custName=t,this.isShow=!1},blurHid:function(){var t=this;setTimeout(function(){t.isShow=!1},300)},windUp:function(){var t=this;layui.use("layer",function(){layui.layer.open({type:1,title:"工单生成",area:["700px","500px"],content:$(".windUp")})});var e={username:sessionStorage.getItem("username")};p(e).then(function(e){var a=e.data.data;console.log(a),t.serArea=e.data.data}).catch(function(t){})},wac2:function(t){"b"==t?(this.flag3=!0,this.flag1=!1,this.flag2=!1,this.flag4=!1,this.formVa.accidentType2="",this.formVa.macd="",this.formVa.materialModel="",this.formVa.materialNumber=""):"c"==t&&(this.flag3=!1,this.flag1=!1,this.flag2=!1,this.flag4=!0,this.formVa.accidentType="",this.formVa.macd="",this.formVa.materialModel="",this.formVa.materialNumber="")},wac3:function(t){"a"==t?(this.flag1=!0,this.flag2=!1,this.formVa.materialModel="",this.formVa.materialNumber=""):"b"==t?(this.flag1=!1,this.flag2=!0,this.formVa.macd=""):(this.flag1=!1,this.flag2=!1,this.formVa.materialModel="",this.formVa.materialNumber="",this.formVa.macd="")},addSub:function(){var t=this;t.refer=!1,_(t.formVa).then(function(e){0==e.data.code?(t.$layerClose(),t.$layerMsg(e.data.msg),t.refer=!0,t.$router.push({path:"/home/workMsg",params:{user:"1"}})):(t.$layerMsg(e.data.msg),t.refer=!0)}).catch(function(e){t.$layerClose(),t.$layerMsg("请求出错")})},windj:function(){var t=this;layui.use(["layer","table"],function(){var e,a=layui.layer,i=layui.table,s=(a.open({type:1,title:"待订零件及耗材",area:["1000px","450px"],content:$(".windj")}),sessionStorage.getItem("username"));i.render((e={elem:"#test",height:350,width:1e3,cellMinWidth:150,url:t.$url+"getPartAndNumber",where:{username:s},method:"post"},S()(e,"where",{username:s}),S()(e,"cols",[[,{field:"custName",title:"客户名称",sort:!0},{field:"woNumber",title:"工单号码",sort:!0},{field:"machCode",title:"机器编码",sort:!0},{field:"enginner",title:"工程师姓名",sort:!0},{field:"serviceType",title:"耗材名称及数量",sort:!0},{field:"partsTypeNumber",title:"零件名称及数量"}]]),S()(e,"id","testReload"),S()(e,"parseData",function(t){return console.log(t),{code:t.code,data:t.待定零件及耗材}}),e))})}}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"upleft"},[t._m(0),t._v(" "),a("div",{staticClass:"leftA"},[a("div",{staticClass:"bgred bg-fontA"},[a("span",[a("a",{attrs:{href:"javascript:;"},on:{click:t.windUp}},[t._v("工单生成")])])]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"bghblue bg-fontA"},[a("span",[a("router-link",{attrs:{to:"/home/equipmentManage"}},[t._v("设备概况")])],1)])])]),t._v(" "),a("div",{staticClass:"upright"},[a("dl",{staticClass:"contract-two",staticStyle:{width:"97%",height:"260px"}},[a("dd",{staticClass:"title"},[t._v("工单概况")]),t._v(" "),a("dd",{staticClass:"subordinate"},[a("dl",[a("dd",[a("router-link",{attrs:{to:{name:"WorkMsg",params:{woStatus:"a"}}}},[t._v("本月工单")])],1),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.bygd))])])]),t._v(" "),a("dl",[a("dd",[a("router-link",{attrs:{to:{name:"WorkMsg",params:{woStatus:"b"}}}},[t._v("未完成")])],1),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.wwc))])])]),t._v(" "),a("dl",[a("dd",[a("router-link",{attrs:{to:{name:"WorkMsg",params:{woStatus:"c"}}}},[t._v("超时工单")])],1),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.csgd))])])])])]),t._v(" "),a("dl",{staticClass:"contract-two",staticStyle:{width:"97%",height:"255px",margin:"20px 0"}},[a("dd",{staticClass:"title"},[t._v("客户管理")]),t._v(" "),a("dd",{staticClass:"subordinate customerBox"},[a("dl",[a("dd",[a("router-link",{attrs:{to:"/home/contractMsg"}},[t._v("合同管理")])],1)]),t._v(" "),a("dl",[a("dd",[a("router-link",{attrs:{to:"/home/contractSatis"}},[t._v("客户满意度")])],1)])])]),t._v(" "),a("div",{staticClass:"bghblue bg-fontA",staticStyle:{width:"100%",clear:"both","margin-top":"-10px"}},[a("div",{staticStyle:{"margin-top":"60px"},on:{click:function(e){t.windj()}}},[a("a",{staticStyle:{color:"#f5f5f5","margin-top":"60px"},attrs:{href:"javascript:;"}},[t._v("待订零件及耗材")])]),t._v(" "),a("span",{staticStyle:{"line-height":"0"}},[t._v(t._s(t.hcsl))])])])]),t._v(" "),a("div",{staticClass:"windUp dis-n"},[a("div",{staticClass:"demand"},[a("div",{staticClass:"divW"},[t._m(3),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formVa.serviceArea,expression:"formVa.serviceArea"}],staticClass:"allinput",attrs:{name:"",id:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formVa,"serviceArea",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",id:"address"}},[t._v("请选择")])])])]),t._v(" "),a("div",{staticClass:"divW"},[t._m(4),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.custName,expression:"formVa.custName"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formVa.custName},on:{keyup:function(e){t.custNameScreen()},blur:function(e){t.blurHid()},input:function(e){e.target.composing||t.$set(t.formVa,"custName",e.target.value)}}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"nameData"},[a("div",[t._v("请选择")]),t._v(" "),t._l(t.keyupData,function(e,i){return a("div",{key:i,on:{click:function(a){t.namecust(e.custName)}}},[t._v(t._s(e.custName))])})],2)])]),t._v(" "),a("div",{staticClass:"divW"},[t._m(5),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.repairMan,expression:"formVa.repairMan"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formVa.repairMan},on:{input:function(e){e.target.composing||t.$set(t.formVa,"repairMan",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"divW"},[t._m(6),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.repairService,expression:"formVa.repairService"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formVa.repairService},on:{input:function(e){e.target.composing||t.$set(t.formVa,"repairService",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"divW"},[t._m(7),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.faultType,expression:"formVa.faultType"}],attrs:{type:"radio",name:"",value:"b"},domProps:{checked:t._q(t.formVa.faultType,"b")},on:{click:function(e){t.wac2("b")},change:function(e){t.$set(t.formVa,"faultType","b")}}}),a("label",[t._v("事件类")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.faultType,expression:"formVa.faultType"}],attrs:{type:"radio",name:"",value:"c"},domProps:{checked:t._q(t.formVa.faultType,"c")},on:{click:function(e){t.wac2("c")},change:function(e){t.$set(t.formVa,"faultType","c")}}}),a("label",[t._v("需求类")])])]),t._v(" "),t.flag3?a("div",{staticClass:"divW"},[t._m(8),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.accidentType,expression:"formVa.accidentType"}],attrs:{type:"radio",name:"",value:"a"},domProps:{checked:t._q(t.formVa.accidentType,"a")},on:{change:function(e){t.$set(t.formVa,"accidentType","a")}}}),a("label",[t._v("保养")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.accidentType,expression:"formVa.accidentType"}],attrs:{type:"radio",name:"",value:"b"},domProps:{checked:t._q(t.formVa.accidentType,"b")},on:{change:function(e){t.$set(t.formVa,"accidentType","b")}}}),a("label",[t._v("送货")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.accidentType,expression:"formVa.accidentType"}],attrs:{type:"radio",name:"",value:"c"},domProps:{checked:t._q(t.formVa.accidentType,"c")},on:{change:function(e){t.$set(t.formVa,"accidentType","c")}}}),a("label",[t._v("抄表")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.accidentType,expression:"formVa.accidentType"}],attrs:{type:"radio",name:"",value:"d"},domProps:{checked:t._q(t.formVa.accidentType,"d")},on:{change:function(e){t.$set(t.formVa,"accidentType","d")}}}),a("label",[t._v("送文件")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.accidentType,expression:"formVa.accidentType"}],attrs:{type:"radio",name:"",value:"e"},domProps:{checked:t._q(t.formVa.accidentType,"e")},on:{change:function(e){t.$set(t.formVa,"accidentType","e")}}}),a("label",[t._v("其他")])])])]):t._e(),t._v(" "),t.flag4?a("div",{staticClass:"divW"},[t._m(9),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.accidentType2,expression:"formVa.accidentType2"}],attrs:{type:"radio",name:"",value:"a"},domProps:{checked:t._q(t.formVa.accidentType2,"a")},on:{click:function(e){t.wac3("a")},change:function(e){t.$set(t.formVa,"accidentType2","a")}}}),a("label",[t._v("设备变动")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.accidentType2,expression:"formVa.accidentType2"}],attrs:{type:"radio",name:"",value:"b"},domProps:{checked:t._q(t.formVa.accidentType2,"b")},on:{click:function(e){t.wac3("b")},change:function(e){t.$set(t.formVa,"accidentType2","b")}}}),a("label",[t._v("耗材补充")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.accidentType2,expression:"formVa.accidentType2"}],attrs:{type:"radio",name:"",value:"c"},domProps:{checked:t._q(t.formVa.accidentType2,"c")},on:{click:function(e){t.wac3("c")},change:function(e){t.$set(t.formVa,"accidentType2","c")}}}),a("label",[t._v("安装实施")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.accidentType2,expression:"formVa.accidentType2"}],attrs:{type:"radio",name:"",value:"d"},domProps:{checked:t._q(t.formVa.accidentType2,"d")},on:{click:function(e){t.wac3("d")},change:function(e){t.$set(t.formVa,"accidentType2","d")}}}),a("label",[t._v("客户培训")])])]):t._e(),t._v(" "),t.flag1?a("div",{staticClass:"divW"},[t._m(10),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.macd,expression:"formVa.macd"}],attrs:{type:"radio",name:"",value:"a"},domProps:{checked:t._q(t.formVa.macd,"a")},on:{change:function(e){t.$set(t.formVa,"macd","a")}}}),a("label",[t._v("加机")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.macd,expression:"formVa.macd"}],attrs:{type:"radio",name:"",value:"b"},domProps:{checked:t._q(t.formVa.macd,"b")},on:{change:function(e){t.$set(t.formVa,"macd","b")}}}),a("label",[t._v("变更")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.macd,expression:"formVa.macd"}],attrs:{type:"radio",name:"",value:"c"},domProps:{checked:t._q(t.formVa.macd,"c")},on:{change:function(e){t.$set(t.formVa,"macd","c")}}}),a("label",[t._v("撤销")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.macd,expression:"formVa.macd"}],attrs:{type:"radio",name:"",value:"d"},domProps:{checked:t._q(t.formVa.macd,"d")},on:{change:function(e){t.$set(t.formVa,"macd","d")}}}),a("label",[t._v("移动")])])]):t._e(),t._v(" "),t.flag2?a("div",{staticClass:"divW"},[t._m(11),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.materialModel,expression:"formVa.materialModel"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formVa.materialModel},on:{input:function(e){e.target.composing||t.$set(t.formVa,"materialModel",e.target.value)}}})])]):t._e(),t._v(" "),t.flag2?a("div",{staticClass:"divW"},[t._m(12),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.materialNumber,expression:"formVa.materialNumber"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formVa.materialNumber},on:{input:function(e){e.target.composing||t.$set(t.formVa,"materialNumber",e.target.value)}}})])]):t._e(),t._v(" "),a("div",{staticClass:"divW"},[a("label",{staticClass:"winLabel",staticStyle:{"vertical-align":"top"}},[t._v("需求描述")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formVa.describe,expression:"formVa.describe"}],staticClass:"textWid",attrs:{autocomplete:"off"},domProps:{value:t.formVa.describe},on:{input:function(e){e.target.composing||t.$set(t.formVa,"describe",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"submitNow"},[t.refer?a("button",{on:{click:function(e){t.addSub()}}},[t._v("提交需求")]):a("button",[t._v("提交需求")])])]),t._v(" "),t._m(13)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bigpicA"},[e("img",{attrs:{src:a("ng3q"),width:"100%",height:"350px"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bghbgreen bg-fontA"},[e("span",[this._v("账单管理")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bghbpink bg-fontA"},[e("span",[this._v("耗材管理")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("服务区域")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("客户名称")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("报修人")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("报修人联系电话")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("服务类型")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("服务类别")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("服务类别")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("设备变动")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("耗材型号")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("耗材数量")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"windj dis-n"},[e("div",{staticClass:"datafor"},[e("table",{attrs:{id:"test","lay-filter":"test"}})])])}]};var R=a("VU/8")(E,I,!1,function(t){a("fi+u")},"data-v-2cd7faf4",null).exports,P={name:"Assistant",components:{Index:V},data:function(){return{item:"",zhts:"",ksrq:"",jsrq:"",htzqs:"",yzxqs:"",wzxqs:"",htsbs:"",khzc:"",fwszc:"",bygd:"",wwc:"",csgd:"",zpjs:"",level5:"",level4:"",level3:"",level2:"",level1:"",caseSole:[],feed:{username:"",content:""},remnant:200}},mounted:function(){this.getData()},methods:{getData:function(){var t,e=this,a=sessionStorage.getItem("username");(t={username:a},o.a.post(m+"client",u.a.stringify(v(t,d)))).then(function(t){if(null==t.data.合同管理);else{var a=t.data.合同管理.startDate,i=new Date(a),s=i.getFullYear(),l=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,n=i.getDate(),r=t.data.合同管理.endDate,o=new Date(r),c=o.getFullYear(),u=o.getMonth()+1<10?"0"+(o.getMonth()+1):o.getMonth()+1,m=o.getDate();e.zhts=t.data.合同管理.contractNo,e.ksrq=s+"-"+l+"-"+n,e.jsrq=c+"-"+u+"-"+m,e.htzqs=t.data.合同管理.contractDeadline,e.yzxqs=t.data.合同管理.kpi3,e.wzxqs=t.data.合同管理.dueDays}e.htsbs=t.data.合同设备数,e.khzc=t.data.客户资产,e.fwszc=t.data.服务商资产,e.bygd=t.data.本月工单,e.wwc=t.data.未完成,e.csgd=t.data.超时工单,e.zpjs=t.data.用户评价,e.level5=t.data.five,e.level4=t.data.four,e.level3=t.data.three,e.level2=t.data.two,e.level1=t.data.one,e.caseSole=t.data.方案解决介绍}).catch(function(t){})},winFeedBack:function(){var t=this;layui.use(["layer"],function(){layui.layer.open({type:1,title:"反馈与建议",area:["700px","400px"],content:$(".sdd"),cancel:function(){t.feed.content="",t.remnant=200}})})},subFeed:function(){var t=this;t.feed.username=sessionStorage.getItem("username"),console.log(t.feed),layui.use(["layer"],function(){var e,a=layui.layer;""==t.feed.content?a.msg("你还没有留下建议呦！"):(e=t.feed,o.a.post(m+"doAdvice",u.a.stringify(v(e,d)))).then(function(e){0==e.data.code?(a.closeAll(),a.msg("感谢您的评价，我们会做的更好！"),t.feed.content=""):1==e.data.code&&(a.msg(e.data.msg),t.feed.content="",t.remnant=200)}).catch(function(t){})})},maxLength:function(){var t=this.feed.content.length;this.remnant=200-t,this.remnant<=0&&(this.feed.content=this.feed.content.substr(0,200),this.remnant=0,this.$layerMsg("你已超出最大字数限制"))}}},W={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"upleft"},[a("dl",{staticClass:"bg-btn"},[a("dd",{staticClass:"bg-blue"},[a("router-link",{attrs:{to:"/home/workMsg/WorkMsgAdd"}},[t._v("故障报修及服务需求")])],1),t._v(" "),a("dd",{staticClass:"bg-green"},[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.winFeedBack()}}},[t._v("反馈与建议")])]),t._v(" "),a("dd",{staticClass:"bg-pink"},[a("router-link",{attrs:{to:"/home/customerMsgr"}},[t._v("KPI报告")])],1)]),t._v(" "),a("dl",{staticClass:"layui-clear"}),t._v(" "),a("dl",{staticClass:"contract bg-white",staticStyle:{width:"99.5%",padding:"0"}},[a("dd",{staticClass:"title"},[a("router-link",{attrs:{to:"/home/contract"}},[t._v("合同管理")])],1),t._v(" "),a("dd",{staticClass:"subordinate"},[a("dl",[a("dd",[t._v("主合同号")]),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.zhts))])])]),t._v(" "),a("dl",[a("dd",[t._v("开始日期")]),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.ksrq))])])]),t._v(" "),a("dl",[a("dd",[t._v("结束日期")]),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.jsrq))])])]),t._v(" "),a("dl",[a("dd",[t._v("合同总期数")]),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.htzqs))])])]),t._v(" "),a("dl",[a("dd",[t._v("已执行期数")]),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.yzxqs))])])]),t._v(" "),a("dl",[a("dd",[t._v("未执行期数")]),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.wzxqs))])])])])])]),t._v(" "),a("div",{staticClass:"solution bg-white"},[a("p",[t._v("迅维解决方案介绍")]),t._v(" "),a("div",{staticClass:"caseWid"},t._l(t.caseSole,function(e,i){return a("div",{key:i,staticClass:"caseSole"},[a("span",[t._v(t._s(e.parameterName))]),a("a",{staticStyle:{"margin-left":"20px"},attrs:{href:e.parameter,target:"_blank"}},[t._v(t._s(e.parameter))])])}),0)]),t._v(" "),a("div",{staticClass:"layui-clear"}),t._v(" "),a("div",{staticClass:"down"},[a("div",{staticClass:"contract-three bg-white",staticStyle:{"margin-left":"2%",width:"30.5%"}},[a("div",{staticClass:"title"},[t._v("设备及资产")]),t._v(" "),a("div",{staticClass:"subordinate"},[a("dl",[a("dd",[a("router-link",{attrs:{to:{name:"EquipmentManage",params:{woStatus:"a"}}}},[t._v("合同设备数")])],1),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.htsbs))])])]),t._v(" "),a("dl",[a("dd",[a("router-link",{attrs:{to:{name:"EquipmentManage",params:{woStatus:"b"}}}},[t._v("客户资产")])],1),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.khzc))])])]),t._v(" "),a("dl",[a("dd",[a("router-link",{attrs:{to:{name:"EquipmentManage",params:{woStatus:"c"}}}},[t._v("服务商资产")])],1),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.fwszc))])])])])]),t._v(" "),a("div",{staticClass:"contract-three bg-white",staticStyle:{width:"30.5%"}},[a("div",{staticClass:"title"},[t._v("工单概况")]),t._v(" "),a("div",{staticClass:"subordinate"},[a("dl",[a("dd",[a("router-link",{attrs:{to:{name:"WorkMsg",params:{woStatus:"a"}}}},[t._v("本月工单")])],1),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.bygd))])])]),t._v(" "),a("dl",[a("dd",[a("router-link",{attrs:{to:{name:"WorkMsg",params:{woStatus:"b"}}}},[t._v("未完成")])],1),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.wwc))])])]),t._v(" "),a("dl",[a("dd",[a("router-link",{attrs:{to:{name:"WorkMsg",params:{woStatus:"c"}}}},[t._v("超时工单")])],1),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.csgd))])])])])]),t._v(" "),a("div",{staticClass:"contract-three bg-white",staticStyle:{width:"30.5%"}},[a("div",{staticClass:"title"},[t._v("用户满意度")]),t._v(" "),a("div",{staticClass:"contractSatis"},[a("ul",[a("li",{staticClass:"describe"},[t._v("总评价数")]),a("li",{staticClass:"content"},[t._v(t._s(t.zpjs))])]),t._v(" "),a("ul",{staticClass:"starLevel"},[a("li",{staticClass:"describe"},[a("router-link",{attrs:{to:{name:"ContractSatis",params:{woStatus:"5"}}}},[t._v("非常满意")]),t._v(" "),a("ul",[a("li",{staticClass:"content"},[t._v(t._s(t.level5))])])],1),t._v(" "),a("li",{staticClass:"describe"},[a("router-link",{attrs:{to:{name:"ContractSatis",params:{woStatus:"4"}}}},[t._v("满意")]),t._v(" "),a("ul",[a("li",{staticClass:"content"},[t._v(t._s(t.level4))])])],1),t._v(" "),a("li",{staticClass:"describe"},[a("router-link",{attrs:{to:{name:"ContractSatis",params:{woStatus:"3"}}}},[t._v("一般")]),t._v(" "),a("ul",[a("li",{staticClass:"content"},[t._v(t._s(t.level3))])])],1),t._v(" "),a("li",{staticClass:"describe"},[a("router-link",{attrs:{to:{name:"ContractSatis",params:{woStatus:"2"}}}},[t._v("不满意")]),t._v(" "),a("ul",[a("li",{staticClass:"content"},[t._v(t._s(t.level2))])])],1),t._v(" "),a("li",{staticClass:"describe"},[a("router-link",{attrs:{to:{name:"ContractSatis",params:{woStatus:"1"}}}},[t._v("非常不满意")]),t._v(" "),a("ul",[a("li",{staticClass:"content"},[t._v(t._s(t.level1))])])],1)])])])])]),t._v(" "),a("div",{staticClass:"winFeedBack sdd dis-n"},[a("div",{staticClass:"win"},[a("div",{staticClass:"textareaW"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.feed.content,expression:"feed.content"}],attrs:{placeholder:"请留下你的宝贵意见"},domProps:{value:t.feed.content},on:{keyup:function(e){t.maxLength()},input:function(e){e.target.composing||t.$set(t.feed,"content",e.target.value)}}}),t._v(" "),a("span",[t._v(t._s(t.remnant)+"/"),a("i",{staticStyle:{color:"#000"}},[t._v("200")])])]),t._v(" "),a("div",{staticClass:"subFeed"},[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.subFeed()}}},[t._v("提交")])])])])])},staticRenderFns:[]};var q=a("VU/8")(P,W,!1,function(t){a("SmFt")},"data-v-5d89197a",null).exports,L={name:"Assistant",components:{Index:V},data:function(){return{item:"",ynndq:"",htzs:"",khts:"",khby:"",ydqht:"",bygd:"",csgd:"",wwc:"",yhpj:"",height:"",lineHeight:""}},mounted:function(){this.getData();var t=$("#chart").outerHeight();this.height=t-"79"+"px",this.lineHeight=t-"79"+"px",console.log(t)},created:function(){},methods:{reflashPage:function(){var t="_empty?time="+(new Date).getTime()/500;this.$router.push(t),this.$router.go(-1)},getData:function(){var t,e=this;o.a.post(m+"majordomo",u.a.stringify(v(t,d))).then(function(t){e.ynndq=t.data.一年内到期合同,e.htzs=t.data.合同总数,e.khts=t.data.客户投诉,e.khby=t.data.客户表扬,e.ydqht=t.data.已到期合同,e.bygd=t.data.本月工单,e.csgd=t.data.超时工单,e.wwc=t.data.未完成,e.yhpj=t.data.用户评价}).catch(function(t){})}}},z={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"assistant"}},[i("div",{staticClass:"body"},[i("div",{staticClass:"up"},[i("div",{staticClass:"bigpic"},[i("img",{ref:"reference",staticStyle:{width:"100%",height:"398px"},attrs:{src:a("ng3q"),id:"chart"}})]),t._v(" "),i("div",{staticClass:"left-o"},[i("p",[t._v("月度报告")]),t._v(" "),i("div",{staticClass:"pie",style:{height:t.height}},[i("img",{attrs:{src:a("aCqY"),height:"",width:""}})])])]),t._v(" "),i("div",{staticClass:"layui-clear",staticStyle:{"margin-top":"15px",width:"97%","margin-left":"2%"}},[i("dl",{staticClass:"contract-three"},[i("dd",{staticClass:"title"},[t._v("合同管理")]),t._v(" "),i("dd",{staticClass:"subordinate"},[i("dl",[i("dd",[i("router-link",{attrs:{to:{name:"ContractMsg",params:{woStatus:"a"}}}},[t._v("合同总数")])],1),t._v(" "),i("dd",[i("span",{staticClass:"content"},[t._v(t._s(t.htzs))])])]),t._v(" "),i("dl",[i("dd",[i("router-link",{attrs:{to:{name:"ContractMsg",params:{woStatus:"b"}}}},[t._v("已到期")])],1),t._v(" "),i("dd",[i("span",{staticClass:"content"},[t._v(t._s(t.ydqht))])])]),t._v(" "),i("dl",[i("dd",[i("router-link",{attrs:{to:{name:"ContractMsg",params:{woStatus:"c"}}}},[t._v("一年内到期")])],1),t._v(" "),i("dd",[i("span",{staticClass:"content"},[t._v(t._s(t.ynndq))])])])])]),t._v(" "),i("dl",{staticClass:"contract-three"},[i("dd",{staticClass:"title"},[t._v("工单概况")]),t._v(" "),i("dd",{staticClass:"subordinate"},[i("dl",[i("dd",[i("router-link",{attrs:{to:{name:"WorkMsg",params:{woStatus:"a"}}}},[t._v("本月工单")])],1),t._v(" "),i("dd",[i("span",{staticClass:"content"},[t._v(t._s(t.bygd))])])]),t._v(" "),i("dl",[i("dd",[i("router-link",{attrs:{to:{name:"WorkMsg",params:{woStatus:"b"}}}},[t._v("未完成")])],1),t._v(" "),i("dd",[i("span",{staticClass:"content"},[t._v(t._s(t.wwc))])])]),t._v(" "),i("dl",[i("dd",[i("router-link",{attrs:{to:{name:"WorkMsg",params:{woStatus:"c"}}}},[t._v("超时工单")])],1),t._v(" "),i("dd",[i("span",{staticClass:"content"},[t._v(t._s(t.csgd))])])])])]),t._v(" "),i("dl",{staticClass:"contract-three"},[i("dd",{staticClass:"title"},[t._v("客户满意度")]),t._v(" "),i("dd",{staticClass:"subordinate"},[i("dl",[i("dd",[i("router-link",{attrs:{to:{name:"ContractSatis",params:{woStatus:"a"}}}},[t._v("用户评价")])],1),t._v(" "),i("dd",[i("span",{staticClass:"content"},[t._v(t._s(t.yhpj))])])]),t._v(" "),i("dl",[i("dd",[i("router-link",{attrs:{to:{name:"ContractSatis",params:{woStatus:"b"}}}},[t._v("客户投诉")])],1),t._v(" "),i("dd",[i("span",{staticClass:"content"},[t._v(t._s(t.khts))])])]),t._v(" "),i("dl",[i("dd",[i("router-link",{attrs:{to:{name:"ContractSatis",params:{woStatus:"c"}}}},[t._v("客户表扬")])],1),t._v(" "),i("dd",[i("span",{staticClass:"content"},[t._v(t._s(t.khby))])])])])])])])])},staticRenderFns:[]};var O=a("VU/8")(L,z,!1,function(t){a("JEdL")},"data-v-3a0a1f96",null).exports,j={name:"Assistant",components:{Index:V},data:function(){return{item:"",ynndq:"",htzs:"",khts:"",khby:"",ydqht:"",bygd:"",csgd:"",wwc:"",yhpj:""}},mounted:function(){this.getData();var t=$("#chart").outerHeight();this.height=t-"79"+"px",this.lineHeight=t-"79"+"px",console.log(t)},methods:{getData:function(){var t,e=this,a=sessionStorage.getItem("username");(t={username:a},o.a.post(m+"operations",u.a.stringify(v(t,d)))).then(function(t){e.ynndq=t.data.一年内到期,e.htzs=t.data.合同总数,e.khts=t.data.客户投诉,e.khby=t.data.客户表扬,e.ydqht=t.data.已到期,e.bygd=t.data.本月工单,e.csgd=t.data.超时工单,e.wwc=t.data.未完成,e.yhpj=t.data.用户评价}).catch(function(t){})}}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"up"},[t._m(0),t._v(" "),a("div",{staticClass:"rightdiv"},[a("div",{staticClass:"bghbpink dslsg"},[a("p",{staticClass:"describe"},[a("router-link",{attrs:{to:{name:"WorkMsg",params:{woStatus:"c"}}}},[t._v("超时工单")])],1),t._v(" "),a("p",{staticClass:"content"},[t._v(t._s(t.csgd))])]),t._v(" "),a("div",{staticClass:"htgl"},[a("div",{staticClass:"title"},[t._v("合同管理")]),t._v(" "),a("div",{staticClass:"subordinate"},[a("ul",[a("li",[a("router-link",{attrs:{to:{name:"ContractMsg",params:{woStatus:"a"}}}},[t._v("合同总数")])],1),t._v(" "),a("li",[a("span",[t._v(t._s(t.htzs))])])]),t._v(" "),a("ul",[a("li",[a("router-link",{attrs:{to:{name:"ContractMsg",params:{woStatus:"b"}}}},[t._v("已到期")])],1),t._v(" "),a("li",[a("span",[t._v(t._s(t.ydqht))])])]),t._v(" "),a("ul",[a("li",[a("router-link",{attrs:{to:{name:"ContractMsg",params:{woStatus:"c"}}}},[t._v("一年内到期")])],1),t._v(" "),a("li",[a("span",[t._v(t._s(t.ynndq))])])])])])])]),t._v(" "),a("div",{staticClass:"layui-clear contractD"},[a("dl",{staticClass:"contract-two"},[a("dd",{staticClass:"title"},[t._v("工单概况")]),t._v(" "),a("dd",{staticClass:"subordinate customerBox"},[a("dl",[a("dd",[a("router-link",{attrs:{to:{name:"WorkMsg",params:{woStatus:"a"}}}},[t._v("本月工单")])],1),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.bygd))])])]),t._v(" "),a("dl",[a("dd",[a("router-link",{attrs:{to:{name:"WorkMsg",params:{woStatus:"b"}}}},[t._v("未完成")])],1),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.wwc))])])])])]),t._v(" "),a("dl",{staticClass:"contract-two"},[a("dd",{staticClass:"title"},[t._v("客户满意度")]),t._v(" "),a("dd",{staticClass:"subordinate"},[a("dl",[a("dd",[a("router-link",{attrs:{to:{name:"ContractSatis",params:{woStatus:"a"}}}},[t._v("用户评价")])],1),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.yhpj))])])]),t._v(" "),a("dl",[a("dd",[a("router-link",{attrs:{to:{name:"ContractSatis",params:{woStatus:"b"}}}},[t._v("客户投诉")])],1),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.khts))])])]),t._v(" "),a("dl",[a("dd",[a("router-link",{attrs:{to:{name:"ContractSatis",params:{woStatus:"c"}}}},[t._v("客户表扬")])],1),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.khby))])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bigpic"},[e("img",{attrs:{src:a("ng3q"),width:"100%",height:"350px",id:"chart"}})])}]};var B=a("VU/8")(j,F,!1,function(t){a("XUZj")},"data-v-e85b8eee",null).exports,U={name:"Assistant",components:{Index:V},data:function(){return{item:"",yhpj:"",khby:"",khts:"",dsl:"",wwc:"",bygd:"",csgd:""}},mounted:function(){this.getData()},methods:{getData:function(){var t,e=this,a=sessionStorage.getItem("username");(t={username:a},o.a.post(m+"headquartersService",u.a.stringify(v(t,d)))).then(function(t){e.yhpj=t.data.客户评价,e.khby=t.data.客户表扬,e.khts=t.data.客户投诉,e.dsl=t.data.待受理客户事故及需求数量,e.wwc=t.data.未完成,e.bygd=t.data.本月工单,e.csgd=t.data.超时工单}).catch(function(t){})}}},H={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"up"},[t._m(0),t._v(" "),a("div",{staticClass:"left-o"},[a("div",{staticClass:"bghbpink",staticStyle:{height:"200px"}},[a("p",{staticClass:"describe",staticStyle:{"margin-top":"65px"}},[a("router-link",{attrs:{to:{name:"WorkMsg",params:{woStatus:"d"}}}},[t._v("待受理客户事故及需求数量")])],1),t._v(" "),a("p",{staticClass:"content"},[t._v(t._s(t.dsl))])]),t._v(" "),a("div",{staticClass:"bghbgreen",staticStyle:{height:"200px","margin-top":"10px"}},[a("p",[a("router-link",{attrs:{to:"/home/workMsg/WorkMsgAdd"}},[t._v("工单生成")])],1)])])]),t._v(" "),a("div",{staticClass:"layui-clear contractD"},[a("dl",{staticClass:"contract-two"},[a("dd",{staticClass:"title"},[t._v("工单概况")]),t._v(" "),a("dd",{staticClass:"subordinate"},[a("dl",[a("dd",[a("router-link",{attrs:{rel:"stylesheet",to:{name:"WorkMsg",params:{woStatus:"a"}}}},[t._v("本月工单")])],1),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.bygd))])])]),t._v(" "),a("dl",[a("dd",[a("router-link",{attrs:{rel:"stylesheet",to:{name:"WorkMsg",params:{woStatus:"b"}}}},[t._v("未完成")])],1),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.wwc))])])]),t._v(" "),a("dl",[a("dd",[a("router-link",{attrs:{rel:"stylesheet",to:{name:"WorkMsg",params:{woStatus:"c"}}}},[t._v("超时工单")])],1),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.csgd))])])])])]),t._v(" "),a("dl",{staticClass:"contract-two"},[a("dd",{staticClass:"title"},[t._v("客户满意度")]),t._v(" "),a("dd",{staticClass:"subordinate"},[a("dl",[a("dd",[a("router-link",{attrs:{to:{name:"ContractSatis",params:{woStatus:"a"}}}},[t._v("用户评价")])],1),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.yhpj))])])]),t._v(" "),a("dl",[a("dd",[a("router-link",{attrs:{to:{name:"ContractSatis",params:{woStatus:"b"}}}},[t._v("客户投诉")])],1),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.khts))])])]),t._v(" "),a("dl",[a("dd",[a("router-link",{attrs:{to:{name:"ContractSatis",params:{woStatus:"c"}}}},[t._v("客户表扬")])],1),t._v(" "),a("dd",[a("span",{staticClass:"content"},[t._v(t._s(t.khby))])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bigpic"},[e("img",{attrs:{src:a("ng3q"),width:"100%",height:"400px"}})])}]};var Y=a("VU/8")(U,H,!1,function(t){a("39T8")},"data-v-21e7cc45",null).exports,K=a("mvHQ"),Q=a.n(K),G={name:"WorkerOrder",components:{Index:V},data:function(){return{v:{custName:"",serviceArea:"",startDate:"",endDate:"",workState:"",conver:"",a:"",b:"",c:""},item:{post2:""},item2:{},itemn:{count:"",count2:"",count3:""}}},mounted:function(){this.getData()},methods:{getData:function(){var t,e=this,a=sessionStorage.getItem("username");o.a.post(m+"orderSituation",u.a.stringify(v(t,d))).then(function(t){for(var e=t.data.data,a=[],i=0;i<e.length;i++)-1==a.indexOf(e[i].serviceArea)&&a.push(e[i].serviceArea);for(var s=0;s<a.length;s++)console.log(a[s]),$("#address").after("<option value='"+a[s]+'\' id="">'+a[s]+"</option>")}).catch(function(t){}),layui.use(["form","laydate","table"],function(){var t=layui.form,i=layui.table,s=layui.laydate;t.render(),i.render({elem:"#workTable",height:"full-320",cellMinWidth:120,url:e.$url+"orderSituation",method:"post",where:{username:a},page:!0,cols:[[{field:"id",title:"序号",sort:!0,align:"center",width:80,type:"numbers"},{field:"custName",title:"客户名称",align:"center",width:180},{field:"woNumber",title:"工单号码",align:"center",sort:!0,width:180},{field:"custAddr",title:"客户地址",align:"center",width:180},{field:"repairMan",title:"报修人姓名",align:"center",width:120},,{field:"serviceArea",title:"服务区域",align:"center",width:150},{field:"repairService",title:"联系电话",align:"center",width:120},{field:"devName",title:"设备名称",align:"center",width:120},{field:"machCode",title:"机器编码",align:"center",sort:!0,width:120},{field:"unitType",title:"设备型号"},{field:"custAddr",title:"设备位置"},{field:"esNumber",title:"设备序列号",align:"center",width:120},{field:"enginner",title:"指定工程师"},{field:"repairTime",title:"报修时间",templet:"<div>{{layui.util.toDateString(d.repairTime,'yyyy-MM-dd')}}</div>"},{field:"faultType",title:"服务类型"},{field:"accidentType",title:"服务类别"},{field:"remark",title:"故障描述"},{field:"woStatus",title:"处理状态",align:"center",width:120},{field:"maintenanceFeedback",title:"处理措施",align:"center",width:120},{field:"repairType",title:"工单来源",align:"center",width:120}]],id:"testReload",parseData:function(t){return console.log(t),e.itemn.count=t.count,e.itemn.count2=t.count2,e.itemn.count3=t.count3,{code:t.code,count:t.count,data:t.data}}}),s.render({elem:"#startDate"}),s.render({elem:"#endDate"})})},selectAll:function(){var t=this;$(".layui-icon-close").click(),layui.use(["form","laydate","table"],function(){var e=layui.form,a=layui.table;layui.laydate;e.render(),e.on("submit(formDemo)",function(e){var i=Q()(e.field);i=JSON.parse(i);var s={serviceArea:t.v.serviceArea},l=t.$extend(i,s);t.item=l;var n=t.item.cusName,r=t.item.serviceArea,o=t.item.startDate,c=t.item.endDate,u=t.item.workState,m=t.item.a,d=t.item.b,v=t.item.c,f=sessionStorage.getItem("username");return console.log(s),console.log(t.item),a.render({elem:"#workTable",height:300,cellMinWidth:120,url:t.$url+"orderSituation",method:"post",where:{custName:n,serviceArea:r,startDate:o,endDate:c,workState:u,a:m,b:d,c:v,username:f},page:!0,cols:[[{field:"id",title:"序号",sort:!0,align:"center",width:80,type:"numbers"},{field:"custName",title:"客户名称",align:"center",width:180},{field:"woNumber",title:"工单号码",align:"center",sort:!0,width:180},{field:"custAddr",title:"客户地址",align:"center",width:180},{field:"repairMan",title:"报修人姓名",align:"center",width:120},,{field:"serviceArea",title:"服务区域",align:"center",width:150},{field:"repairService",title:"联系电话",align:"center",width:120},{field:"devName",title:"设备名称",align:"center",width:120},{field:"machCode",title:"机器编码",align:"center",sort:!0,width:120},{field:"unitType",title:"设备型号"},{field:"custAddr",title:"设备位置"},{field:"esNumber",title:"设备序列号",align:"center",width:120},{field:"enginner",title:"指定工程师"},{field:"repairTime",title:"报修时间",templet:"<div>{{layui.util.toDateString(d.repairTime,'yyyy-MM-dd')}}</div>"},{field:"faultType",title:"服务类型"},{field:"accidentType",title:"服务类别"},{field:"remark",title:"故障描述"},{field:"woStatus",title:"处理状态",align:"center",width:120},{field:"maintenanceFeedback",title:"处理措施",align:"center",width:120},{field:"repairType",title:"工单来源",align:"center",width:120}]],id:"testReload",parseData:function(e){return console.log(e),t.itemn.count=e.count,t.itemn.count2=e.count2,t.itemn.count3=e.count3,{code:e.code,count:e.count,data:e.data}}}),!1})})},exportExcel:function(){this.$exportE("exportOrderSituation")}},created:function(){},destroyed:function(){$(".layui-icon-close").click()}},J={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"workerOrder"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>工单概况<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("div",{staticClass:"layui-inline pos-abs"},[a("label",{staticClass:"layui-form-label"},[t._v("服务区域")]),t._v(" "),a("div",{staticClass:"layui-input-block allinput"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.v.serviceArea,expression:"v.serviceArea"}],staticClass:"allinput bor-col",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.v,"serviceArea",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",id:"address"}},[t._v("请选择")])])])]),t._v(" "),a("div",{staticClass:"layui-form",attrs:{action:""}},[a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline",staticStyle:{"margin-left":"324px"}},[a("label",{staticClass:"layui-form-label"},[t._v("客户名称")]),t._v(" "),a("div",{staticClass:"layui-input-block allinput"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.v.custName,expression:"v.custName"}],staticClass:"layui-input",attrs:{type:"text",name:"custName",id:"demoReload",autocomplete:"off"},domProps:{value:t.v.custName},on:{input:function(e){e.target.composing||t.$set(t.v,"custName",e.target.value)}}})])]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3)]),t._v(" "),a("div",{staticClass:"layui-form-item btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDemo"},on:{click:function(e){t.selectAll()}}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])]),t._v(" "),a("div",{staticClass:"labnum"},[a("label",[t._v("工单总数：  "+t._s(t.itemn.count)+"  ")]),t._v(" "),a("label",[t._v("未完成工单：  "+t._s(t.itemn.count2)+"  ")]),t._v(" "),a("label",[t._v("已完成工单：  "+t._s(t.itemn.count3)+"  ")])])]),t._v(" "),t._m(4)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("工单状态")]),t._v(" "),a("div",{staticClass:"layui-input-block allinput"},[a("select",{attrs:{name:"workState","lay-verify":""}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"0"}},[t._v("待处理")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("已受理")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("处理中")]),t._v(" "),a("option",{attrs:{value:"3"}},[t._v("二次上门")]),t._v(" "),a("option",{attrs:{value:"4"}},[t._v("维修完成")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("服务类型")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("input",{attrs:{type:"checkbox",name:"a",title:"事故类"}}),this._v(" "),e("input",{attrs:{type:"checkbox",name:"b",title:"事件类"}}),this._v(" "),e("input",{attrs:{type:"checkbox",name:"c",title:"需求类"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("开始日期")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input",attrs:{type:"text",id:"startDate",placeholder:"年-月-日",name:"startDate","lay-verify":"startDate",readonly:"",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("结束日期")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input",attrs:{type:"text",id:"endDate",placeholder:"年-月-日",name:"endDate","lay-verify":"endDate",readonly:"",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"workTable","lay-filter":"workTable"}})])}]};var X=a("VU/8")(G,J,!1,function(t){a("EIh8")},"data-v-e57310da",null).exports,Z={name:"Contract",components:{Index:V},data:function(){return{v:{childService:"",timeOut:"",dueTo:""},item:{count1:"1",count2:"2",count3:"3",count4:"4"}}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=sessionStorage.getItem("username");layui.use(["table","form","util"],function(){var a,i=layui.table,s=layui.form;i.render({elem:"#demo",height:"full-320",cellMinWidth:120,url:t.$url+"contractSituation",where:{username:e},page:!0,cols:[[{field:"id",title:"序号",sort:!0,type:"numbers",width:80},{field:"custName",title:"客户名称"},{field:"mainService",title:"服务区域"},{field:"city",title:"合同名称"},{field:"contractNo",title:"合同编码"},{field:"contractType",title:"合同类型"},{field:"score",title:"合同性质"},{field:"startDate",title:"签约日期",templet:"<div>{{layui.util.toDateString(d.startDate,'yyyy-MM-dd')}}</div>"},{field:"endDate",title:"到期时间",templet:"<div>{{layui.util.toDateString(d.endDate,'yyyy-MM-dd')}}</div>"},{field:"dueDays",title:"离到期天数"},{field:"contractDeadline",title:"期限(月)",templet:function(t){return"<div>"+Math.round(t.contractDeadline)+"</div>"}},{field:"dueDays",title:"合同到期预警",templet:function(t){return e=t.dueDays,console.log(e),e<"185"?'<span style="color: #f00">'+e+"</span>":"<span>"+e+"</span>";var e}},{field:"bz",title:"外包所服务客户"},{field:"bz",title:"提前终止日"},{field:"bz",title:"备注"}]],id:"testReload",parseData:function(e){return t.item.count1=e.count,t.item.count2=e.count2,t.item.count3=e.count3,t.item.count4=e.count4,{code:e.code,count:e.count,data:e.data}}}),o.a.post(m+"contractSituation",u.a.stringify(v(a,d))).then(function(t){console.log(t);for(var e=t.data.data,a=[],i=0;i<e.length;i++)-1==a.indexOf(e[i].mainService)&&a.push(e[i].mainService);for(var l=0;l<a.length;l++)console.log(a[l]),$("#address").after("<option value='"+a[l]+'\'  v-model="v.childService">'+a[l]+"</option>");s.render()}).catch(function(t){}),s.on("submit(formDome)",function(a){$(".layui-icon-close").click();a=a.field;i.reload("testReload",{url:t.$url+"contractSituation",method:"post",where:{childService:a.address,username:e},page:{curr:1}})})})},exportExcel:function(){this.$exportE("exportContractSituation")}},destroyed:function(){$(".layui-icon-close").click()}},tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"contract"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>合同概况<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-filter":"formDome","lay-submit":""}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])]),t._v(" "),a("div",{staticClass:"labnum"},[a("label",[t._v("合同总数：  "+t._s(t.item.count1)+"  ")]),t._v(" "),a("label",[t._v("即将到期合同："),a("span",[t._v("  "+t._s(t.item.count2)+"  ")])]),t._v(" "),a("label",[t._v("已到期合同：  "),a("span",[t._v(t._s(t.item.count3))]),t._v("  ")]),t._v(" "),a("label",[t._v("续期合同：  "+t._s(t.item.count4)+"  ")])])]),t._v(" "),t._m(1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("服务区域：")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("select",{attrs:{name:"address","lay-verify":""}},[e("option",{attrs:{value:"",id:"address"}})])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"test"}})])}]};var et=a("VU/8")(Z,tt,!1,function(t){a("AQs0")},"data-v-6e0b4c7e",null).exports,at=a("lHA8"),it=a.n(at),st=a("Gu7T"),lt=a.n(st),nt={name:"AtWork",components:{Index:V},mounted:function(){this.getData()},data:function(){return{v:{serviceArea:"",post:""},item:{post2:"",compName:""},number:{count:"",count2:"",count3:"",count4:"",count5:"",count6:"",count7:""}}},methods:{getData:function(){var t,e=this,a=sessionStorage.getItem("username");(t=e.v,o.a.post(m+"onTheJob",u.a.stringify(v(t,d)))).then(function(t){console.log(t.data),e.number.count=t.data.count,e.number.count2=t.data.count2,e.number.count3=t.data.count3,e.number.count4=t.data.count4,e.number.count5=t.data.count5,e.number.count6=t.data.count6,e.number.count7=t.data.count7;for(var a=t.data.data,i=[],s=[],l=0;l<a.length;l++)i.push(a[l].post),s.push(a[l].compName);e.item.post2=[].concat(lt()(new it.a(i))),e.item.compName=[].concat(lt()(new it.a(s)))}).catch(function(t){}),layui.use(["table","form"],function(){var t=layui.table;layui.form;t.render({elem:"#tableAtWork",height:"full-320",cellMinWidth:120,url:e.$url+"onTheJob",where:{username:a},page:!0,cols:[[{field:"id",title:"序号",sort:!0,type:"numbers",width:80},{field:"compName",title:"服务区域"},{field:"name",title:"姓名"},{field:"phone",title:"联系电话"},{field:"post",title:"岗位"},{field:"workCond",title:"工作状态"},{field:"remark",title:"备注"}]]})})},selectAll:function(){$(".layui-icon-close").click();var t=this;layui.use(["table","form"],function(){var e=layui.table,a=(layui.form,t.v.serviceArea),i=t.v.post,s=sessionStorage.getItem("username");e.render({elem:"#tableAtWork",height:312,cellMinWidth:80,url:t.$url+"onTheJob",where:{serviceArea:a,post:i,username:s},page:!0,cols:[[{field:"id",title:"序号",sort:!0,type:"numbers",width:80},{field:"compName",title:"服务区域"},{field:"name",title:"姓名"},{field:"phone",title:"联系电话"},{field:"post",title:"岗位"},{field:"workCond",title:"工作状态"},{field:"remark",title:"备注"}]]})})},exportExcel:function(){this.$exportE("exportOnTheJob")}}},rt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"atWork"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>在岗人数<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("服务区域")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.v.serviceArea,expression:"v.serviceArea"}],staticClass:"allinput bor-col",attrs:{name:"name"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.v,"serviceArea",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),t._l(t.item.compName,function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e))])})],2)])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("岗位")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.v.post,expression:"v.post"}],staticClass:"allinput bor-col",attrs:{name:"post"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.v,"post",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),t._l(t.item.post2,function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e))])})],2)])]),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.selectAll()}}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])]),t._v(" "),a("div",{staticClass:"labnum"},[a("label",[t._v("在岗人数：  "+t._s(t.number.count)+"  ")]),t._v(" "),a("label",[t._v("客服人数：  "+t._s(t.number.count2)+"  ")]),t._v(" "),a("label",[t._v("工程师：  "+t._s(t.number.count3)+"  ")]),t._v(" "),a("label",[t._v("客服经理：  "+t._s(t.number.count4)+"  ")]),t._v(" "),a("label",[t._v("技术主管：  "+t._s(t.number.count5)+"  ")]),t._v(" "),a("label",[t._v("运维经理：  "+t._s(t.number.count6)+"  ")]),t._v(" "),a("label",[t._v("驻现场人员：  "+t._s(t.number.count7)+"  ")])])]),t._v(" "),t._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"tableAtWork","lay-filter":"tableAtWork"}})])}]};var ot=a("VU/8")(nt,rt,!1,function(t){a("Onzz")},"data-v-23dd321e",null).exports,ct={name:"Satisfaction",components:{Index:V},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=sessionStorage.getItem("username");layui.use(["form","laydate","table"],function(){var a,i=layui.form,s=layui.laydate,l=layui.table;s.render({elem:"#startTime"}),s.render({elem:"#endTime"}),i.render(),l.render({elem:"#demo",height:"full-320",cellMinWidth:120,url:t.$url+"customerSatisfaction",where:{username:e},page:!0,cols:[[{field:"id",title:"序号",sort:!0,type:"numbers",width:80},{field:"custName",title:"客户名称",sort:!0},{field:"serviceArea",title:"服务区域"},{field:"woNumber",title:"工单号码",sort:!0},{field:"repairMan",title:"报修人姓名"},{field:"repairPhone",title:"联系电话"},{field:"repairTime",title:"报修时间"},{field:"completeTime",title:"完成时间"},{field:"enginnerName",title:"维修工程师"},{field:"custScore",title:"实际得分"},{field:"custSat",title:"投诉与建议内容"},{field:"remark",title:"备注"}]]}),o.a.post(m+"customerSatisfaction",u.a.stringify(v(a,d))).then(function(t){for(var e=t.data.data,a=[],s=0;s<e.length;s++)-1==a.indexOf(e[s].serviceArea)&&a.push(e[s].serviceArea);for(var l=0;l<a.length;l++)console.log(a[l]),$("#address").after("<option value='"+a[l]+'\' id="">'+a[l]+"</option>");i.render()}).catch(function(t){})})},selectAll:function(){var t=this;$(".layui-icon-close").click(),layui.use(["form","laydate","table"],function(){var e=layui.form,a=(layui.laydate,layui.table);e.on("submit(formDemo)",function(e){e=Q()(e.field);var i=(e=JSON.parse(e)).custName,s=e.serviceArea,l=e.custSat,n=e.startDate,r=e.endDate,o=sessionStorage.getItem("username");return a.render({elem:"#demo",height:312,cellMinWidth:120,url:t.$url+"customerSatisfaction",method:"post",where:{custName:i,serviceArea:s,custSat:l,startDate:n,endDate:r,username:o},page:!0,cols:[[{field:"id",title:"序号",sort:!0,type:"numbers",width:80},{field:"custName",title:"客户名称",sort:!0},{field:"serviceArea",title:"服务区域"},{field:"woNumber",title:"工单号码",sort:!0},{field:"repairMan",title:"报修人姓名"},{field:"repairPhone",title:"联系电话"},{field:"repairTime",title:"报修时间"},{field:"completeTime",title:"完成时间"},{field:"enginnerName",title:"维修工程师"},{field:"custScore",title:"实际得分"},{field:"custSat",title:"投诉与建议内容"},{field:"remark",title:"备注"}]]}),!1})})},exportExcel:function(){$(".layui-icon-close").click(),this.$exportE("exportCustSatisfaction")}},destroyed:function(){$(".layui-icon-close").click()}},ut={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"satisfaction"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>客户满意度<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-filter":"formDemo","lay-submit":""},on:{click:function(e){t.selectAll()}}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])])]),t._v(" "),t._m(1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("客户名称")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"custName","lay-verify":"",placeholder:"",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("服务区域")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("select",{staticClass:"allinput",attrs:{name:"serviceArea","lay-verify":""}},[a("option",{attrs:{value:"",id:"address"}},[t._v("请选择")])])])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("服务评价")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("select",{attrs:{name:"custSat","lay-verify":""}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"4"}},[t._v("满意")]),t._v(" "),a("option",{attrs:{value:"5"}},[t._v("非常满意")]),t._v(" "),a("option",{attrs:{value:"3"}},[t._v("一般")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("不满意")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("非常不满意")])])])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("开始日期")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"startDate",id:"startTime",placeholder:"年-月-日",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("结束日期")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"endtDate",id:"endTime",placeholder:"年-月-日",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"test"}})])}]};var mt=a("VU/8")(ct,ut,!1,function(t){a("wJsD")},"data-v-7768fc7c",null).exports,dt={name:"Assistant",components:{Index:V},mounted:function(){this.getData()},data:function(){return{v:{custName:"",serviceArea:"",unitType:""},item:{count1:"1"}}},methods:{getData:function(){var t=this,e=sessionStorage.getItem("username");layui.use(["table","form"],function(){var a,i=layui.table,s=layui.form;s.on("submit(formDemo)",function(t){return layer.msg(Q()(t.field)),!1}),s.render(),i.render({elem:"#tableData",method:"post",height:"full-320",cellMinWidth:120,url:t.$url+"equipmentSituation",where:{username:e},page:!0,cols:[[{field:"id",title:"序号",sort:!0,type:"numbers",width:80},{field:"custArea",title:"客户名称"},{field:"serviceArea",title:"服务区域"},{field:"devName",title:"设备名称"},{field:"machCode",title:"机器编码"},{field:"unitType",title:"设备型号"},{field:"esNumber",title:"设备序列号"},{field:"location",title:"设备位置"},{field:"deviceBrand",title:"厂家"},{field:"installedTime",title:"安装日期",templet:"<div>{{layui.util.toDateString(d.installedTime,'yyyy-MM-dd')}}</div>"},{field:"khdz",title:"服务年限"},{field:"assetAttr",title:"设备归属"},{field:"bz",title:"备注"}]],id:"testReload",parseData:function(e){return t.item.count1=e.count,{code:e.code,count:e.count,data:e.data}}}),o.a.post(m+"equipmentSituation",u.a.stringify(v(a,d))).then(function(t){for(var e=t.data.data,a=[],i=0;i<e.length;i++)-1==a.indexOf(e[i].serviceArea)&&null!=e[i].serviceArea&&a.push(e[i].serviceArea);for(var l=0;l<a.length;l++)console.log(a[l]),$("#address").after("<option value='"+a[l]+'\'  v-model="v.serviceArea">'+a[l]+"</option>");s.render()}).catch(function(t){}),s.on("submit(formDome)",function(a){$(".layui-icon-close").click();a=a.field;i.reload("testReload",{url:t.$url+"equipmentSituation",method:"post",where:{custName:a.name,serviceArea:a.area,unitType:a.type,username:e},page:{curr:1}})})})},exportExcel:function(){this.$exportE("exportSituationEquipment")}},destroyed:function(){$(".layui-icon-close").click()}},vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"equipment"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>设备概况<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-filter":"formDome","lay-submit":""}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])]),t._v(" "),a("div",{staticClass:"labnum"},[a("label",[t._v("数量：  "+t._s(t.item.count1)+"  ")])])]),t._v(" "),t._m(1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("客户名称")]),t._v(" "),a("div",{staticClass:"layui-input-block allinput"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"name",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("服务区域")]),t._v(" "),a("div",{staticClass:"layui-input-block allinput"},[a("select",{attrs:{name:"area","lay-verify":""}},[a("option",{attrs:{value:"",id:"address"}})])])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("设备型号")]),t._v(" "),a("div",{staticClass:"layui-input-block allinput"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"type",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"tableData","lay-filter":"tableData"}})])}]};var ft=a("VU/8")(dt,vt,!1,function(t){a("4mtA")},"data-v-651b826d",null).exports,pt={name:"CustmorMsg",components:{Index:V},data:function(){return{flag:"1",item:"",formV:{custId:"39",custName:"",custAddr:"",linkMan:"",phone:"",workTime:"",offWorkTime:""},custNum:"",sub:!0,edit:!1,addShow:!1,serAr:!0}},mounted:function(){this.getData()},methods:{getData:function(){var t=sessionStorage.getItem("username"),e=this,a=sessionStorage.getItem("userRole");"总部客服"==a||"运维总监"==a?(this.edit=!1,this.serAr=!0):this.serAr=!1,layui.use(["form","table","layer","util"],function(){var i=layui.table,s=layui.layer,l=layui.form;i.render({elem:"#custMsg",height:"full-320",cellMinWidth:200,url:e.$url+"customerInfo",where:{username:t},cols:[[{field:"",title:"序号",fixed:"left",align:"center",width:80,type:"numbers"},{field:"custName",title:"客户名称",align:"center",fixed:"left",minWidth:280},{field:"custAddr",title:"客户地址",align:"center",minWidth:318},{field:"linkman",title:"联系人",align:"center",minWidth:220},{field:"phone",title:"联系电话",align:"center",minWidth:220},{field:"workTime",title:"上班时间",align:"center",minWidth:220,templet:function(t){return 0==t.workTime?"<span>08:00:00</span>":"<span>"+layui.util.toDateString(t.workTime).split(" ")[1]+"</span>"}},{field:"offWorkTime",title:"下班时间",align:"center",minWidth:220,templet:function(t){return 0==t.offWorkTime?"<span>08:00:00</span>":"<span>"+layui.util.toDateString(t.offWorkTime).split(" ")[1]+"</span>"}},{field:"czx",fixed:"right",title:"操作项",align:"center",width:140,templet:function(t){return e.isShow(t)}}]],page:!0,limit:20,id:"testReload",done:function(t){e.custNum=t.count,"运维助理"!=a&&"驻现场人员"!=a&&"客服经理"!=a&&$("[data-field='czx']").css("display","none")}}),e.$serviceArea(p),l.on("submit(formDome)",function(a){a=a.field;$(".layui-icon-close").click(),i.reload("testReload",{url:e.$url+"customerInfo",method:"post",where:{custName:a.username,serviceArea:a.serviceArea,username:t},page:{curr:1}})}),l.render(),i.on("tool(custMsg)",function(t){var a=t.data;if(console.log(t),"detail"==t.event)s.msg("ID："+a.custId+" 的查看操作");else if("del"===t.event){var l={custId:a.custId};s.confirm("确定删除信息吗",function(a){var n;(n=l,o.a.post(m+"deleteCust",u.a.stringify(v(n,d)))).then(function(l){0==l.data.code?(s.msg("删除成功",{icon:1}),t.del(),s.close(a),i.reload("testReload",{url:e.$url+"customerInfo"})):s.msg("删除失败",{icon:2})}).catch(function(t){})})}else if("edit"===t.event){e.sub=!1,console.log(t.data);var n=layui.util.toDateString(a.workTime).split(" ")[1],r=layui.util.toDateString(a.offWorkTime).split(" ")[1];s.open({type:1,title:"编辑",area:["60%","70%"],content:$(".sdd")}),e.formV.custId=a.custId,e.formV.custName=a.custName,e.formV.custAddr=a.custAddr,e.formV.linkMan=a.linkman,e.formV.phone=a.phone,e.formV.workTime=n,e.formV.offWorkTime=r,e.flag="edit"}})})},add:function(){var t=this;t.flag="add",layui.use(["form","table","layer"],function(){layui.table;var e=layui.layer;layui.form;t.formV.custName="",t.formV.custAddr="",t.formV.linkMan="",t.formV.phone="",t.formV.workTime="",t.formV.offWorkTime="",e.open({type:1,title:"新增",area:["60%","70%"],content:$(".sdd")})})},subMit:function(t){var e,a=this;"edit"==t?(e=this.formV,o.a.post(m+"updateCust",u.a.stringify(v(e,d)))).then(function(t){0==t.data.code?(a.$layerClose("test"),layer.msg(t.data.msg),a.getData()):1==t.data.code&&layer.msg(t.data.msg)}).catch(function(t){}):"add"==t&&(a.formV.custId&&a.formV.custName&&a.formV.custAddr&&a.formV.linkMan&&a.formV.phone?function(t){return o.a.post(m+"insertCust",u.a.stringify(v(t,d)))}(this.formV).then(function(t){0==t.data.code?(a.$layerClose("test"),a.$layerMsg("添加成功"),a.getData()):1==t.data.code&&layer.msg(t.data.msg)}).catch(function(t){}):a.$layerMsg("必填项不能为空"))},exportExcel:function(){this.$exportE("exportCustomerInfo")},reset:function(){this.formV.custName="",this.formV.custAddr="",this.formV.linkMan="",this.formV.phone="",this.formV.workTime="",this.formV.offWorkTime=""},showA:function(){var t=[this.$admin.ywzl,this.$admin.zxcry,this.$admin.kfzg,this.$admin.admin];console.log(t);for(var e=0,a=t.length;e<a;e++)t[e]==this.$userRole&&(this.addShow=!0)},isShow:function(){var t=this.$admin;return t.admin==this.$userRole||t.zxcry==this.$userRole||t.kfzg==this.$userRole||t.ywzl==this.$userRole?'<a class="layui-btn layui-btn-xs" v-show="editShow" lay-event="edit">编辑</a><a class="layui-btn layui-btn-danger layui-btn-xs" v-show="delShow" lay-event="del">删除</a>':'<a class="layui-btn layui-btn-xs noAdmin">'+this.$noAdmin+"</a>"}},created:function(){this.showA()},destroyed:function(){$(".layui-icon-close").click()}},yt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"custmorMsg"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>客户信息<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form"},[a("input",{staticClass:"dis-n",attrs:{type:"text"}}),t._v(" "),t._m(0),t._v(" "),t.serAr?a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("服务区域")]),t._v(" "),t._m(1)]):t._e(),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-filter":"formDome","lay-submit":""}},[t._v("查询")]),t._v(" "),t.addShow?a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.add()}}},[t._v("新增")]):t._e(),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])]),t._v(" "),a("div",{staticClass:"labnum"},[a("label",[t._v("客户数量：  "+t._s(t.custNum)+"  ")])])]),t._v(" "),t._m(2)]),t._v(" "),a("div",{staticClass:"dis-n sdd",attrs:{id:"increased"}},[a("form",{staticClass:"layui-form",attrs:{action:"","lay-filter":"example"}},[a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(3),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.custName,expression:"formV.custName"}],staticClass:"layui-input",attrs:{type:"text",name:"custName","lay-verify":"required",autocomplete:"off"},domProps:{value:t.formV.custName},on:{input:function(e){e.target.composing||t.$set(t.formV,"custName",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.custId,expression:"formV.custId"}],staticClass:"layui-input",attrs:{type:"hidden",name:"custId"},domProps:{value:t.formV.custId},on:{input:function(e){e.target.composing||t.$set(t.formV,"custId",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(4),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.custAddr,expression:"formV.custAddr"}],staticClass:"layui-input",attrs:{type:"text",name:"custAddr","lay-verify":"required",autocomplete:"off"},domProps:{value:t.formV.custAddr},on:{input:function(e){e.target.composing||t.$set(t.formV,"custAddr",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(5),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.linkMan,expression:"formV.linkMan"}],staticClass:"layui-input",attrs:{type:"text",name:"linkMan","lay-verify":"required",autocomplete:"off"},domProps:{value:t.formV.linkMan},on:{input:function(e){e.target.composing||t.$set(t.formV,"linkMan",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(6),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.phone,expression:"formV.phone"}],staticClass:"layui-input",attrs:{type:"text",name:"phone","lay-verify":"required",autocomplete:"off"},domProps:{value:t.formV.phone},on:{input:function(e){e.target.composing||t.$set(t.formV,"phone",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label winLabW"},[t._v("上班时间：")]),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.workTime,expression:"formV.workTime"}],staticClass:"layui-input",attrs:{type:"text",name:"workTime",placeholder:"00:00:00",autocomplete:"off"},domProps:{value:t.formV.workTime},on:{input:function(e){e.target.composing||t.$set(t.formV,"workTime",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label winLabW"},[t._v("下班时间：")]),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.offWorkTime,expression:"formV.offWorkTime"}],staticClass:"layui-input",attrs:{type:"text",name:"offWorkTime",placeholder:"00:00:00",autocomplete:"off"},domProps:{value:t.formV.offWorkTime},on:{input:function(e){e.target.composing||t.$set(t.formV,"offWorkTime",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.subMit(t.flag)}}},[t._v("提交")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("客户名称")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input allinput",attrs:{type:"text",name:"username",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-input-inline"},[e("select",{attrs:{name:"serviceArea","lay-verify":""}},[e("option",{attrs:{value:"",id:"address"}},[this._v("请选择")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{staticClass:"layui-hide",attrs:{id:"custMsg","lay-filter":"custMsg"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label winLabW"},[e("span",[this._v("*")]),this._v("客户名称：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label winLabW"},[e("span",[this._v("*")]),this._v("客户地址：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label winLabW"},[e("span",[this._v("*")]),this._v("联系人：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label winLabW"},[e("span",[this._v("*")]),this._v("联系电话：")])}]};var ht=a("VU/8")(pt,yt,!1,function(t){a("mqrV")},"data-v-1d8c5434",null).exports,_t={name:"Calendar",components:{Index:V},data:function(){return{item:"",formV:{staffId:"",name:"",jobState:"",startDate:"",endDate:"",reson:"",addShow:"",calendarData:""}}},mounted:function(){this.getData()},methods:{getData:function(){var t,e=this;o.a.post(m+"getCalendar",u.a.stringify(v(t,d))).then(function(t){console.log(t.data.data),e.calendarData=t.data.data}).catch(function(t){});sessionStorage.getItem("username");layui.use(["table","laydate","form"],function(){layui.table,layui.form;layui.laydate.render({elem:"#calendarDate",position:"static",ready:function(t){},change:function(t,e){lay("#testView").html(t)},showBottom:!1,theme:"molv",mark:{"2019-02-04":"除夕","2019-02-05":"春节","2019-02-06":"","2019-02-07":"","2019-02-08":"","2019-02-09":"","2019-02-10":"","2019-04-04":"","2019-04-05":"清明节","2019-04-06":"","2019-05-01":"劳动节","2019-05-02":"","2019-05-03":"","2019-05-04":"","2019-06-07":"端午节","2019-06-08":"","2019-06-09":"","2019-09-13":"中秋节","2019-09-14":"","2019-09-15":"","2019-10-01":"国庆节","2019-10-02":"","2019-10-03":"","2019-10-04":"","2019-10-05":"","2019-10-06":"","2019-10-07":""},done:function(t,e){console.log(t),console.log(e),"2019-05-02"==t&&console.log($("this"))}})})}},created:function(){},destroyed:function(){}},bt={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"calendar"}},[e("div",{staticClass:"body"},[e("div",{staticClass:"titleLab"},[this._v(">>工作日历<<")]),this._v(" "),e("div",{staticClass:"abovebtn"},[e("div",{attrs:{id:"calendarDate"}})])])])}]};var gt=a("VU/8")(_t,bt,!1,function(t){a("NF3Q")},"data-v-9c6d38be",null).exports,Ct={name:"Assistant",components:{Index:V},data:function(){return{formV:{staffId:"",staffName:"",serviceArea:"",role:"",phoneNumber:"",secret:!1,secretLevel:""},issecret:"",item:"",flag:"1",number:{count:""},addShow:!1,serArea:[],limita:0}},mounted:function(){this.getData()},watch:{},methods:{wac:function(t){"true"==t?(this.issecret=!0,this.formV.secretLevel=1):(this.issecret=!1,this.formV.secretLevel=!1),console.log(this.formV.secret),console.log(this.formV.secretLevel)},getData:function(){var t=this,e=sessionStorage.getItem("username"),a=sessionStorage.getItem("userRole");layui.use(["table","form"],function(){var i=layui.table,s=layui.form;s.render(),i.render({elem:"#demo",height:"full-320",cellMinWidth:180,url:t.$url+"userManageInfo",method:"post",where:{username:e},page:!0,limit:20,cols:[[{field:"staffId",title:"员工编号"},{field:"compName",title:"服务区域",minWidth:277},{field:"name",title:"姓名"},{field:"phone",title:"电话"},{field:"post",title:"角色"},{field:"secret",title:"是否涉密"},{field:"secretLevel",title:"涉密等级"},,{field:"createDate",title:"创建时间",templet:function(t){return null==t.createDate?"":"<div>"+layui.util.toDateString(t.createDate,"yyyy-MM-dd")+"</div>"}},{field:"czx",fixed:"right",title:"操作项",width:130,templet:function(e){return t.isShow(e)}}]],id:"test",done:function(e){t.number.count=e.count,console.log(e),"运维助理"!=a&&"驻现场人员"!=a&&"总部客服"!=a&&"客服经理"!=a&&$("[data-field='czx']").css("display","none")}}),t.$serviceArea(p),s.on("submit(formDome)",function(a){a=a.field;$(".layui-icon-close").click(),i.reload("test",{url:t.$url+"userManageInfo",method:"post",where:{name:a.name,branceName:a.branceName,role:a.role,username:e},page:{curr:1}})}),i.on("tool(demo)",function(e){var a=e.data;if("del"==e.event){var i={staffId:a.staffId};layer.confirm("确定删除员工信息吗?",function(a){var s;(s=i,o.a.post(m+"deleteStaff",u.a.stringify(v(s,d)))).then(function(i){0==i.data.code?(layer.msg("删除成功",{icon:1}),e.del(),layer.close(a),t.getData()):layer.msg("删除失败",{icon:2})}).catch(function(t){})})}else if("edit"===e.event){layer.open({type:1,title:"编辑",area:["60%","70%"],content:$(".sdd")});var s={username:sessionStorage.getItem("username")};p(s).then(function(e){e.data.data;t.serArea=e.data.data}).catch(function(t){}),t.flag="edit",t.formV.staffId=a.staffId,t.formV.staffName=a.name,t.formV.serviceArea=a.compName,$("#sel").val=a.compName,t.formV.role=a.post,t.formV.phoneNumber=a.phone,"是"===a.secret?(t.formV.secret=!0,t.issecret=!0):(t.formV.secret=!1,t.issecret=!1),"秘密"==a.secretLevel?t.formV.secretLevel=1:"机密"==a.secretLevel?t.formV.secretLevel=2:"绝密"==a.secretLevel?t.formV.secretLevel=3:t.formV.secretLevel=!1,this.flag="edit"}})})},add:function(){var t=this;t.flag="add",t.formV.staffId="",t.formV.staffName="",t.formV.serviceArea="",t.formV.role="",t.formV.phoneNumber="",t.formV.secret=!1,t.issecret=!1,t.formV.secretLevel=!0;var e={username:sessionStorage.getItem("username")};return p(e).then(function(e){e.data.data;t.serArea=e.data.data}).catch(function(t){}),layui.use(["form","table","layer"],function(){layui.table;var t=layui.layer;layui.form;t.open({type:1,title:"添加",area:["60%","70%"],content:$(".sdd")})}),!1},subMit:function(t){var e,a=this;return"edit"==t?(e=this.formV,o.a.post(m+"updateStaff",u.a.stringify(v(e,d)))).then(function(t){0==t.data.code?(a.$layerClose("test"),a.$layerMsg("修改成功")):1==t.data.code&&a.$layerMsg(t.data.msg)}).catch(function(t){}):"add"==t&&(console.log(a.formV),""==a.formV.staffId?a.$layerMsg("员工编号不能为空"):/^\XW\d{4}/.test(a.formV.staffId)?function(t){return o.a.post(m+"doAddManager",u.a.stringify(v(t,d)))}(this.formV).then(function(t){0==t.data.code?(a.$layerClose("test"),a.$layerMsg("添加成功"),a.getData()):1==t.data.code&&a.$layerMsg(t.data.msg)}).catch(function(t){}):(a.$layerMsg("员工编号格式不正确"),a.formV.staffId="")),!1},reset:function(){for(var t in this.formV)this.formV[t]=""},exportExcel:function(){this.$exportE("exportStaff")},showA:function(){var t=[this.$admin.ywzl,this.$admin.zxcry,this.$admin.kfzg,this.$admin.zbkf,this.$admin.admin];console.log(t);for(var e=0,a=t.length;e<a;e++)t[e]==this.$userRole&&(this.addShow=!0)},isShow:function(){var t=this.$admin;return t.zbkf==this.$userRole||t.admin==this.$userRole||t.zxcry==this.$userRole||t.kfzg==this.$userRole||t.ywzl==this.$userRole?'<a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a><a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>':'<a class="layui-btn layui-btn-xs noAdmin">'+this.$noAdmin+"</a>"}},created:function(){this.showA()},destroyed:function(){$(".layui-icon-close").click()}},wt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>员工信息<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-filter":"formDome","lay-submit":""}},[t._v("查询")]),t._v(" "),t.addShow?a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.add()}}},[t._v("新增")]):t._e(),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])]),t._v(" "),a("div",{staticClass:"labnum"},[a("label",[t._v("总数：  "+t._s(t.number.count)+"  ")])])]),t._v(" "),t._m(3),t._v(" "),a("script",{attrs:{type:"text/html",id:"barDemo"}},[t._v('\n                \x3c!-- <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>\n                <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a> --\x3e\n            ')])]),t._v(" "),a("div",{staticClass:"dis-n sdd",attrs:{id:"increased"}},[a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline",staticStyle:{"margin-top":"20px"}},[t._m(4),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.staffId,expression:"formV.staffId"}],staticClass:"layui-input",attrs:{type:"text",placeholder:"员工编号例:XW0000","lay-verify":"staffId",autocomplete:"off"},domProps:{value:t.formV.staffId},on:{input:function(e){e.target.composing||t.$set(t.formV,"staffId",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(5),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.staffName,expression:"formV.staffName"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"staffName",autocomplete:"off"},domProps:{value:t.formV.staffName},on:{input:function(e){e.target.composing||t.$set(t.formV,"staffName",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(6),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.phoneNumber,expression:"formV.phoneNumber"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"newLink",autocomplete:"off"},domProps:{value:t.formV.phoneNumber},on:{input:function(e){e.target.composing||t.$set(t.formV,"phoneNumber",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(7),t._v(" "),a("div",{staticClass:"layui-input-block allinput"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formV.serviceArea,expression:"formV.serviceArea"}],staticClass:"allinput",attrs:{"lay-search":"",id:"sel"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formV,"serviceArea",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",id:"serArea"}},[t._v("请选择")]),t._v(" "),t._l(t.serArea,function(e){return a("option",{domProps:{value:e.compName}},[t._v(t._s(e.compName))])})],2)])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(8),t._v(" "),a("div",{staticClass:"layui-input-block allinput"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formV.role,expression:"formV.role"}],staticClass:"allinput",attrs:{"lay-search":""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formV,"role",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"运维经理"}},[t._v("运维经理")]),t._v(" "),a("option",{attrs:{value:"技术主管"}},[t._v("技术主管")]),t._v(" "),a("option",{attrs:{value:"总部客服"}},[t._v("总部客服")]),t._v(" "),a("option",{attrs:{value:"工程师"}},[t._v("工程师")]),t._v(" "),a("option",{attrs:{value:"驻现场人员"}},[t._v("驻现场人员")]),t._v(" "),a("option",{attrs:{value:"运维助理"}},[t._v("运维助理")]),t._v(" "),a("option",{attrs:{value:"客服经理"}},[t._v("客服经理")]),t._v(" "),a("option",{attrs:{value:"运维总监"}},[t._v("运维总监")])])])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(9),t._v(" "),a("div",{staticClass:"layui-input-block selHeight"},[a("label",[t._v("是")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.secret,expression:"formV.secret"}],attrs:{type:"radio",name:"a",value:"true"},domProps:{checked:t._q(t.formV.secret,"true")},on:{click:function(e){t.wac("true")},change:function(e){t.$set(t.formV,"secret","true")}}}),t._v(" "),a("label",[t._v("否")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.secret,expression:"formV.secret"}],attrs:{type:"radio",name:"a",value:"false"},domProps:{checked:t._q(t.formV.secret,"false")},on:{click:function(e){t.wac("false")},change:function(e){t.$set(t.formV,"secret","false")}}})])])]),t._v(" "),t.issecret?a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(10),t._v(" "),a("div",{staticClass:"layui-input-block selHeight"},[a("label",[t._v("秘密")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.secretLevel,expression:"formV.secretLevel"}],attrs:{type:"radio",name:"b",value:"1"},domProps:{checked:t._q(t.formV.secretLevel,"1")},on:{change:function(e){t.$set(t.formV,"secretLevel","1")}}}),t._v(" "),a("label",[t._v("机密")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.secretLevel,expression:"formV.secretLevel"}],attrs:{type:"radio",name:"b",value:"2"},domProps:{checked:t._q(t.formV.secretLevel,"2")},on:{change:function(e){t.$set(t.formV,"secretLevel","2")}}}),t._v(" "),a("label",[t._v("绝密")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.secretLevel,expression:"formV.secretLevel"}],attrs:{type:"radio",name:"b",value:"3"},domProps:{checked:t._q(t.formV.secretLevel,"3")},on:{change:function(e){t.$set(t.formV,"secretLevel","3")}}})])])]):t._e(),t._v(" "),a("div",{staticClass:"layui-form-item btn"},[a("button",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.subMit(t.flag)}}},[t._v("提交")]),t._v(" "),a("button",{staticClass:"layui-btn layui-bg-blue dis-n",on:{click:function(e){t.reset()}}},[t._v("重置")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("服务区域")]),this._v(" "),e("div",{staticClass:"layui-input-block allinput"},[e("select",{attrs:{name:"branceName","lay-verify":""}},[e("option",{attrs:{value:"",id:"address"}},[this._v("请选择")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("姓名")]),this._v(" "),e("div",{staticClass:"layui-input-block allinput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"name","lay-verify":"name",autocomplete:"off"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("角色")]),t._v(" "),a("div",{staticClass:"layui-input-block allinput"},[a("select",{attrs:{name:"role","lay-verify":"role","lay-search":""}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"运维经理"}},[t._v("运维经理")]),t._v(" "),a("option",{attrs:{value:"技术主管"}},[t._v("技术主管")]),t._v(" "),a("option",{attrs:{value:"总部客服"}},[t._v("总部客服")]),t._v(" "),a("option",{attrs:{value:"工程师"}},[t._v("工程师")]),t._v(" "),a("option",{attrs:{value:"驻现场人员"}},[t._v("驻现场人员")]),t._v(" "),a("option",{attrs:{value:"运维助理"}},[t._v("运维助理")]),t._v(" "),a("option",{attrs:{value:"客服经理"}},[t._v("客服经理")]),t._v(" "),a("option",{attrs:{value:"运维总监"}},[t._v("运维总监")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label"},[e("span",[this._v("*")]),this._v("员工编号：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label"},[e("span",[this._v("*")]),this._v("姓名：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label"},[e("span",[this._v("*")]),this._v("电话：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label"},[e("span",[this._v("*")]),this._v("服务区域：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label"},[e("span",[this._v("*")]),this._v("角色：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label"},[e("span",[this._v("*")]),this._v("涉密资质：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label"},[e("span",[this._v("*")]),this._v("涉密等级：")])}]};var Vt=a("VU/8")(Ct,wt,!1,function(t){a("IYVb")},"data-v-8967682a",null).exports,xt={name:"ContractMsg",components:{Index:V},data:function(){var t;return{issecret:!1,formV:(t={ID:"",custName:"",custAddr:"",signingCompany:""},S()(t,"custAddr",""),S()(t,"custLinkman",""),S()(t,"linkmanPhone",""),S()(t,"mainService",""),S()(t,"childService",""),S()(t,"contractNo",""),S()(t,"regTime",""),S()(t,"handlingDepartment",""),S()(t,"agent",""),S()(t,"contractHoldman",""),S()(t,"startDate",""),S()(t,"endDate",""),S()(t,"contractType",""),S()(t,"contractNature",""),S()(t,"openingBank",""),S()(t,"bankAccount",""),S()(t,"taxIden",""),t),assetClass:"",assetAttr:"",assetNumber:"",deviceType:"",unitType:"",devNumber:"",formVa:{contractNo:"",machCode:"",secret:!1,secretLevel:"",responsibleEngineerID:"",reserveEnginnerID:"",department:"",location:"",serviceLevel:"",IP:"",bwReader:"",colorReader:"",installedTime:""},number:{count:"",count2:"",count3:"",count4:""},addShow:!1,custname:"",custaddr:"",linkman:"",linkmanTel:"",serArea:[],serviceArea:"",custNames:"",contractNature:"",woStatus:""}},mounted:function(){var t=this.$route.params.woStatus;this.getData(t)},methods:{wac:function(t){"true"==t?(this.issecret=!0,this.formVa.secretLevel=1):(this.issecret=!1,this.formVa.secretLevel=!1)},selectDeviceF:function(){var t,e=this,a=this,i={machCode:a.formVa.machCode};(t=i,o.a.post(m+"selectDevice",u.a.stringify(v(t,d)))).then(function(t){if(0==t.data.code){if("是"==t.data.data.sercet){var i=!0;a.wac(i)}else if("否"==t.data.data.sercet){i=!1;a.wac(i)}console.log(i),a.assetAttr=t.data.data.assetAttr,a.assetClass=t.data.data.assetClass,a.assetNumber=t.data.data.assetNumber,a.deviceType=t.data.data.deviceType,a.unitType=t.data.data.unitType,a.formVa.secret=i,a.formVa.secretLevel=t.data.data.secretLevel,a.formVa.serviceLevel=t.data.data.serviceLevel,a.formVa.responsibleEngineerID=t.data.data.responsibleEngineerID,a.formVa.reserveEnginnerID=t.data.data.reserveEnginnerID,a.formVa.department=t.data.data.department,a.formVa.IP=t.data.data.ip,a.formVa.location=t.data.data.location,a.formVa.bwReader=t.data.data.bwReader,a.formVa.colorReader=t.data.data.coReader,a.formVa.installedTime=t.data.data.installedTime,1==a.formVa.secret?(e.issecret=!0,e.formVa.secretLevel=1):0==a.formVa.secret&&(e.issecret=!1,e.formVa.secretLevel=!1)}else a.$layerMsg(t.data.msg),a.assetAttr="",a.assetClass="",a.assetNumber="",a.deviceType="",a.unitType=""}).catch(function(t){})},getData:function(t){var e=this,a=sessionStorage.getItem("username"),i=sessionStorage.getItem("userRole");layui.use(["table","form","util","laydate","jquery"],function(){var s=layui.$,l=layui.table,n=layui.form,r=layui.laydate;r.render({elem:"#dateD"}),r.render({elem:"#dateS",trigger:"click",isInitValue:!1}),r.render({elem:"#dateE",trigger:"click",isInitValue:!1}),r.render({elem:"#insDate"}),n.render(),l.render({elem:"#demo",height:"full-300",cellMinWidth:120,url:e.$url+"contractManage",where:{username:a,woStatus:t},page:!0,limit:20,cols:[[{field:"id",title:"序号",type:"numbers",width:80,fixed:"left"},{field:"custName",title:"客户名称",width:180,fixed:"left"},{field:"mainService",title:"主服务区域",minWidth:180},{field:"childService",title:"分服务区域",minWidth:180},{field:"contractNo",title:"合同编码",minWidth:160},{field:"contractType",title:"合同类型"},{field:"contractNature",title:"合同性质"},{field:"startDate",title:"签约日期",templet:"<div>{{layui.util.toDateString(d.startDate,'yyyy-MM-dd')}}</div>"},{field:"endDate",title:"到期时间",templet:"<div>{{layui.util.toDateString(d.endDate,'yyyy-MM-dd')}}</div>"},{field:"regTime",title:"登记时间",templet:function(t){return null==t.regTime?"":"<div>"+layui.util.toDateString(t.regTime,"yyyy-MM-dd")+"</div>"}},{field:"contractDeadline",title:"合同期限(月)",templet:function(t){return"<div>"+Math.round(t.contractDeadline)+"</div>"}},{field:"dueDays",title:"离到期天数",sort:!0,templet:function(t){return(e=t.dueDays)<"185"?'<span style="color: #f00">'+e+"</span>":"<span>"+e+"</span>";var e}},{field:"czx",fixed:"right",title:"操作项",width:200,templet:function(t){return e.isShow(t)}}]],id:"test",done:function(t){e.number.count=t.count,e.number.count2=t.count2,e.number.count3=t.count3,e.number.count4=t.count4,console.log(t),"驻现场人员"!=i&&"运维助理"!=i&&"客服经理"!=i&&s("[data-field='czx']").css("display","none")}}),e.$serviceArea(p),l.on("sort(demo)",function(t){console.log(t.field),console.log(t.type),console.log(this),l.reload("test",{initSort:t,url:e.$url+"contractManage",where:{field:t.field,order:t.type,serviceArea:e.serviceArea,custName:e.custNames,contractNature:e.contractNature,username:a,woStatus:e.woStatus}})}),n.on("submit(formDemo2)",function(t){var a,i,l=(a={custName:(t=t.field).custName,custAddr:t.custAddr,signingCompany:t.signingCompany},S()(a,"custAddr",t.custAddr),S()(a,"custLinkman",t.custLinkman),S()(a,"linkmanPhone",t.linkmanPhone),S()(a,"mainService",t.mainService),S()(a,"childService",t.childService),S()(a,"contractNo",t.contractNo),S()(a,"regTime",t.regTime),S()(a,"handlingDepartment",t.handlingDepartment),S()(a,"agent",t.agent),S()(a,"contractHoldman",t.contractHoldman),S()(a,"startDate",t.startDate),S()(a,"endDate",t.endDate),S()(a,"contractType",t.contractType),S()(a,"contractNature",t.contractNature),S()(a,"openingBank",t.openingBank),S()(a,"bankAccount",t.bankAccount),S()(a,"taxIden",t.taxIden),a);return console.log(l),"add"==e.flag&&(i=l,o.a.post(m+"doAddContract",u.a.stringify(v(i,d)))).then(function(t){0==t.data.code?(s("#resetA").click(),e.$layerClose("test"),e.$layerMsg("添加成功"),e.custaddr="",e.custname="",e.linkmanTel="",e.linkmam="",s("#resetA").click()):e.$layerMsg(t.data.msg)}).catch(function(t){}),!1}),s(".layui-layer-close1").on("click",function(){s("#resetA").click(),console.log("jjjj")}),l.on("tool(demo)",function(t){var a=t.data;if("edit"==t.event){var i={username:sessionStorage.getItem("username")};if(p(i).then(function(t){e.serArea=t.data.data}).catch(function(t){}),null==a.regTime)var l="";else l=e.$date(a.regTime);e.flag="edit",e.formV.ID=a.id,e.formV.custName=a.custName,e.formV.custAddr=a.address,e.formV.signingCompany=a.signingCompany,e.formV.custLinkman=a.custLinkman,e.formV.linkmanPhone=a.linkmanPhone,e.formV.mainService=a.mainService,e.formV.childService=a.childService,e.formV.contractNo=a.contractNo,e.formV.regTime=l,e.formV.handlingDepartment=a.handlingDepartment,e.formV.agent=a.agent,e.formV.contractHoldman=a.contractHoldman,e.formV.startDate=e.$date(a.startDate),e.formV.endDate=e.$date(a.endDate),e.formV.contractType=a.contractType,e.formV.contractNature=a.contractNature,e.formV.openingBank=a.openingBank,e.formV.bankAccount=a.bankAccount,e.formV.taxIden=a.taxIden,layer.open({type:1,title:"修改",area:["700px","500px"],content:s(".sdd2")})}else"add"==t.event&&(e.formVa.contractNo=a.contractNo,e.formVa.machCode="",e.assetAttr="",e.assetClass="",e.assetNumber="",e.deviceType="",e.unitType="",e.formVa.secret="",e.formVa.secretLevel="",e.formVa.serviceLevel="",e.formVa.responsibleEngineerID="",e.formVa.reserveEnginnerID="",e.formVa.department="",e.formVa.IP="",e.formVa.location="",e.formVa.bwReader="",e.formVa.colorReader="",e.formVa.installedTime="",layer.open({type:1,title:"绑定设备信息",area:["700px","500px"],content:s(".sdd3")}))}),n.on("submit(formDemo3)",function(t){var a;return"edit"==e.flag&&(a=e.formV,o.a.post(m+"changeContract",u.a.stringify(v(a,d)))).then(function(t){0==t.data.code?(e.$layerClose("test"),e.$layerMsg("修改成功")):e.$layerMsg(t.data.msg)}).catch(function(t){}),!1})})},custNameArr:function(){var t,e=this,a={custName:this.custname};(t=a,o.a.post(m+"selectCustByName",u.a.stringify(v(t,d)))).then(function(t){1==t.data.code?(e.custaddr=t.data.data.custAddr,e.linkman=t.data.data.linkman,e.linkmanTel=t.data.data.custCall):that.$layerMsg(t.data.msg)}).catch(function(t){})},selectAll:function(){var t=this;sessionStorage.getItem("userRole");$(".layui-icon-close").click(),layui.use(["form","table","layer","util"],function(){var e=layui.table;layui.layer;layui.form.on("submit(formDemo)",function(a){var i=a.field.serviceArea,s=a.field.custName,l=a.field.contractNature,n=sessionStorage.getItem("username");t.serviceArea=i,t.custNames=s,t.contractNature=l,t.woStatus="",e.reload("test",{url:t.$url+"contractManage",where:{serviceArea:i,custName:s,contractNature:l,username:n,woStatus:""},page:{curr:1}})})})},add:function(){this.flag="add",layui.use(["form","table","layer","util"],function(){layui.table;var t=layui.layer,e=layui.form;t.open({type:1,title:"新增合同",area:["700px","500px"],content:$(".sdd")});var a={username:sessionStorage.getItem("username")};p(a).then(function(t){for(var a=t.data.data,i=[],s=0;s<a.length;s++)-1==i.indexOf(a[s].compName)&&i.push(a[s].compName);for(var l=0;l<i.length;l++)$("#addmainSer").after("<option value='"+i[l]+'\' id="">'+i[l]+"</option>"),$("#addchildSer").after("<option value='"+i[l]+'\' id="">'+i[l]+"</option>");e.render()}).catch(function(t){})})},subMit:function(){var t,e=this;(t=e.formVa,o.a.post(m+"deviceBindingContract",u.a.stringify(v(t,d)))).then(function(t){0==t.data.code?(e.$layerClose("test"),e.$layerMsg("绑定成功")):e.$layerMsg(t.data.msg)}).catch(function(t){})},exportExcel:function(){this.$exportE("exportContractManage")},showA:function(){for(var t=[this.$admin.ywzl,this.$admin.zxcry,this.$admin.kfzg,this.$admin.admin],e=0,a=t.length;e<a;e++)t[e]==this.$userRole&&(this.addShow=!0)},isShow:function(){var t=this.$admin;return t.admin==this.$userRole||t.zxcry==this.$userRole||t.kfjl==this.$userRole||t.ywzl==this.$userRole?'<a class="layui-btn layui-btn-xs" lay-event="add">绑定设备信息</a><a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="edit">修改</a>':'<a class="layui-btn layui-btn-xs noAdmin">'+this.$noAdmin+"</a>"}},created:function(){this.showA()},destroyed:function(){$(".layui-icon-close").click()}},kt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>合同管理<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDemo"},on:{click:function(e){t.selectAll()}}},[t._v("查询")]),t._v(" "),t.addShow?a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.add()}}},[t._v("新增合同")]):t._e(),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])]),t._v(" "),a("div",{staticClass:"labnum"},[a("label",[t._v("合同总数：  "+t._s(t.number.count)+"  ")]),t._v(" "),a("label",[t._v("即将到期合同：  "),a("span",[t._v(t._s(t.number.count2))]),t._v("  ")]),t._v(" "),a("label",[t._v("已到期合同：  "),a("span",[t._v(t._s(t.number.count3))]),t._v("  ")]),t._v(" "),a("label",[t._v("续期合同：  "+t._s(t.number.count4)+"  ")])])]),t._v(" "),t._m(3),t._v(" "),a("script",{attrs:{type:"text/html",id:"barDemo"}},[t._v('\n                \x3c!-- <a class="layui-btn layui-btn-xs" lay-event="add">绑定设备信息</a>\n                <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="edit">修改</a> --\x3e\n            ')])]),t._v(" "),a("div",{staticClass:"dis-n sdd"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(4),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.custname,expression:"custname"}],staticClass:"layui-input",attrs:{type:"text",name:"custName","lay-verify":"",autocomplete:"off"},domProps:{value:t.custname},on:{blur:t.custNameArr,input:function(e){e.target.composing||(t.custname=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(5),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.custaddr,expression:"custaddr"}],staticClass:"layui-input",attrs:{type:"text",name:"custAddr","lay-verify":"",autocomplete:"off"},domProps:{value:t.custaddr},on:{input:function(e){e.target.composing||(t.custaddr=e.target.value)}}})])])]),t._v(" "),t._m(6),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(7),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.linkman,expression:"linkman"}],staticClass:"layui-input",attrs:{type:"text",name:"custLinkman","lay-verify":"",autocomplete:"off"},domProps:{value:t.linkman},on:{input:function(e){e.target.composing||(t.linkman=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(8),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.linkmanTel,expression:"linkmanTel"}],staticClass:"layui-input",attrs:{type:"text",name:"linkmanPhone","lay-verify":"",autocomplete:"off"},domProps:{value:t.linkmanTel},on:{input:function(e){e.target.composing||(t.linkmanTel=e.target.value)}}})])])]),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23)])]),t._v(" "),a("div",{staticClass:"dis-n sdd2"},[a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(24),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.custName,expression:"formV.custName"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",autocomplete:"off"},domProps:{value:t.formV.custName},on:{input:function(e){e.target.composing||t.$set(t.formV,"custName",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.ID,expression:"formV.ID"}],staticClass:"layui-input",attrs:{type:"hidden"},domProps:{value:t.formV.ID},on:{input:function(e){e.target.composing||t.$set(t.formV,"ID",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(25),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.custAddr,expression:"formV.custAddr"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",autocomplete:"off"},domProps:{value:t.formV.custAddr},on:{input:function(e){e.target.composing||t.$set(t.formV,"custAddr",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(26),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.signingCompany,expression:"formV.signingCompany"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",autocomplete:"off"},domProps:{value:t.formV.signingCompany},on:{input:function(e){e.target.composing||t.$set(t.formV,"signingCompany",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(27),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.custLinkman,expression:"formV.custLinkman"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",autocomplete:"off"},domProps:{value:t.formV.custLinkman},on:{input:function(e){e.target.composing||t.$set(t.formV,"custLinkman",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(28),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.linkmanPhone,expression:"formV.linkmanPhone"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",autocomplete:"off"},domProps:{value:t.formV.linkmanPhone},on:{input:function(e){e.target.composing||t.$set(t.formV,"linkmanPhone",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(29),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formV.mainService,expression:"formV.mainService"}],staticClass:"selinput",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formV,"mainService",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",id:""}},[t._v("请选择")]),t._v(" "),t._l(t.serArea,function(e){return a("option",{domProps:{value:e.compName}},[t._v(t._s(e.compName))])})],2)])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(30),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formV.childService,expression:"formV.childService"}],staticClass:"selinput",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formV,"childService",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",id:"exidchildSer"}},[t._v("请选择")]),t._v(" "),t._l(t.serArea,function(e){return a("option",{domProps:{value:e.compName}},[t._v(t._s(e.compName))])})],2)])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(31),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.contractNo,expression:"formV.contractNo"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",autocomplete:"off"},domProps:{value:t.formV.contractNo},on:{input:function(e){e.target.composing||t.$set(t.formV,"contractNo",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[t._v("登记时间：")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.regTime,expression:"formV.regTime"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",autocomplete:"off",placeholder:"2019-01-01"},domProps:{value:t.formV.regTime},on:{input:function(e){e.target.composing||t.$set(t.formV,"regTime",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[t._v("经办部门：")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.handlingDepartment,expression:"formV.handlingDepartment"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",autocomplete:"off"},domProps:{value:t.formV.handlingDepartment},on:{input:function(e){e.target.composing||t.$set(t.formV,"handlingDepartment",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[t._v("经办人：")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.agent,expression:"formV.agent"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",autocomplete:"off"},domProps:{value:t.formV.agent},on:{input:function(e){e.target.composing||t.$set(t.formV,"agent",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[t._v("合同保管人：")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.contractHoldman,expression:"formV.contractHoldman"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",autocomplete:"off"},domProps:{value:t.formV.contractHoldman},on:{input:function(e){e.target.composing||t.$set(t.formV,"contractHoldman",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(32),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.startDate,expression:"formV.startDate"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",autocomplete:"off"},domProps:{value:t.formV.startDate},on:{input:function(e){e.target.composing||t.$set(t.formV,"startDate",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(33),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.endDate,expression:"formV.endDate"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",autocomplete:"off"},domProps:{value:t.formV.endDate},on:{input:function(e){e.target.composing||t.$set(t.formV,"endDate",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[t._v("合同类型：")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formV.contractType,expression:"formV.contractType"}],staticClass:"selinput",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formV,"contractType",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"卖机抄表服务"}},[t._v("卖机抄表服务")]),t._v(" "),a("option",{attrs:{value:"客融抄表服务"}},[t._v("客融抄表服务")]),t._v(" "),a("option",{attrs:{value:"融资抄表服务"}},[t._v("融资抄表服务")]),t._v(" "),a("option",{attrs:{value:"带机抄表服务"}},[t._v("带机抄表服务")]),t._v(" "),a("option",{attrs:{value:"客机抄表服务"}},[t._v("客机抄表服务")]),t._v(" "),a("option",{attrs:{value:"外包抄表服务"}},[t._v("外包抄表服务")]),t._v(" "),a("option",{attrs:{value:"其他"}},[t._v("其他")])])])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(34),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formV.contractNature,expression:"formV.contractNature"}],staticClass:"selinput",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formV,"contractNature",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"MPS服务合同"}},[t._v("MPS服务合同")]),t._v(" "),a("option",{attrs:{value:"传统服务合同"}},[t._v("传统服务合同")])])])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[t._v("开户行：")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.openingBank,expression:"formV.openingBank"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",autocomplete:"off"},domProps:{value:t.formV.openingBank},on:{input:function(e){e.target.composing||t.$set(t.formV,"openingBank",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[t._v("账号：")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.bankAccount,expression:"formV.bankAccount"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",autocomplete:"off"},domProps:{value:t.formV.bankAccount},on:{input:function(e){e.target.composing||t.$set(t.formV,"bankAccount",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[t._v("纳税人识别号：")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.taxIden,expression:"formV.taxIden"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",autocomplete:"off"},domProps:{value:t.formV.taxIden},on:{input:function(e){e.target.composing||t.$set(t.formV,"taxIden",e.target.value)}}})])])]),t._v(" "),t._m(35)]),t._v(" "),a("div",{staticClass:"dis-n sdd3"},[a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(36),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.machCode,expression:"formVa.machCode"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"newAddress",autocomplete:"off"},domProps:{value:t.formVa.machCode},on:{blur:function(e){t.selectDeviceF()},input:function(e){e.target.composing||t.$set(t.formVa,"machCode",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(37),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.assetAttr,expression:"assetAttr"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"newLink",unselectable:"on",readonly:"readonly",autocomplete:"off"},domProps:{value:t.assetAttr},on:{input:function(e){e.target.composing||(t.assetAttr=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(38),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.deviceType,expression:"deviceType"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"newLink",unselectable:"on",readonly:"readonly",autocomplete:"off"},domProps:{value:t.deviceType},on:{input:function(e){e.target.composing||(t.deviceType=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(39),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.unitType,expression:"unitType"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"newLink",unselectable:"on",readonly:"readonly",autocomplete:"off"},domProps:{value:t.unitType},on:{input:function(e){e.target.composing||(t.unitType=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[t._v("资产编码：")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.assetNumber,expression:"assetNumber"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"newTimeOn",unselectable:"on",readonly:"readonly",autocomplete:"off"},domProps:{value:t.assetNumber},on:{input:function(e){e.target.composing||(t.assetNumber=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[t._v("资产类别：")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.assetClass,expression:"assetClass"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",unselectable:"on",readonly:"readonly",autocomplete:"off"},domProps:{value:t.assetClass},on:{input:function(e){e.target.composing||(t.assetClass=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(40),t._v(" "),a("div",{staticClass:"layui-input-inline selHeight"},[a("label",[t._v("是")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.secret,expression:"formVa.secret"}],attrs:{type:"radio",name:"a",value:"true"},domProps:{checked:t._q(t.formVa.secret,"true")},on:{click:function(e){t.wac("true")},change:function(e){t.$set(t.formVa,"secret","true")}}}),t._v(" "),a("label",[t._v("否")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.secret,expression:"formVa.secret"}],attrs:{type:"radio",name:"a",value:"false"},domProps:{checked:t._q(t.formVa.secret,"false")},on:{click:function(e){t.wac("false")},change:function(e){t.$set(t.formVa,"secret","false")}}})])])]),t._v(" "),t.issecret?a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(41),t._v(" "),a("div",{staticClass:"layui-input-inline selHeight"},[a("label",[t._v("秘密")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.secretLevel,expression:"formVa.secretLevel"}],attrs:{type:"radio",name:"b",value:"1"},domProps:{checked:t._q(t.formVa.secretLevel,"1")},on:{change:function(e){t.$set(t.formVa,"secretLevel","1")}}}),t._v(" "),a("label",[t._v("机密")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.secretLevel,expression:"formVa.secretLevel"}],attrs:{type:"radio",name:"b",value:"2"},domProps:{checked:t._q(t.formVa.secretLevel,"2")},on:{change:function(e){t.$set(t.formVa,"secretLevel","2")}}}),t._v(" "),a("label",[t._v("绝密")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.secretLevel,expression:"formVa.secretLevel"}],attrs:{type:"radio",name:"b",value:"3"},domProps:{checked:t._q(t.formVa.secretLevel,"3")},on:{change:function(e){t.$set(t.formVa,"secretLevel","3")}}})])])]):t._e(),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(42),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.responsibleEngineerID,expression:"formVa.responsibleEngineerID"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"required",autocomplete:"off"},domProps:{value:t.formVa.responsibleEngineerID},on:{input:function(e){e.target.composing||t.$set(t.formVa,"responsibleEngineerID",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(43),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.reserveEnginnerID,expression:"formVa.reserveEnginnerID"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"required",autocomplete:"off"},domProps:{value:t.formVa.reserveEnginnerID},on:{input:function(e){e.target.composing||t.$set(t.formVa,"reserveEnginnerID",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[t._v("设备IP：")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.IP,expression:"formVa.IP"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",autocomplete:"off"},domProps:{value:t.formVa.IP},on:{input:function(e){e.target.composing||t.$set(t.formVa,"IP",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(44),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.location,expression:"formVa.location"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"required",autocomplete:"off"},domProps:{value:t.formVa.location},on:{input:function(e){e.target.composing||t.$set(t.formVa,"location",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(45),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.department,expression:"formVa.department"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"required",autocomplete:"off"},domProps:{value:t.formVa.department},on:{input:function(e){e.target.composing||t.$set(t.formVa,"department",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[t._v("服务级别：")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.serviceLevel,expression:"formVa.serviceLevel"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",autocomplete:"off"},domProps:{value:t.formVa.serviceLevel},on:{input:function(e){e.target.composing||t.$set(t.formVa,"serviceLevel",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(46),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.bwReader,expression:"formVa.bwReader"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",autocomplete:"off"},domProps:{value:t.formVa.bwReader},on:{input:function(e){e.target.composing||t.$set(t.formVa,"bwReader",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(47),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.colorReader,expression:"formVa.colorReader"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",autocomplete:"off"},domProps:{value:t.formVa.colorReader},on:{input:function(e){e.target.composing||t.$set(t.formVa,"colorReader",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(48),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.installedTime,expression:"formVa.installedTime"}],staticClass:"layui-input",attrs:{type:"text",placeholder:"例:2018-10-10","lay-verify":"",autocomplete:"off"},domProps:{value:t.formVa.installedTime},on:{input:function(e){e.target.composing||t.$set(t.formVa,"installedTime",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item btn"},[a("button",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.subMit()}}},[t._v("提交")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("客户名称")]),this._v(" "),e("div",{staticClass:"layui-input-block allinput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"custName","lay-verify":"",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("服务区域")]),this._v(" "),e("div",{staticClass:"layui-input-block allinput"},[e("select",{attrs:{name:"serviceArea","lay-verify":"","lay-search":""}},[e("option",{attrs:{value:"",id:"address"}},[this._v("请选择")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("合同性质")]),this._v(" "),e("div",{staticClass:"layui-input-block allinput"},[e("select",{attrs:{name:"contractNature","lay-verify":"","lay-search":""}},[e("option",{attrs:{value:"",id:"address"}},[this._v("请选择")]),this._v(" "),e("option",{attrs:{value:"MPS服务合同"}},[this._v("MPS服务合同")]),this._v(" "),e("option",{attrs:{value:"传统服务合同"}},[this._v("传统服务合同")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("客户名称：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("客户地址：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("签约公司：")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"signingCompany","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("客户联系人：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("联系电话：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("主服务区：")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("select",{attrs:{name:"mainService"}},[e("option",{attrs:{value:"",id:"addmainSer"}},[this._v("请选择")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("分服务区：")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("select",{attrs:{name:"childService"}},[e("option",{attrs:{value:"",id:"addchildSer"}},[this._v("请选择")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("合同编码：")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"contractNo","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("登记时间：")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"regTime",id:"dateD","lay-verify":"",placeholder:"年-月-日",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("经办部门：")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"handlingDepartment","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("经办人：")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"agent","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("合同保管人：")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"contractHoldman","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("签约日期：")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"startDate",id:"dateS","lay-verify":"required",placeholder:"年-月-日",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("到期日期：")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"endDate",id:"dateE","lay-verify":"required",placeholder:"年-月-日",autocomplete:"off"}})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[t._v("合同类型：")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("select",{staticClass:"selinput",attrs:{name:"contractType"}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"卖机抄表服务"}},[t._v("卖机抄表服务")]),t._v(" "),a("option",{attrs:{value:"客融抄表服务"}},[t._v("客融抄表服务")]),t._v(" "),a("option",{attrs:{value:"融资抄表服务"}},[t._v("融资抄表服务")]),t._v(" "),a("option",{attrs:{value:"带机抄表服务"}},[t._v("带机抄表服务")]),t._v(" "),a("option",{attrs:{value:"客机抄表服务"}},[t._v("客机抄表服务")]),t._v(" "),a("option",{attrs:{value:"外包抄表服务"}},[t._v("外包抄表服务")]),t._v(" "),a("option",{attrs:{value:"其他"}},[t._v("其他")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[a("span",[t._v("*")]),t._v("合同性质：")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("select",{staticClass:"selinput",attrs:{name:"contractNature"}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"MPS服务合同"}},[t._v("MPS服务合同")]),t._v(" "),a("option",{attrs:{value:"传统服务合同"}},[t._v("传统服务合同")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("开户行：")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"openingBank","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("账号：")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"bankAccount","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("纳税人识别号：")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"taxIden","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item btn"},[e("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDemo2"}},[this._v("提交")]),this._v(" "),e("button",{staticClass:"layui-btn",attrs:{type:"reset",id:"resetA"}},[this._v("重置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("客户名称：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("客户地址：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("签约公司：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("客户联系人：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("联系电话：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("主服务区：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("分服务区：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("合同编码：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("签约日期：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("到期日期：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("合同性质：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item btn"},[e("button",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDemo3"}},[this._v("提交")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("机器编码：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("资产归属：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("设备类型：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("设备型号：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("涉密资质：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("涉密等级：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("责任工程师姓名：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("后备工程师姓名：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("设备位置：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("部门：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("初始黑白读数：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("初始彩色读数：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("装机时间：")])}]};var $t=a("VU/8")(xt,kt,!1,function(t){a("ut2n")},"data-v-645ef50e",null).exports,Nt={name:"ContractSatis",components:{Index:V},data:function(){return{item:"",starValue:"",textarea:""}},mounted:function(){var t=this.$route.params.woStatus;this.getData(t)},methods:{getData:function(t){var e=this,a=sessionStorage.getItem("username"),i=sessionStorage.getItem("userRole");layui.use(["form","laydate","table","rate","layer"],function(){var s=layui.form,l=layui.laydate,n=layui.table,r=layui.rate,c=layui.layer;l.render({elem:"#startDate"}),l.render({elem:"#endDate"}),s.render(),n.render({elem:"#demo",height:"full-320",cellMinWidth:150,url:e.$url+"customerSatisfactionManager",where:{username:a,woStatus:t},cols:[[{field:"",title:"序号",type:"numbers",width:80,fixed:"left"},{field:"custName",title:"客户名称",minWidth:220,fixed:"left"},{field:"woNumber",title:"工单号码",minWidth:160},{field:"serviceArea",title:"服务区域",minWidth:180},{field:"repairMan",title:"报修人"},{field:"repairPhone",title:"报修电话"},{field:"enginnerName",title:"维修工程师"},{field:"custScore",title:"星评得分",width:100},{field:"custEva",title:"评价内容"},{field:"czx",fixed:"right",title:"操作项",width:80,templet:function(t){return console.log(t.custScore),null==t.custScore?e.isShow(t):""}}]],id:"testReload",page:!0,limit:20,done:function(t){console.log(t.data),"客户"!=i&&"总部客服"!=i&&$("[data-field='czx']").css("display","none")}}),e.$serviceArea(p),n.on("tool(demo)",function(t){if("evaluate"==t.event){r.render({elem:"#test6",value:0,text:!0,setText:function(t){this.span.text({1:"非常不满意",2:"不满意",3:"一般",4:"满意",5:"非常满意"}[t]||t+"星"),console.log(t),e.starValue=t}}),e.textarea="";var a=t.data.woNumber;c.open({type:1,title:"评价",area:["700px","400px"],content:$(".appraise")}),s.val("example",{woNumber:a})}}),s.on("submit(evalSub)",function(t){var a,i=e.starValue,s=e.textarea,l=t.field.woNumber;if(0==i)c.msg("请进行评选");else if(""==s)c.msg("请填入评价内容");else{(a={woNumber:l,custScore:i,custEva:s},o.a.post(m+"doAddCustSatisfa",u.a.stringify(v(a,d)))).then(function(t){0==t.data.code?($("#reset").click(),c.closeAll(),c.msg(t.data.data),n.reload("testReload")):1==t.data.code&&($("#reset").click(),c.closeAll(),n.reload("testReload"),c.msg(t.data.data))}).catch(function(t){})}return!1}),s.on("submit(formDome)",function(t){$(".layui-icon-close").click();t=t.field;n.reload("testReload",{url:e.$url+"customerSatisfactionManager",where:{custName:t.name,serviceArea:t.serAddr,startDate:t.startDate,endDate:t.endDate,custSat:t.custSat,username:a,woStatus:""},page:{curr:1}})})})},exportExcel:function(){this.$exportE("exportSatFactionManager")},isShow:function(){var t=this.$admin;return t.kh==this.$userRole||t.zbkf==this.$userRole?'<a class="layui-btn layui-btn-xs" lay-event="evaluate">评价</a>':'<a class="layui-btn layui-btn-xs noAdmin">'+this.$noAdmin+"</a>"},closeStar:function(){that.starValue="",that.textarea=""}},destroyed:function(){$(".layui-icon-close").click()}},At={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>客户满意度管理<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDome",id:"select"}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])])]),t._v(" "),t._m(1),t._v(" "),a("script",{attrs:{type:"text/html",id:"barDemo"}},[t._v('\n            <a class="layui-btn layui-btn-xs" lay-event="evaluate">评价</a>\n        ')])]),t._v(" "),a("div",{staticClass:"appraise dis-n"},[a("form",{staticClass:"layui-form",attrs:{"lay-filter":"example"}},[t._m(2),t._v(" "),t._m(3),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("label",{staticClass:"layui-form-label"},[t._v("评价内容")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textarea,expression:"textarea"}],staticClass:"layui-textarea",attrs:{placeholder:"请输入内容"},domProps:{value:t.textarea},on:{input:function(e){e.target.composing||(t.textarea=e.target.value)}}})])]),t._v(" "),t._m(4)])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("客户名称")]),t._v(" "),a("div",{staticClass:"layui-input-block allinput"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"name","lay-verify":"",placeholder:"",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("服务区域")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("select",{attrs:{name:"serAddr","lay-verify":""}},[a("option",{attrs:{value:"",id:"address"}})])])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("服务评价")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("select",{attrs:{name:"custSat","lay-verify":""}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"5"}},[t._v("非常满意")]),t._v(" "),a("option",{attrs:{value:"4"}},[t._v("满意")]),t._v(" "),a("option",{attrs:{value:"3"}},[t._v("一般")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("不满意")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("非常不满意")])])])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("开始日期")]),t._v(" "),a("div",{staticClass:"layui-input-inline",staticStyle:{"margin-right":"0"}},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"startDate",id:"startDate",placeholder:"年-月-日",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("结束日期")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"endDate",id:"endDate",placeholder:"年-月-日",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("工单号")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"woNumber",unselectable:"on",readonly:"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("label",{staticClass:"layui-form-label"},[this._v("星级好评")]),this._v(" "),e("div",[e("div",{attrs:{id:"test6"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item btn"},[e("button",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"evalSub"}},[this._v("提交")]),this._v(" "),e("button",{staticClass:"layui-btn dis-n",attrs:{type:"reset",id:"reset"}},[this._v("重置")])])}]};var St=a("VU/8")(Nt,At,!1,function(t){a("S1IW")},"data-v-e24ae448",null).exports,Mt={name:"Feedback",components:{Index:V},data:function(){return{item:"",datas:[]}},mounted:function(){this.getData()},methods:{getData:function(){var t,e=this;o.a.post(m+"selectAllAdvice",u.a.stringify(v(t,d))).then(function(t){var a=t.data.data;e.datas=a,console.log(e.datas)}).catch(function(t){})}}},Tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"feedback"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>反馈与建议<<")]),t._v(" "),t._l(t.datas,function(e,i){return a("div",{key:i,staticClass:"feed"},[a("div",{staticClass:"info"},[a("label",[t._v("客户名称")]),a("span",[t._v(t._s(e.custName))]),t._v(" "),a("label",[t._v("联系人")]),a("span",[t._v(t._s(e.id))]),t._v(" "),a("label",[t._v("联系电话")]),a("span",[t._v(t._s(e.custPhone))]),t._v(" "),a("label",[t._v("时间")]),a("span",[t._v(t._s(e.feedbackTime))])]),t._v(" "),a("div",{staticClass:"feedCon"},[a("label",[t._v("反馈内容")]),t._v(" "),a("div",{staticClass:"evalCon"},[t._v(t._s(e.content))])])])})],2)])},staticRenderFns:[]};var Dt=a("VU/8")(Mt,Tt,!1,function(t){a("WrJy")},"data-v-677d697d",null).exports,Et={name:"WorkMsg",components:{Index:V},data:function(){return{item:"",type:"",send:!0,ab:"1",holder:"请指派工程师",addShow:!1,hcdg:!1,haocai:!1,sbbd:!1,serArea:[],serviceArea:"",picture:[]}},mounted:function(){var t=this.$route.params.woStatus;this.getData(t),this.showA()},methods:{getData:function(t){var e=this,a=sessionStorage.getItem("username");layui.use(["table","form","laydate","layer"],function(){var i=layui.table,s=layui.laydate,l=layui.form,n=layui.layer;s.render({elem:"#contractPeriod"}),s.render({elem:"#startDate"}),s.render({elem:"#endDate"}),l.render();var r=sessionStorage.getItem("userRole");"运维助理"==r||"驻现场人员"==r||"客服经理"==r||"总部客服"==r?i.render({elem:"#demo",height:"full-320",cellMinWidth:140,url:e.$url+"orderManage",method:"post",where:{username:a,woStatus:t},page:!0,limit:20,cols:[[{field:"id",title:"序号",width:80,type:"numbers",fixed:"left"},{field:"custName",title:"客户名称",fixed:"left",width:180},{field:"woNumber",title:"工单号码",width:180},{field:"devName",title:"设备类型"},{field:"machCode",title:"机器编码"},{field:"repairType",title:"工单来源"},{field:"esNumber",title:"设备序列号"},{field:"unitType",title:"设备型号"},{field:"location",title:"设备位置"},{field:"repairMan",title:"报修人/联系人"},{field:"repairPhone",title:"联系电话"},{field:"repairTime",title:"报修时间",minWidth:180,templet:function(t){var e=layui.util.toDateString(t.repairTime);return null==t.repairTime?"":"<div>"+e+"</div>"}},{field:"sendTime",title:"派单时间",width:180,templet:function(t){var e=layui.util.toDateString(t.sendTime);return null==t.sendTime?"":"<div>"+e+"</div>"}},{field:"getOrderTime",title:"工程师接单时间",templet:function(t){var e=layui.util.toDateString(t.getOrderTime);return null==t.getOrderTime?"":"<div>"+e+"</div>"},width:180},{field:"arrTime",title:"工程师到达时间",templet:function(t){var e=layui.util.toDateString(t.arrTime);return null==t.arrTime?"":"<div>"+e+"</div>"},width:180},{field:"probSolveTime",title:"完成时间",width:180,templet:function(t){var e=layui.util.toDateString(t.probSolveTime);return null==t.probSolveTime?"":"<div>"+e+"</div>"}},{field:"enginnerName",title:"指定工程师"},{field:"faultType",title:"服务类型"},{field:"accidentType",title:"服务类别"},{field:"describe",title:"故障描述",minWidth:140},{field:"treatmentMeasure",title:"处理措施"},{field:"woState",title:"处理状态"},{field:"part",title:"是否有零件订购",event:"partYes",width:150},{field:"picture",title:"图片",minWidth:350,event:"setSign",templet:function(t){return null==t.picture.picture1?"":null==t.picture.picture2&&null==t.picture.picture3?'<img class="picOrder" src=http://'+t.picture.picture1+">":null==t.picture.picture3?'<img class="picOrder" src=http://'+t.picture.picture1+'><img class="picOrder" src=http://'+t.picture.picture2+">":"<img src=http://"+t.picture.picture1+"><img src=http://"+t.picture.picture2+"><img src=http://"+t.picture.picture2+">"}},{fixed:"right",title:"操作项",width:220,templet:function(t){return function(t){var e=t.woState,a=(t.part,t.woNumber),i=t.machCode;return"运维助理"==r?"事件类"==t.faultType||"需求类"==t.faultType?"已完成"==e?'<a class="layui-btn layui-btn-xs" lay-event="close">关单</a><a class="layui-btn layui-btn-xs layui-btn-danger" lay-event="delete" >删除</a><a class="layui-btn layui-btn-xs layui-btn-warm" lay-event="reset" >撤除</a>':"待受理"==e?14==a.length?'<a class="layui-btn layui-btn-xs" lay-event="accept">受理</a><a class="layui-btn layui-btn-xs" lay-event="exit" >修改</a><a class="layui-btn layui-btn-xs layui-btn-danger" lay-event="delete" >删除</a>':16==a.length?'<a class="layui-btn layui-btn-xs" lay-event="return">重新指派</a><a class="layui-btn layui-btn-xs" lay-event="exit" >修改</a><a class="layui-btn layui-btn-xs layui-btn-danger" lay-event="delete" >删除</a>':'<a class="layui-btn layui-btn-xs" lay-event="accept">受理</a><a class="layui-btn layui-btn-xs" lay-event="exit" >修改</a><a class="layui-btn layui-btn-xs layui-btn-danger" lay-event="delete" >删除</a>':"已关单"==e||"已转单"==e?null==i?'<a class="layui-btn layui-btn-xs layui-btn-danger" lay-event="delete" >删除</a><a class="layui-btn layui-btn-xs layui-btn-warm" lay-event="reset" >撤除</a>':'<a class="layui-btn layui-btn-xs" lay-event="export" >导出工单</a><a class="layui-btn layui-btn-xs layui-btn-danger" lay-event="delete" >删除</a><a class="layui-btn layui-btn-xs layui-btn-warm" lay-event="reset" >撤除</a>':null==i?'<a class="layui-btn layui-btn-xs" lay-event="exit" >修改</a><a class="layui-btn layui-btn-xs layui-btn-danger" lay-event="delete" >删除</a><a class="layui-btn layui-btn-xs layui-btn-warm" lay-event="reset" >撤除</a>':'<a class="layui-btn layui-btn-xs" lay-event="export" >导出工单</a><a class="layui-btn layui-btn-xs" lay-event="exit" >修改</a><a class="layui-btn layui-btn-xs layui-btn-danger" lay-event="delete" >删除</a><a class="layui-btn layui-btn-xs layui-btn-warm" lay-event="reset" >撤除</a>':"":"总部客服"==r&&("需求类"==t.faultType||"事故类"==t.faultType)?"已完成"==e?'<a class="layui-btn layui-btn-xs" lay-event="close">关单</a><a class="layui-btn layui-btn-xs layui-btn-danger" lay-event="delete" >删除</a><a class="layui-btn layui-btn-xs layui-btn-warm" lay-event="reset" >撤除</a>':"待受理"==e?14==a.length?'<a class="layui-btn layui-btn-xs" lay-event="accept">受理</a><a class="layui-btn layui-btn-xs" lay-event="exit" >修改</a><a class="layui-btn layui-btn-xs layui-btn-danger" lay-event="delete" >删除</a>':16==a.length?'<a class="layui-btn layui-btn-xs" lay-event="return">重新指派</a><a class="layui-btn layui-btn-xs" lay-event="exit" >修改</a><a class="layui-btn layui-btn-xs layui-btn-danger" lay-event="delete" >删除</a>':'<a class="layui-btn layui-btn-xs" lay-event="accept">受理</a><a class="layui-btn layui-btn-xs" lay-event="exit" >修改</a><a class="layui-btn layui-btn-xs layui-btn-danger" lay-event="delete" >删除</a>':"已关单"==e||"已转单"==e?null==i?'<a class="layui-btn layui-btn-xs layui-btn-danger" lay-event="delete" >删除</a><a class="layui-btn layui-btn-xs layui-btn-warm" lay-event="reset" >撤除</a>':'<a class="layui-btn layui-btn-xs" lay-event="export" >导出工单</a><a class="layui-btn layui-btn-xs layui-btn-danger" lay-event="delete" >删除</a><a class="layui-btn layui-btn-xs layui-btn-warm" lay-event="reset" >撤除</a>':null==i?'<a class="layui-btn layui-btn-xs" lay-event="exit" >修改</a><a class="layui-btn layui-btn-xs layui-btn-danger" lay-event="delete" >删除</a><a class="layui-btn layui-btn-xs layui-btn-warm" lay-event="reset" >撤除</a>':'<a class="layui-btn layui-btn-xs" lay-event="export" >导出工单</a><a class="layui-btn layui-btn-xs" lay-event="exit" >修改</a><a class="layui-btn layui-btn-xs layui-btn-danger" lay-event="delete" >删除</a><a class="layui-btn layui-btn-xs layui-btn-warm" lay-event="reset" >撤除</a>':""}(t)}}]],id:"testReload"}):i.render({elem:"#demo",height:"full-350",cellMinWidth:140,url:e.$url+"orderManage",where:{username:a,woStatus:t},method:"post",page:!0,limit:20,cols:[[{field:"id",title:"序号",width:80,type:"numbers",fixed:"left"},{field:"custName",title:"客户名称",fixed:"left",width:180},{field:"woNumber",title:"工单号码",width:180},{field:"devName",title:"设备类型"},{field:"machCode",title:"机器编码"},{field:"repairType",title:"工单来源"},{field:"esNumber",title:"设备序列号"},{field:"unitType",title:"设备型号"},{field:"location",title:"设备位置"},{field:"repairMan",title:"报修人/联系人"},{field:"repairPhone",title:"联系电话"},{field:"repairTime",title:"报修时间",minWidth:180,templet:function(t){var e=layui.util.toDateString(t.repairTime);return null==t.repairTime?"":"<div>"+e+"</div>"}},{field:"sendTime",title:"派单时间",templet:function(t){var e=layui.util.toDateString(t.sendTime);return null==t.sendTime?"":"<div>"+e+"</div>"}},{field:"getOrderTime",title:"工程师接单时间",templet:function(t){var e=layui.util.toDateString(t.getOrderTime);return null==t.getOrderTime?"":"<div>"+e+"</div>"},width:180},{field:"arrTime",title:"工程师到达时间",templet:function(t){var e=layui.util.toDateString(t.arrTime);return null==t.arrTime?"":"<div>"+e+"</div>"},width:180},{field:"probSolveTime",title:"完成时间",width:180,templet:function(t){var e=layui.util.toDateString(t.probSolveTime);return null==t.probSolveTime?"":"<div>"+e+"</div>"}},{field:"enginnerName",title:"指定工程师"},{field:"faultType",title:"服务类型"},{field:"accidentType",title:"服务类别"},{field:"describe",title:"故障描述",minWidth:160},{field:"treatmentMeasure",title:"处理措施"},{field:"woState",title:"处理状态"},{field:"part",title:"是否有零件订购",event:"partYes",width:150},{field:"picture",title:"图片",minWidth:350,event:"setSign",templet:function(t){return null==t.picture.picture1?"":null==t.picture.picture2&&null==t.picture.picture3?"<img src=http://"+t.picture.picture1+">":null==t.picture.picture3?"<img src=http://"+t.picture.picture1+"><img src=http://"+t.picture.picture2+">":"<img src=http://"+t.picture.picture1+"><img src=http://"+t.picture.picture2+"><img src=http://"+t.picture.picture2+">"}}]],id:"testReload"}),e.$serviceArea(p),p().then(function(t){console.log(t);t.data.data;e.serArea=t.data.data}).catch(function(t){}),i.on("tool(demo)",function(t){if(console.log(t),"accept"==t.event){e.send=!0;var a=t.data;if(console.log(a),"等待指派"==a.enginnerName)var s="";else s=a.enginnerName;var r=layui.util.toDateString(a.repairTime);n.open({type:1,title:"受理",content:$("#acceptWin"),area:["800px","400px"],cancel:function(t,e){$(".dropDownE").css("display","none"),$(".dropDownRE").css("display","none")}}),l.val("example",{woNumber:a.woNumber,macNumber:a.machCode,custName:a.custName,custAddr:a.custAddr,equipType:a.unitType,equipAddr:a.location,linkman:a.repairMan,linkTel:a.repairPhone,serType:a.faultType,breakdown:a.accidentType,repTime:r,describe:a.describe,engineer:s}),$(".dropInput").click(function(){""==s?($(".dropDownE").css("display","none"),$(".dropDownRE").css("display","none")):($(".dropDownE").css("display","block"),$(".dropDownRE").css("display","block"),$(".dropDownE").html(s),$(".dropDownRE").html(a.reserveEngineer))}),$(".dropInput").keydown(function(){$(".dropDownE").css("display","none"),$(".dropDownRE").css("display","none"),$(".dropDownE").html(s),$(".dropDownRE").html(a.reserveEngineer)}),$(".dropDownE").click(function(){l.val("example",{engineer:s}),$(".dropDownE").css("display","none"),$(".dropDownRE").css("display","none")}),$(".dropDownRE").click(function(){l.val("example",{engineer:a.reserveEngineer}),$(".dropDownE").css("display","none"),$(".dropDownRE").css("display","none")})}else if("return"==t.event){if(e.send=!1,"等待指派"==(a=t.data).enginnerName)s="";else s=a.enginnerName;r=layui.util.toDateString(a.repairTime);console.log(r),n.open({type:1,title:"重新指派",content:$("#acceptWin"),area:["800px","400px"],cancel:function(t,e){$(".dropDownE").css("display","none"),$(".dropDownRE").css("display","none")}}),l.val("example",{woNumber:a.woNumber,macNumber:a.machCode,custName:a.custName,custAddr:a.custAddr,equipType:a.unitType,equipAddr:a.location,linkman:a.repairMan,linkTel:a.repairPhone,serType:a.faultType,breakdown:a.accidentType,repTime:r,describe:a.describe,engineer:s}),$(".dropInput").click(function(){console.log(a.reserveEngineer),""==s&&null==a.reserveEngineer?($(".dropDownE").css("display","none"),$(".dropDownRE").css("display","none")):($(".dropDownE").css("display","block"),$(".dropDownRE").css("display","block"),$(".dropDownE").html(a.enginnerName),$(".dropDownRE").html(a.reserveEngineer))}),$(".dropInput").keydown(function(){$(".dropDownE").css("display","none"),$(".dropDownRE").css("display","none"),$(".dropDownE").html(s),$(".dropDownRE").html(a.reserveEngineer)}),$(".dropDownE").click(function(){l.val("example",{engineer:s}),$(".dropDownE").css("display","none"),$(".dropDownRE").css("display","none")}),$(".dropDownRE").click(function(){l.val("example",{engineer:a.reserveEngineer}),$(".dropDownE").css("display","none"),$(".dropDownRE").css("display","none")})}else if("export"==t.event){var c=t.data.woNumber;e.$exportE("copy?woNumber="+c)}else if("close"==t.event){var f={woNumber:t.data.woNumber};n.confirm("确认关单？",function(t){var e;(e=f,o.a.post(m+"closeOrder",u.a.stringify(v(e,d)))).then(function(t){console.log(t.data.msg),i.reload("testReload"),n.msg(t.data.msg)}).catch(function(t){}),n.close(t)})}else if("delete"==t.event){f={woNumber:t.data.woNumber};n.confirm("确认删除工单？",function(t){var e;(e=f,o.a.post(m+"deleteOrder",u.a.stringify(v(e,d)))).then(function(t){console.log(t.data.msg),i.reload("testReload"),n.msg(t.data.msg)}).catch(function(t){}),n.close(t)})}else if("reset"==t.event){f={woNumber:t.data.woNumber};n.confirm("确认撤除工单？",function(t){var e;(e=f,o.a.post(m+"resetOrder",u.a.stringify(v(e,d)))).then(function(t){console.log(t.data.msg),i.reload("testReload"),n.msg(t.data.msg)}).catch(function(t){}),n.close(t)})}else if("exit"==t.event)if(console.log(t.data),"事故类"==t.data.faultType){if(n.open({type:1,title:"修改事故单",content:$(".shigu"),area:["60%","70%"],cancel:function(t,e){}}),null!=(h=t.data.serviceType))var p=(_=h.split("："))[0],y=_[1];"硬件故障"==t.data.accidentType?e.hcdg=!1:"软件故障"==t.data.accidentType?e.hcdg=!1:"耗材断供"==t.data.accidentType&&(e.hcdg=!0),l.val("exampleSG",{woNumber:t.data.woNumber,machCode:t.data.machCode,custName:t.data.custName,devName:t.data.devName,unitType:t.data.unitType,department:t.data.department,location:t.data.location,custAddr:t.data.custAddr,repairMan:t.data.repairMan,repairPhone:t.data.repairPhone,accidentType:t.data.accidentType,hcxh:p,hcsl:y,describe:t.data.describe}),l.on("radio",function(t){console.log(t),"硬件故障"==t.value?e.hcdg=!1:"软件故障"==t.value?e.hcdg=!1:"耗材断供"==t.value&&(e.hcdg=!0)})}else if("事件类"==t.data.faultType)n.open({type:1,title:"修改事件单",content:$(".shijian"),area:["60%","70%"],cancel:function(t,e){}}),e.serviceArea=t.data.serviceArea,l.val("exampleSJ",{woNumber:t.data.woNumber,serviceArea:t.data.serviceArea,custName:t.data.custName,repairMan:t.data.repairMan,repairPhone:t.data.repairPhone,faultType:t.data.faultType,accidentType:t.data.accidentType,describe:t.data.describe});else{var h;if(n.open({type:1,title:"修改需求单",content:$(".xuqiu"),area:["60%","70%"],cancel:function(t,e){},success:function(t,e){}}),null!=(h=t.data.serviceType)){var _;p=(_=h.split("："))[0],y=_[1]}"设备变动"==t.data.accidentType?(e.sbbd=!0,e.haocai=!1):"耗材补充"==t.data.accidentType?(e.haocai=!0,e.sbbd=!1):(e.haocai=!1,e.sbbd=!1),l.val("exampleXQ",{woNumber:t.data.woNumber,serviceArea:t.data.serviceArea,custName:t.data.custName,repairMan:t.data.repairMan,repairPhone:t.data.repairPhone,faultType:t.data.faultType,accidentType:t.data.accidentType,macd:t.data.macd,hcxh:p,hcsl:y,describe:t.data.describe}),l.on("radio(encrypt)",function(t){console.log(t),"设备变动"==t.value?(e.sbbd=!0,e.haocai=!1):"耗材补充"==t.value?(e.haocai=!0,e.sbbd=!1):(e.haocai=!1,e.sbbd=!1)})}else if("setSign"==t.event){a=t.data;if(console.log(a.picture.picture1),null==a.picture.picture1);else if(null==a.picture.picture2&&null==a.picture.picture3){n.open({type:1,offset:"auto",area:["70%","70%"],shadeClose:!0,scrollbar:!1,title:"图片预览",content:$(".setSign")}),(b=[]).push(a.picture.picture1),e.picture=b}else if(null==a.picture.picture3){n.open({type:1,offset:"auto",area:["70%","70%"],shadeClose:!0,scrollbar:!1,title:"图片预览",content:$(".setSign")}),(b=[]).push(a.picture.picture1),b.push(a.picture.picture2),e.picture=b}else{var b;n.open({type:1,offset:"auto",area:["800px","400px"],shadeClose:!0,scrollbar:!1,title:"图片预览",content:$(".setSign")}),(b=[]).push(a.picture.picture1),b.push(a.picture.picture2),b.push(a.picture.picture3),e.picture=b}}}),l.on("submit(shigu)",function(t){t=t.field;console.log(t);var e={woNumber:t.woNumber,machCode:t.machCode,repairMan:t.repairMan,repairService:t.repairPhone,accidentType:t.accidentType,materialModel:t.hcxh,materialNumber:t.hcsl,describe:t.describe};return b(e).then(function(t){0==t.data.code?(n.closeAll(),i.reload("testReload"),n.msg(t.data.msg)):1==t.data.code&&(n.closeAll(),i.reload("testReload"),n.msg(t.data.msg))}).catch(function(t){}),!1}),l.on("submit(shijian)",function(t){t=t.field;console.log(t);var e={woNumber:t.woNumber,serviceArea:t.serviceArea,machCode:t.machCode,custName:t.custName,repairMan:t.repairMan,repairPhone:t.repairPhone,accidentType:t.accidentType,materialModel:t.hcxh,materialNumber:t.hcsl,describe:t.describe};return b(e).then(function(t){0==t.data.code?(n.closeAll(),i.reload("testReload"),n.msg(t.data.msg)):1==t.data.code&&(n.closeAll(),i.reload("testReload"),n.msg(t.data.msg))}).catch(function(t){}),!1}),l.on("submit(xuqiu)",function(t){t=t.field;console.log(t);var e={woNumber:t.woNumber,serviceArea:t.serviceArea,custName:t.custName,repairMan:t.repairMan,repairService:t.repairPhone,faultType:"需求类",accidentType:t.accidentType,macd:t.macd,hcxh:t.hcxh,hcsl:t.hcsl,describe:t.describe};return b(e).then(function(t){0==t.data.code?(n.closeAll(),i.reload("testReload"),n.msg(t.data.msg)):1==t.data.code&&(n.closeAll(),i.reload("testReload"),n.msg(t.data.msg))}).catch(function(t){}),!1}),l.on("submit(send)",function(t){var e={woNumber:(t=t.field).woNumber,engineerID:t.engineer,username:a};return console.log(e),n.confirm("确认派单么?",function(t){h(e).then(function(t){0==t.data.code?(n.closeAll(),i.reload("testReload"),n.msg(t.data.msg)):1==t.data.code&&(n.closeAll(),i.reload("testReload"),n.msg(t.data.msg))}).catch(function(t){})}),!1}),l.on("submit(sendAgain)",function(t){var e={woNumber:(t=t.field).woNumber,engineerID:t.engineer,username:a};return n.confirm("确认派单么?",function(t){h(e).then(function(t){0==t.data.code?(n.closeAll(),i.reload("testReload"),n.msg(t.data.msg)):1==t.data.code&&(n.closeAll(),i.reload("testReload"),n.msg(t.data.msg))}).catch(function(t){})}),!1}),l.on("submit(formDome2)",function(t){$(".layui-icon-close").click();var s="";if((t=t.field).a)var n=t.a;else n="";if(t.b)var r=t.b;else r="";if(t.c)var o=t.c;else o="";return s=1==t.from?"网络":2==t.from?"电话":"",l.render(),i.reload("testReload",{url:e.$url+"orderManage",method:"post",where:{custName:t.name,enginnerName:t.enginnerName,serviceArea:t.serviceArea,machCode:t.bianma,startDate:t.startTime,endDate:t.endTime,rapairType:s,a:n,b:r,c:o,woStatus:"",username:a,ProcessingState:t.ProcessingState},page:{curr:1}}),!1})})},exportE:function(){this.$exportE("exportOrder")},showA:function(){for(var t=[this.$admin.ywzl,this.$admin.zxcry,this.$admin.kfzg,this.$admin.zbkf,this.$admin.admin],e=0,a=t.length;e<a;e++)t[e]==this.$userRole&&(this.addShow=!0)}},created:function(){},beforeCreate:function(){$(".layui-icon-close").click()},destroyed:function(){$(".layui-icon-close").click()}},It={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>工单管理<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDome2",id:"select"}},[t._v("查询")]),t._v(" "),t.addShow?a("router-link",{staticClass:"layui-btn layui-bg-blue",attrs:{to:{path:"/home/workMsg/WorkMsgAdd"}}},[t._v("新增")]):t._e(),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",staticStyle:{width:"130px"},on:{click:function(e){t.exportE()}}},[t._v("导出工单表")])],1)])]),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"dis-n",attrs:{id:"acceptWin"}},[a("form",{staticClass:"layui-form",attrs:{"lay-filter":"example"}},[t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),a("div",{staticClass:"layui-form-item"},[t._m(14),t._v(" "),a("div",{staticClass:"layui-input-inline wininput"},[a("input",{staticClass:"layui-input dropInput",attrs:{type:"text",name:"engineer","lay-verify":"required",placeholder:t.holder,autocomplete:"off"}}),t._v(" "),a("div",{staticClass:"dropDownE dis-n"}),t._v(" "),a("div",{staticClass:"dropDownRE dis-n"})])]),t._v(" "),a("div",{staticClass:"layui-form-item mar-left"},[t.send?a("button",{staticClass:"layui-btn",attrs:{"lay-submit":"","lay-filter":"send"}},[t._v("派单")]):a("button",{staticClass:"layui-btn",attrs:{"lay-submit":"","lay-filter":"sendAgain"}},[t._v("重新指派")])])])]),t._v(" "),a("router-view"),t._v(" "),a("div",{staticClass:"shigu dis-n",attrs:{id:"shigu"}},[a("form",{staticClass:"layui-form",attrs:{"lay-filter":"exampleSG"}},[t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.hcdg,expression:"hcdg"}],staticClass:"layui-form-item"},[t._m(25)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.hcdg,expression:"hcdg"}],staticClass:"layui-form-item"},[t._m(26)]),t._v(" "),t._m(27),t._v(" "),t._m(28)])]),t._v(" "),t._m(29),t._v(" "),a("div",{staticClass:"xuqiu dis-n"},[a("form",{staticClass:"layui-form",attrs:{action:"","lay-filter":"exampleXQ"}},[a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[t._v("服务区域")]),t._v(" "),a("div",{staticClass:"layui-input-inline wininput "},[a("select",{attrs:{name:"serviceArea","lay-verify":""}},[a("option",{attrs:{value:"",id:"address"}},[t._v("请选择")]),t._v(" "),t._l(t.serArea,function(e){return a("option",{domProps:{value:e.compName}},[t._v(t._s(e.compName))])})],2)])])]),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.sbbd,expression:"sbbd"}],staticClass:"layui-form-item"},[t._m(34)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.haocai,expression:"haocai"}],staticClass:"layui-form-item"},[t._m(35)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.haocai,expression:"haocai"}],staticClass:"layui-form-item"},[t._m(36)]),t._v(" "),t._m(37),t._v(" "),t._m(38)])]),t._v(" "),a("div",{staticClass:"setSign dis-n",staticStyle:{"text-align":"center"}},t._l(t.picture,function(t,e){return a("img",{key:e,staticStyle:{width:"95%",height:"auto","margin-bottom":"10px"},attrs:{src:"http://"+t}})}),0)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("客户名称")]),t._v(" "),a("div",{staticClass:"layui-input-block allinput"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"name","lay-verify":"",placeholder:"",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("工程师")]),t._v(" "),a("div",{staticClass:"layui-input-block allinput"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"enginnerName","lay-verify":"",placeholder:"",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("服务区域")]),t._v(" "),a("div",{staticClass:"layui-input-block allinput"},[a("select",{attrs:{name:"serviceArea","lay-verify":""}},[a("option",{attrs:{value:"",id:"address"}},[t._v("请选择")])])])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("机器编码")]),t._v(" "),a("div",{staticClass:"layui-input-block allinput"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"bianma","lay-verify":"",placeholder:"",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("服务类型")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{attrs:{type:"checkbox",name:"a",title:"事故类"}}),t._v(" "),a("input",{attrs:{type:"checkbox",name:"b",title:"事件类"}}),t._v(" "),a("input",{attrs:{type:"checkbox",name:"c",title:"需求类"}})])]),t._v(" "),a("div",{staticClass:"layui-inline "},[a("label",{staticClass:"layui-form-label"},[t._v("工单来源")]),t._v(" "),a("div",{staticClass:"layui-input-block allinput"},[a("select",{attrs:{name:"from","lay-verify":""}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("网络")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("电话")])])])]),t._v(" "),a("div",{staticClass:"layui-inline "},[a("label",{staticClass:"layui-form-label"},[t._v("处理状态")]),t._v(" "),a("div",{staticClass:"layui-input-block allinput"},[a("select",{attrs:{name:"ProcessingState","lay-verify":""}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"已受理"}},[t._v("已受理")]),t._v(" "),a("option",{attrs:{value:"已完成"}},[t._v("已完成")]),t._v(" "),a("option",{attrs:{value:"待受理"}},[t._v("待受理")]),t._v(" "),a("option",{attrs:{value:"处理中"}},[t._v("处理中")]),t._v(" "),a("option",{attrs:{value:"已关单"}},[t._v("已关单")]),t._v(" "),a("option",{attrs:{value:"待订件，等待二次上门"}},[t._v("待订件，等待二次上门")]),t._v(" "),a("option",{attrs:{value:"已转单"}},[t._v("已转单")]),t._v(" "),a("option",{attrs:{value:"已接单"}},[t._v("已接单")])])])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("开始日期")]),t._v(" "),a("div",{staticClass:"layui-input-block allinput"},[a("input",{staticClass:"layui-input",attrs:{name:"startTime",id:"startDate",type:"text",placeholder:"年-月-日",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("结束日期")]),t._v(" "),a("div",{staticClass:"layui-input-block allinput"},[a("input",{staticClass:"layui-input",attrs:{name:"endTime",id:"endDate",type:"text",placeholder:"年-月-日",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("工单号码")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"woNumber","lay-verify":"title",autocomplete:"off",unselectable:"on",readonly:""}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("机器编码")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"macNumber","lay-verify":"title",autocomplete:"off",unselectable:"on",readonly:""}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("客户名称")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"custName","lay-verify":"title",autocomplete:"off",unselectable:"on",readonly:""}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("客户地址")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"custAddr","lay-verify":"title",autocomplete:"off",unselectable:"on",readonly:""}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("设备型号")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"equipType","lay-verify":"title",autocomplete:"off",unselectable:"on",readonly:""}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("设备位置")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"equipAddr","lay-verify":"title",autocomplete:"off",unselectable:"on",readonly:""}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("客户联系人")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"linkman","lay-verify":"title",autocomplete:"off",unselectable:"on",readonly:""}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("联系人电话")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"linkTel","lay-verify":"title",autocomplete:"off",unselectable:"on",readonly:""}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("服务类型")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"serType","lay-verify":"title",autocomplete:"off",unselectable:"on",readonly:""}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("故障/需求类型")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"breakdown","lay-verify":"title",autocomplete:"off",unselectable:"on",readonly:""}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("报修时间")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"repTime","lay-verify":"title",autocomplete:"off",unselectable:"on",readonly:""}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("故障描述")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"describe","lay-verify":"title",autocomplete:"off",unselectable:"on",readonly:""}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("指定服务工程师")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("机器编码")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"machCode","lay-verify":"",unselectable:"on",readonly:"",autocomplete:"off"}}),this._v(" "),e("input",{staticClass:"layui-input",attrs:{type:"hidden",name:"woNumber"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("客户名称")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"custName","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("设备类型")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"devName","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("设备型号")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"unitType","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("部门")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"department","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("设备位置")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"location","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("客户地址")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"custAddr","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("报修人/联系人")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"repairMan","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("报修人联系电话")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"repairPhone","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("服务类别")]),this._v(" "),e("div",{staticClass:"layui-input-inline",staticStyle:{width:"450px","font-size":"14px"}},[e("input",{attrs:{type:"radio",name:"accidentType",value:"硬件故障",title:"硬件故障"}}),this._v(" "),e("input",{attrs:{type:"radio",name:"accidentType",value:"软件故障",title:"软件故障"}}),this._v(" "),e("input",{attrs:{type:"radio",name:"accidentType",value:"耗材断供",title:"耗材断供"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("耗材型号")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"hcxh","lay-verify":"",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("耗材数量")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"hcsl","lay-verify":"",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("故障描述")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"describe","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("a",{staticClass:"layui-btn mar-left",attrs:{"lay-submit":"","lay-filter":"shigu"}},[this._v("提交")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shijian dis-n"},[a("form",{staticClass:"layui-form",attrs:{action:"","lay-filter":"exampleSJ"}},[a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[t._v("服务区域")]),t._v(" "),a("div",{staticClass:"layui-input-inline wininput "},[a("input",{staticClass:"layui-input",attrs:{type:"hidden",name:"woNumber"}}),t._v(" "),a("input",{staticClass:"layui-input",attrs:{type:"text",name:"serviceArea","lay-verify":"",readonly:"",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[a("span",[t._v("*")]),t._v("客户名称")]),t._v(" "),a("div",{staticClass:"layui-input-inline wininput"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"custName","lay-verify":"",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[a("span",[t._v("*")]),t._v("报修人/联系人")]),t._v(" "),a("div",{staticClass:"layui-input-inline wininput"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"repairMan","lay-verify":"",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[a("span",[t._v("*")]),t._v("报修人联系电话")]),t._v(" "),a("div",{staticClass:"layui-input-inline wininput"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"repairPhone","lay-verify":"",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[a("span",[t._v("*")]),t._v("服务类别")]),t._v(" "),a("div",{staticClass:"layui-input-inline",staticStyle:{width:"450px","font-size":"14px"}},[a("input",{attrs:{type:"radio",name:"accidentType",value:"保养",title:"保养"}}),t._v(" "),a("input",{attrs:{type:"radio",name:"accidentType",value:"送货",title:"送货"}}),t._v(" "),a("input",{attrs:{type:"radio",name:"accidentType",value:"抄表",title:"抄表"}}),t._v(" "),a("input",{attrs:{type:"radio",name:"accidentType",value:"送文件",title:"送文件"}}),t._v(" "),a("input",{attrs:{type:"radio",name:"accidentType",value:"其他",title:"其他"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[t._v("需求描述")]),t._v(" "),a("div",{staticClass:"layui-input-inline wininput"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"describe","lay-verify":"",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("button",{staticClass:"layui-btn mar-left",attrs:{"lay-submit":"","lay-filter":"shijian"}},[t._v("提交")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("客户名称")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"custName","lay-verify":"",autocomplete:"off"}}),this._v(" "),e("input",{staticClass:"layui-input",attrs:{type:"hidden",name:"woNumber"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("报修人/联系人")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"repairMan","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("报修人联系电话")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"repairPhone","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("服务类别")]),this._v(" "),e("div",{staticClass:"layui-input-inline",staticStyle:{width:"450px","font-size":"14px"}},[e("input",{attrs:{type:"radio",name:"accidentType",value:"设备变动",title:"设备变动","lay-filter":"encrypt"}}),this._v(" "),e("input",{attrs:{type:"radio",name:"accidentType",value:"耗材补充",title:"耗材补充","lay-filter":"encrypt"}}),this._v(" "),e("input",{attrs:{type:"radio",name:"accidentType",value:"安装实施",title:"安装实施","lay-filter":"encrypt"}}),this._v(" "),e("input",{attrs:{type:"radio",name:"accidentType",value:"客户培训",title:"客户培训","lay-filter":"encrypt"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("设备变动")]),this._v(" "),e("div",{staticClass:"layui-input-inline",staticStyle:{width:"450px","font-size":"14px"}},[e("input",{attrs:{type:"radio",name:"macd",value:"加机",title:"加机"}}),this._v(" "),e("input",{attrs:{type:"radio",name:"macd",value:"变更",title:"变更"}}),this._v(" "),e("input",{attrs:{type:"radio",name:"macd",value:"撤除",title:"撤除"}}),this._v(" "),e("input",{attrs:{type:"radio",name:"macd",value:"移动",title:"移动"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("耗材型号")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"hcxh","lay-verify":"",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("耗材数量")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"hcsl","lay-verify":"",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label addInput"},[this._v("需求描述")]),this._v(" "),e("div",{staticClass:"layui-input-inline wininput"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"describe","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("button",{staticClass:"layui-btn mar-left",attrs:{"lay-submit":"","lay-filter":"xuqiu"}},[this._v("提交")])])}]};var Rt=a("VU/8")(Et,It,!1,function(t){a("h+3r")},"data-v-40931249",null).exports,Pt={name:"AddWindow",components:{Index:V},data:function(){return{subV:"立即报修",breakdown:!0,demand:!1,equipBreak:{machCode:"",custName:"",equipName:"",equipType:"",department:"",location:"",address:""},formV:{machCode:"",repairMan:"",repairService:"",accidentType:"",materialModel:"",materialNumber:"",username:window.sessionStorage.getItem("username"),describe:""},formVa:{custName:"",serviceArea:"",repairMan:"",repairService:"",faultType:"",accidentType:"",accidentType2:"",macd:"",materialModel:"",materialNumber:"",username:window.sessionStorage.getItem("username"),describe:""},flagF:"",flag:"formV",flag1:"",flag2:"",flag3:"",flag4:"",serArea:[],khHide:!0,accident:!0,isBoxShadow1:!0,isBoxShadow2:!1,zbkf:!0,ywzl:!1,keyupData:"",isShow:!1}},mounted:function(){var t=sessionStorage.getItem("userRole"),e=sessionStorage.getItem("serviceArea");"客户"==t?(this.khHide=!1,this.wac2("c"),this.formVa.faultType="c",this.formVa.serviceArea=e):"总部客服"==t?(this.khHide=!1,this.wac2("c"),this.formVa.faultType="c"):"运维助理"==t&&(this.accident=!1,this.breakdown=!1,this.demand=!0,$("#fwbut").click())},methods:{wac:function(t){"c"==t?this.flagF=!0:(this.flagF=!1,this.formV.materialModel="",this.formV.materialNumber="")},wac2:function(t){"b"==t?(this.flag3=!0,this.flag1=!1,this.flag2=!1,this.flag4=!1,this.formVa.accidentType2="",this.formVa.macd="",this.formVa.materialModel="",this.formVa.materialNumber=""):"c"==t&&(this.flag3=!1,this.flag1=!1,this.flag2=!1,this.flag4=!0,this.formVa.accidentType="",this.formVa.macd="",this.formVa.materialModel="",this.formVa.materialNumber="")},wac3:function(t){"a"==t?(this.flag1=!0,this.flag2=!1,this.formVa.materialModel="",this.formVa.materialNumber=""):"b"==t?(this.flag1=!1,this.flag2=!0,this.formVa.macd=""):(this.flag1=!1,this.flag2=!1,this.formVa.materialModel="",this.formVa.materialNumber="",this.formVa.macd="")},selectA:function(){var t=this;y(t.equipBreak).then(function(e){console.log(e),0==e.data.code?(t.equipBreak.custName=e.data.data.custArea,t.equipBreak.equipName=e.data.data.devName,t.equipBreak.equipType=e.data.data.unitType,t.equipBreak.department=e.data.data.department,t.equipBreak.location=e.data.data.location,t.equipBreak.address=e.data.data.custAddress,t.formV.machCode=t.equipBreak.machCode):t.$layerMsg(e.data.msg)})},addSub:function(){var t,e=this;"formV"==e.flag?(t=e.formV,o.a.post(m+"doNewOrder",u.a.stringify(v(t,d)))).then(function(t){0==t.data.code?(e.$layerMsg(t.data.msg),e.$router.push({path:"/home/workMsg",params:{user:"1"}}),location.reload()):e.$layerMsg(t.data.msg)}).catch(function(t){e.$layerMsg("请求出错")}):"formVa"==e.flag&&(console.log(e.formVa),_(e.formVa).then(function(t){0==t.data.code?(e.$layerMsg(t.data.msg),e.$router.push({path:"/home/workMsg",params:{user:"1"}}),location.reload()):e.$layerMsg(t.data.msg)}).catch(function(t){e.$layerMsg("请求出错")}))},breakdownFun:function(){this.breakdown=!0,this.demand=!1,this.flag="formV",this.subV="立即保修",this.isBoxShadow1=!0,this.isBoxShadow2=!1},demandFun:function(){var t=this;t.demand=!0,t.breakdown=!1,t.flag="formVa",t.subV="需求提交",t.isBoxShadow1=!1,t.isBoxShadow2=!0;sessionStorage.getItem("username");var e=sessionStorage.getItem("serviceArea"),a=sessionStorage.getItem("userRole"),i={username:sessionStorage.getItem("serviceArea")};"总部客服"==a||"运维总监"==a?(t.zbkf=!0,t.ywzl=!1,p().then(function(e){e.data.data;t.serArea=e.data.data}).catch(function(t){})):"客户"==a?(t.zbkf=!1,t.ywzl=!0,t.serArea=i,console.log(t.serArea)):(t.zbkf=!1,t.ywzl=!0,t.serArea="广州乐派数码科技有限公司"==e||"行业客户部"==e||"系统推进部"==e?["广州乐派数码科技有限公司","行业客户部","系统推进部"]:i,console.log(t.serArea))},prop:function(){},back:function(){this.$router.back(-1)},custNameScreen:function(){var t=this;t.isShow=!0;var e={custName:t.formVa.custName};f(e).then(function(e){console.log(e),t.keyupData=e.data.data,console.log(t.keyupData)}).catch(function(t){})},namecust:function(t){console.log(t),this.formVa.custName=t,this.isShow=!1},blurHid:function(){var t=this;setTimeout(function(){t.isShow=!1},300)}},created:function(){this.prop()}},Wt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"addWindow"},[i("div",{staticClass:"body"},[i("a",{staticClass:"close",attrs:{href:"javascript:;"},on:{click:function(e){t.back()}}},[i("img",{attrs:{src:a("CjA4")}})]),t._v(" "),i("div",{staticClass:"addWin"},[i("div",{staticClass:"choseWin"},[t.accident?i("button",{staticClass:"chosebtn",class:{boxShadow:t.isBoxShadow1},on:{click:function(e){t.breakdownFun()}}},[t._v("事故报修")]):t._e(),t._v(" "),i("button",{staticClass:"chosebtn",class:{boxShadow:t.isBoxShadow2},attrs:{id:"fwbut"},on:{click:function(e){t.demandFun()}}},[t._v("服务需求")])]),t._v(" "),t.breakdown?i("div",{staticClass:"breakdown"},[i("div",{staticClass:"divW"},[t._m(0),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.equipBreak.machCode,expression:"equipBreak.machCode"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.equipBreak.machCode},on:{blur:function(e){t.selectA()},input:function(e){e.target.composing||t.$set(t.equipBreak,"machCode",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"divW"},[t._m(1),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.equipBreak.custName,expression:"equipBreak.custName"}],staticClass:"layui-input",attrs:{type:"text",unselectable:"on",readonly:"",autocomplete:"off"},domProps:{value:t.equipBreak.custName},on:{input:function(e){e.target.composing||t.$set(t.equipBreak,"custName",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"divW"},[t._m(2),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.equipBreak.equipName,expression:"equipBreak.equipName"}],staticClass:"layui-input",attrs:{type:"text",unselectable:"on",readonly:"",autocomplete:"off"},domProps:{value:t.equipBreak.equipName},on:{input:function(e){e.target.composing||t.$set(t.equipBreak,"equipName",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"divW"},[t._m(3),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.equipBreak.equipType,expression:"equipBreak.equipType"}],staticClass:"layui-input",attrs:{type:"text",unselectable:"on",readonly:"",autocomplete:"off"},domProps:{value:t.equipBreak.equipType},on:{input:function(e){e.target.composing||t.$set(t.equipBreak,"equipType",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"divW"},[t._m(4),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.equipBreak.department,expression:"equipBreak.department"}],staticClass:"layui-input",attrs:{type:"text",unselectable:"on",readonly:"",autocomplete:"off"},domProps:{value:t.equipBreak.department},on:{input:function(e){e.target.composing||t.$set(t.equipBreak,"department",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"divW"},[t._m(5),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.equipBreak.location,expression:"equipBreak.location"}],staticClass:"layui-input",attrs:{type:"text",unselectable:"on",readonly:"",autocomplete:"off"},domProps:{value:t.equipBreak.location},on:{input:function(e){e.target.composing||t.$set(t.equipBreak,"location",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"divW"},[t._m(6),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.equipBreak.address,expression:"equipBreak.address"}],staticClass:"layui-input",attrs:{type:"text",unselectable:"on",readonly:"",autocomplete:"off"},domProps:{value:t.equipBreak.address},on:{input:function(e){e.target.composing||t.$set(t.equipBreak,"address",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"divW"},[t._m(7),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.repairMan,expression:"formV.repairMan"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formV.repairMan},on:{input:function(e){e.target.composing||t.$set(t.formV,"repairMan",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"divW"},[t._m(8),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.repairService,expression:"formV.repairService"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formV.repairService},on:{input:function(e){e.target.composing||t.$set(t.formV,"repairService",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"divW"},[t._m(9),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.accidentType,expression:"formV.accidentType"}],attrs:{type:"radio",name:"",value:"a"},domProps:{checked:t._q(t.formV.accidentType,"a")},on:{click:function(e){t.wac("a")},change:function(e){t.$set(t.formV,"accidentType","a")}}}),i("label",[t._v("硬件故障")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.accidentType,expression:"formV.accidentType"}],attrs:{type:"radio",name:"",value:"b"},domProps:{checked:t._q(t.formV.accidentType,"b")},on:{click:function(e){t.wac("b")},change:function(e){t.$set(t.formV,"accidentType","b")}}}),i("label",[t._v("软件故障")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.accidentType,expression:"formV.accidentType"}],attrs:{type:"radio",name:"",value:"c"},domProps:{checked:t._q(t.formV.accidentType,"c")},on:{click:function(e){t.wac("c")},change:function(e){t.$set(t.formV,"accidentType","c")}}}),i("label",[t._v("耗材断供")])])]),t._v(" "),t.flagF?i("div",{staticClass:"divW"},[t._m(10),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.materialModel,expression:"formV.materialModel"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formV.materialModel},on:{input:function(e){e.target.composing||t.$set(t.formV,"materialModel",e.target.value)}}})])]):t._e(),t._v(" "),t.flagF?i("div",{staticClass:"divW"},[t._m(11),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.materialNumber,expression:"formV.materialNumber"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formV.materialNumber},on:{input:function(e){e.target.composing||t.$set(t.formV,"materialNumber",e.target.value)}}})])]):t._e(),t._v(" "),i("div",{staticClass:"divW"},[i("label",{staticClass:"winLabel",staticStyle:{"vertical-align":"top"}},[t._v("故障描述")]),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formV.describe,expression:"formV.describe"}],staticClass:"textWid",attrs:{autocomplete:"off"},domProps:{value:t.formV.describe},on:{input:function(e){e.target.composing||t.$set(t.formV,"describe",e.target.value)}}})])])]):t._e(),t._v(" "),t.demand?i("div",{staticClass:"demand"},[i("div",{staticClass:"divW"},[t._m(12),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.formVa.serviceArea,expression:"formVa.serviceArea"}],staticClass:"allinput",attrs:{name:"",id:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formVa,"serviceArea",e.target.multiple?a:a[0])}}},[i("option",{attrs:{value:"",id:""}},[t._v("请选择")]),t._v(" "),t._l(t.serArea,function(e){return t.zbkf?i("option",{domProps:{value:e.compName}},[t._v(t._s(e.compName))]):t._e()}),t._v(" "),t._l(t.serArea,function(e){return t.ywzl?i("option",{domProps:{value:e}},[t._v(t._s(e))]):t._e()})],2)])]),t._v(" "),i("div",{staticClass:"divW"},[t._m(13),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.custName,expression:"formVa.custName"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formVa.custName},on:{keyup:function(e){t.custNameScreen()},blur:function(e){t.blurHid()},input:function(e){e.target.composing||t.$set(t.formVa,"custName",e.target.value)}}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"nameData"},[i("div",[t._v("请选择")]),t._v(" "),t._l(t.keyupData,function(e,a){return i("div",{key:a,on:{click:function(a){t.namecust(e.custName)}}},[t._v(t._s(e.custName))])})],2)])]),t._v(" "),i("div",{staticClass:"divW"},[t._m(14),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.repairMan,expression:"formVa.repairMan"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formVa.repairMan},on:{input:function(e){e.target.composing||t.$set(t.formVa,"repairMan",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"divW"},[t._m(15),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.repairService,expression:"formVa.repairService"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formVa.repairService},on:{input:function(e){e.target.composing||t.$set(t.formVa,"repairService",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"divW"},[t._m(16),t._v(" "),i("div",{staticClass:"layui-input-inline"},[t.khHide?i("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.faultType,expression:"formVa.faultType"}],attrs:{type:"radio",name:"",value:"b"},domProps:{checked:t._q(t.formVa.faultType,"b")},on:{click:function(e){t.wac2("b")},change:function(e){t.$set(t.formVa,"faultType","b")}}}):t._e(),t.khHide?i("label",[t._v("事件类")]):t._e(),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.faultType,expression:"formVa.faultType"}],attrs:{type:"radio",name:"",value:"c"},domProps:{checked:t._q(t.formVa.faultType,"c")},on:{click:function(e){t.wac2("c")},change:function(e){t.$set(t.formVa,"faultType","c")}}}),i("label",[t._v("需求类")])])]),t._v(" "),t.flag3?i("div",{staticClass:"divW"},[t._m(17),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("div",{staticClass:"layui-input-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.accidentType,expression:"formVa.accidentType"}],attrs:{type:"radio",name:"",value:"a"},domProps:{checked:t._q(t.formVa.accidentType,"a")},on:{change:function(e){t.$set(t.formVa,"accidentType","a")}}}),i("label",[t._v("保养")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.accidentType,expression:"formVa.accidentType"}],attrs:{type:"radio",name:"",value:"b"},domProps:{checked:t._q(t.formVa.accidentType,"b")},on:{change:function(e){t.$set(t.formVa,"accidentType","b")}}}),i("label",[t._v("送货")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.accidentType,expression:"formVa.accidentType"}],attrs:{type:"radio",name:"",value:"c"},domProps:{checked:t._q(t.formVa.accidentType,"c")},on:{change:function(e){t.$set(t.formVa,"accidentType","c")}}}),i("label",[t._v("抄表")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.accidentType,expression:"formVa.accidentType"}],attrs:{type:"radio",name:"",value:"d"},domProps:{checked:t._q(t.formVa.accidentType,"d")},on:{change:function(e){t.$set(t.formVa,"accidentType","d")}}}),i("label",[t._v("送文件")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.accidentType,expression:"formVa.accidentType"}],attrs:{type:"radio",name:"",value:"e"},domProps:{checked:t._q(t.formVa.accidentType,"e")},on:{change:function(e){t.$set(t.formVa,"accidentType","e")}}}),i("label",[t._v("其他")])])])]):t._e(),t._v(" "),t.flag4?i("div",{staticClass:"divW"},[t._m(18),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.accidentType2,expression:"formVa.accidentType2"}],attrs:{type:"radio",name:"",value:"a"},domProps:{checked:t._q(t.formVa.accidentType2,"a")},on:{click:function(e){t.wac3("a")},change:function(e){t.$set(t.formVa,"accidentType2","a")}}}),i("label",[t._v("设备变动")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.accidentType2,expression:"formVa.accidentType2"}],attrs:{type:"radio",name:"",value:"b"},domProps:{checked:t._q(t.formVa.accidentType2,"b")},on:{click:function(e){t.wac3("b")},change:function(e){t.$set(t.formVa,"accidentType2","b")}}}),i("label",[t._v("耗材补充")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.accidentType2,expression:"formVa.accidentType2"}],attrs:{type:"radio",name:"",value:"c"},domProps:{checked:t._q(t.formVa.accidentType2,"c")},on:{click:function(e){t.wac3("c")},change:function(e){t.$set(t.formVa,"accidentType2","c")}}}),i("label",[t._v("安装实施")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.accidentType2,expression:"formVa.accidentType2"}],attrs:{type:"radio",name:"",value:"d"},domProps:{checked:t._q(t.formVa.accidentType2,"d")},on:{click:function(e){t.wac3("d")},change:function(e){t.$set(t.formVa,"accidentType2","d")}}}),i("label",[t._v("客户培训")])])]):t._e(),t._v(" "),t.flag1?i("div",{staticClass:"divW"},[t._m(19),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.macd,expression:"formVa.macd"}],attrs:{type:"radio",name:"",value:"a"},domProps:{checked:t._q(t.formVa.macd,"a")},on:{change:function(e){t.$set(t.formVa,"macd","a")}}}),i("label",[t._v("加机")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.macd,expression:"formVa.macd"}],attrs:{type:"radio",name:"",value:"b"},domProps:{checked:t._q(t.formVa.macd,"b")},on:{change:function(e){t.$set(t.formVa,"macd","b")}}}),i("label",[t._v("变更")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.macd,expression:"formVa.macd"}],attrs:{type:"radio",name:"",value:"c"},domProps:{checked:t._q(t.formVa.macd,"c")},on:{change:function(e){t.$set(t.formVa,"macd","c")}}}),i("label",[t._v("撤除")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.macd,expression:"formVa.macd"}],attrs:{type:"radio",name:"",value:"d"},domProps:{checked:t._q(t.formVa.macd,"d")},on:{change:function(e){t.$set(t.formVa,"macd","d")}}}),i("label",[t._v("移动")])])]):t._e(),t._v(" "),t.flag2?i("div",{staticClass:"divW"},[t._m(20),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.materialModel,expression:"formVa.materialModel"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formVa.materialModel},on:{input:function(e){e.target.composing||t.$set(t.formVa,"materialModel",e.target.value)}}})])]):t._e(),t._v(" "),t.flag2?i("div",{staticClass:"divW"},[t._m(21),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.materialNumber,expression:"formVa.materialNumber"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formVa.materialNumber},on:{input:function(e){e.target.composing||t.$set(t.formVa,"materialNumber",e.target.value)}}})])]):t._e(),t._v(" "),i("div",{staticClass:"divW"},[i("label",{staticClass:"winLabel",staticStyle:{"vertical-align":"top"}},[t._v("需求描述")]),t._v(" "),i("div",{staticClass:"layui-input-inline"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formVa.describe,expression:"formVa.describe"}],staticClass:"textWid",attrs:{autocomplete:"off"},domProps:{value:t.formVa.describe},on:{input:function(e){e.target.composing||t.$set(t.formVa,"describe",e.target.value)}}})])])]):t._e(),t._v(" "),i("div",{staticClass:"submitNow"},[i("button",{on:{click:function(e){t.addSub()}}},[t._v(t._s(t.subV))])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("机器编码")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("客户名称")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("设备类型")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("设备型号")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("部门")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("设备位置")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("客户地址")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("报修人/联系人")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("报修人联系电话")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("服务类别")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("耗材型号")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("耗材数量")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("服务区域")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("客户名称")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("报修人/联系人")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("报修人联系电话")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("服务类型")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("服务类别")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("服务类别")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("设备变动")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("耗材型号")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("耗材数量")])}]};var qt=a("VU/8")(Pt,Wt,!1,function(t){a("EYG+")},null,null).exports,Lt={name:"Assistant",components:{Index:V},data:function(){return{item:""}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=sessionStorage.getItem("username");layui.use(["table","form","laydate"],function(){var a=layui.table,i=layui.laydate,s=layui.form;i.render({elem:"#contractPeriod"}),i.render({elem:"#startDate"}),i.render({elem:"#endDate"}),s.render(),a.render({elem:"#demo",height:"full-280",cellMinWidth:120,url:t.$url+"failureAnalysis",where:{username:e},page:!0,limit:20,cols:[[{field:"id",title:"序号",type:"numbers",width:80,fixed:"left"},{field:"custName",title:"客户名称",width:180,fixed:"left"},{field:"servicrArea",title:"服务区域"},{field:"machCode",title:"机器编码"},{field:"devName",title:"设备类型"},{field:"faultType",title:"故障类型"},{field:"downTime",title:"停机时间(分钟)",width:150},{field:"repairTime",title:"创建时间",templet:"<div>{{layui.util.toDateString(d.repairTime,'yyyy-MM-dd')}}</div>"},{field:"bz",title:"操作项",toolbar:"#barDemo"}]],id:"testReload",done:function(e){console.log(e),console.log(t.limita)}}),t.$serviceArea(p),a.on("tool(demo)",function(e){"history"==e.event&&layer.open({type:1,title:"查看历史",content:$("#history"),area:["100%","100%"]}),a.render({elem:"#test",height:"full-100",cellMinWidth:120,url:t.$url+"faultRecord?machCode="+e.data.machCode,page:!0,limit:20,cols:[[{field:"woNumber",title:"工单号码",sort:!0},{field:"machCode",title:"机器编码",sort:!0},{field:"devName",title:"设备类型",sort:!0},{field:"machCode",title:"设备型号"},{field:"esNumber",title:"设备序列号"},{field:"location",title:"设备位置"},{field:"repairMan",title:"报修人姓名"},{field:"repairTime",title:"报修时间",templet:"<div>{{layui.util.toDateString(d.repairTime,'yyyy-MM-dd')}}</div>"},{field:"enginnerName",title:"指定工程师"},{field:"probSolve",title:"问题解决时间",templet:"<div>{{layui.util.toDateString(d.probSolve,'yyyy-MM-dd')}}</div>"},{field:"faultType",title:"服务类型"},{field:"accidentType",title:"服务类别"},{field:"faultNo",title:"故障代码"},{field:"mainTenanceFeedback",title:"故障描述"},{field:"treatmentMeasure",title:"处理措施"}]]})}),s.on("submit(formDome)",function(i){$(".layui-icon-close").click();i=i.field;return a.reload("testReload",{url:t.$url+"failureAnalysis",where:{custName:i.name,machCode:i.bianma,serviceArea:i.serAddr,username:e},page:{curr:1}}),!1})})}},destroyed:function(){$(".layui-icon-close").click()}},zt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>维修履历<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDome"}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.$exportE("exportFaiure")}}},[t._v("导出")])])])]),t._v(" "),t._m(1),t._v(" "),a("script",{attrs:{type:"text/html",id:"barDemo"}},[t._v('\r\n                <a class="layui-btn layui-btn-xs" lay-event="history">查看历史</a>\r\n            ')])]),t._v(" "),t._m(2)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("客户名称")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"name","lay-verify":"",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("服务区域")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("select",{attrs:{name:"serAddr","lay-verify":""}},[a("option",{attrs:{value:"",id:"address"}})])])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("机器编码")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"bianma","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dis-n",attrs:{id:"history"}},[e("table",{attrs:{id:"test","lay-filter":"test"}})])}]};var Ot=a("VU/8")(Lt,zt,!1,function(t){a("I50/")},"data-v-53a5ae40",null).exports,jt=a("fZjL"),Ft=a.n(jt),Bt={name:"EquipmentManage",components:{Index:V},data:function(){return{flag:"",issecret:"",formV:{ID:"",assetAttr:"",assetNumber:"",holdDepartment:"",holdMan:"",assetClass:"",assetStatus:"",specifications:"",machCode:"",deviceType:"",unitType:"",esNumber:"",deviceBrand:"",outputSpec:"",deviceBound:""},formVa:{username:"",machCode:"",changeType:"",serviceArea:"",linkman:"",linkmanTel:"",location:"",department:"",serviceLevel:"",responsibleEngineer:"",reserveEnginner:"",IP:"",bwReader:"",colorReader:"",installedTime:"",secret:"",secretLevel:""},number:{count:""},xunwei:!0,xunweis:!0,addShow:!1,limita:0}},mounted:function(){var t=this.$route.params.woStatus;this.getData(t)},methods:{wac:function(t){"true"==t?this.issecret=!0:(this.issecret=!1,this.formVa.secretLevel="")},getData:function(t){var e=this,a=sessionStorage.getItem("username"),i=sessionStorage.getItem("userRole"),s=(sessionStorage.getItem("serviceArea"),"");console.log(e.showA()),s=e.showA()?"#toolbarDemo":"";layui.use(["table","form","laydate","util"],function(){var l=layui.table,n=layui.form,r=layui.laydate;r.render({elem:"#startDate"}),r.render({elem:"#endDate"}),n.render(),l.render({elem:"#demo",height:"full-320",cellMinWidth:120,toolbar:s,url:e.$url+"equipmentInfo",where:{username:a,woStatus:t},page:!0,limit:20,cols:[[{field:"check",type:"checkbox",fixed:"left"},{field:"id",title:"序号",type:"numbers",width:80,fixed:"left"},{field:"custArea",title:"客户名称",minWidth:180,fixed:"left"},{field:"serviceArea",title:"服务区域",minWidth:180},{field:"contractNo",title:"合同编码"},{field:"deviceType",title:"设备类型"},{field:"machCode",title:"机器编码"},{field:"esNumber",title:"设备序列号"},{field:"unitType",title:"设备型号"},{field:"location",title:"设备位置"},{field:"deviceBrand",title:"设备品牌"},{field:"ip",title:"设备IP"},{field:"installedTime",title:"安装日期",templet:function(t){return""==t.installedTime?"":"<div>"+layui.util.toDateString(t.installedTime,"yyyy-MM-dd")+"</div>"}},{field:"assetAttr",title:"资产属性"},{field:"assetStatus",title:"资产状态"},{field:"assetNumber",title:"资产编码"},{field:"secret",title:"是否涉密设备"},{field:"czx",fixed:"right",title:"操作项",width:300,templet:function(t){return e.isShow(t)}}]],id:"test",done:function(t){console.log(t);t.data;"客户"==i?($("[data-field='assetNumber']").css("display","none"),$("[data-field='czx']").css("display","none"),$("[data-field='check']").css("display","none")):"总部客服"!=i&&"运维总监"!=i&&"运维经理"!=i&&"技术主管"!=i||($("[data-field='czx']").css("display","none"),$("[data-field='check']").css("display","none"))}}),e.$serviceArea(p),l.on("tool(demo)",function(t){var i=t.data;if("view"==t.event){var s=i.machCode;e.$exportEa("qrCode?machCode="+s)}else if("exportQode"==t.event){s=i.machCode;window.open(e.$url+"downQrCode?machCode="+s+"&username="+a)}else"edit"==t.event?(console.log(i),e.flag="edit",e.formV.ID=i.id,e.formV.assetAttr=i.assetAttr,e.formV.assetNumber=i.assetNumber,e.formV.assetStatus=i.assetStatus,e.formV.holdDepartment=i.holdDepartment,e.formV.holdMan=i.holdMan,e.formV.assetClass=i.assetClass,e.formV.specifications=i.specifications,e.formV.machCode=i.machCode,e.formV.deviceType=i.deviceType,e.formV.unitType=i.unitType,e.formV.esNumber=i.esNumber,e.formV.deviceBrand=i.deviceBrand,e.formV.outputSpec=i.outputSpec,e.formV.deviceBound=i.deviceBound,layer.open({type:1,title:"修改",area:["700px","500px"],content:$(".sdd")})):"change"==t.event&&(console.log(i),e.flag="change",e.formVa.machCode=i.machCode,e.formVa.changeType=i.changeType,e.formVa.serviceArea=i.serviceArea,e.formVa.linkman=i.custLinkman,e.formVa.linkmanTel=i.linkmanPhone,e.formVa.location=i.location,e.formVa.department=i.department,e.formVa.serviceLevel=i.serviceLevel,e.formVa.responsibleEngineer=i.responsibleEngineer,e.formVa.reserveEnginner=i.reserveEnginner,e.formVa.IP=i.ip,e.formVa.bwReader=i.bwReader,e.formVa.colorReader=i.colorReader,e.formVa.installedTime=i.installedTime,"是"==i.secret?(e.formVa.secret=!0,e.issecret=!0):"否"==i.secret&&(e.formVa.secret=!1,e.issecret=!1),"秘密"==i.secretLevel?e.formVa.secretLevel="1":"机密"==i.secretLevel?e.formVa.secretLevel="2":"绝密"==i.secretLevel?e.formVa.secretLevel="3":e.formVa.secretLevel=i.secretLevel,layer.open({type:1,title:"变动",content:$("#windows"),area:["900px","450px"]}))}),l.on("toolbar(demo)",function(t){var i,s=l.checkStatus(t.config.id);if("getCheckData"==t.event){var n=s.data;n=Q()(n),n=JSON.parse(n);for(var r=[],c=0;c<n.length;c++)r.push(n[c].machCode);r=r.join(",");var f={machCodeArr:r=Q()(r)};console.log(r),console.log(f),'""'===r?(console.log("jhjh"),layer.msg("请选择导出的信息!")):(i=f,o.a.post(m+"downQrCodeAll",u.a.stringify(v(i,d)))).then(function(t){window.open(e.$url+"downQrCodeAll?machCodeArr="+r+"&username="+a)})}})})},selectAll:function(){$(".layui-icon-close").click();var t=this,e="",a=sessionStorage.getItem("userRole");e=t.showA()?"#toolbarDemo":"",layui.use(["table","form","laydate"],function(){var i=layui.table,s=layui.form;layui.laydate;s.on("submit(formDemo)",function(s){var l=s.field.custName,n=s.field.serviceArea,r=s.field.assetAscription,o=s.field.macNum,c=sessionStorage.getItem("username");return i.render({elem:"#demo",height:"full-320",cellMinWidth:120,toolbar:e,url:t.$url+"equipmentInfo",method:"post",where:{custName:l,serviceArea:n,assetAscription:r,machCode:o,username:c,woStatus:""},page:!0,limit:20,cols:[[{type:"checkbox",fixed:"left"},{field:"id",title:"序号",type:"numbers",width:80,fixed:"left"},{field:"custArea",title:"客户名称",minWidth:180,fixed:"left"},{field:"serviceArea",title:"服务区域",minWidth:180},{field:"contractNo",title:"合同编码"},{field:"deviceType",title:"设备类型"},{field:"machCode",title:"机器编码"},{field:"esNumber",title:"设备序列号"},{field:"unitType",title:"设备型号"},{field:"location",title:"设备位置"},{field:"deviceBrand",title:"设备品牌"},{field:"installedTime",title:"安装日期",templet:function(t){return""==t.installedTime?"":"<div>"+layui.util.toDateString(t.installedTime,"yyyy-MM-dd")+"</div>"}},{field:"assetAttr",title:"资产属性"},{field:"assetStatus",title:"资产状态"},{field:"assetNumber",title:"资产编码"},{field:"secret",title:"是否涉密设备"},{field:"czx",fixed:"right",title:"操作项",width:300,templet:function(e){return t.isShow(e)}}]],id:"test",done:function(t){console.log(t,a);t.data;"客户"==a?($("[data-field='assetNumber']").css("display","none"),$("[data-field='czx']").css("display","none")):"总部客服"!=a&&"运维总监"!=a&&"运维经理"!=a&&"技术主管"!=a||$("[data-field='czx']").css("display","none")}}),!1})})},add:function(){this.flag="add";Ft()(this.formV).length;for(var t in this.formV)this.formV[t]="",this.formV.assetAttr="",this.formV.ID="",this.xunwei=!1,this.xunweis=!1;layui.use(["table","form","laydate"],function(){layui.table;var t=layui.layer;layui.form;t.open({type:1,title:"新增",area:["700px","500px"],content:$(".sdd")})})},subMit:function(){var t,e=this;"add"==e.flag?(t=e.formV,o.a.post(m+"doAddEquipment",u.a.stringify(v(t,d)))).then(function(t){0==t.data.code?(e.$layerClose("test"),e.$layerMsg("新增成功")):e.$layerMsg(t.data.msg)}).catch(function(t){}):"edit"==e.flag?("迅维"!=e.formV.assetAttr&&(e.formV.holdMan="",e.formV.holdDepartment="",e.formV.assetNumber="",e.formV.assetStatus=""),function(t){return o.a.post(m+"deviceChange",u.a.stringify(v(t,d)))}(e.formV).then(function(t){0==t.data.code?(e.$layerClose("test"),e.$layerMsg("修改成功")):e.$layerMsg(t.data.msg)}).catch(function(t){})):"change"==e.flag&&(e.formVa.username=sessionStorage.getItem("username"),function(t){return o.a.post(m+"changeEquipment",u.a.stringify(v(t,d)))}(e.formVa).then(function(t){0==t.data.code?(e.$layerClose("test"),e.$layerMsg("变动成功")):e.$layerMsg(t.data.msg)}).catch(function(t){console.log(t)}))},exportExcel:function(){this.$exportE("exportEquipment")},showA:function(){var t=[this.$admin.ywzl,this.$admin.zxcry,this.$admin.kfzg,this.$admin.admin];console.log(t);for(var e=0,a=t.length;e<a;e++)if(t[e]==this.$userRole)return this.addShow=!0,!0},isShow:function(){var t=this.$admin;console.log(t);return t.admin==this.$userRole||t.zxcry==this.$userRole||t.kfzg==this.$userRole||t.ywzl==this.$userRole?'<a class="layui-btn layui-btn-xs" lay-event="view">查看二维码</a><a class="layui-btn layui-btn-xs" lay-event="exportQode">导出二维码</a><a class="layui-btn layui-btn-xs" lay-event="change">变动</a><a class="layui-btn layui-btn-xs" lay-event="edit">修改</a>':'<a class="layui-btn layui-btn-xs noAdmin">'+this.$noAdmin+"</a>"}},created:function(){this.showA()},watch:{newValue:function(t,e){console.log("b.c: "+t,e),console.log(this.flag),"edit"==this.flag?"迅维"==t?(this.xunwei=!0,this.xunweis=!0):(this.xunwei=!1,this.xunweis=!1):(this.xunweis=!1,"迅维"==t?this.xunwei=!0:"客户"==t?(this.xunwei=!1,this.formV.holdMan="",this.formV.holdDepartment="",this.formV.assetNumber=""):"其他"==t?(this.xunwei=!1,this.formV.holdMan="",this.formV.holdDepartment="",this.formV.assetNumber=""):this.xunwei=!1)}},computed:{newValue:function(){return this.formV.assetAttr}},destroyed:function(){$(".layui-icon-close").click()}},Ut={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>设备管理<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDemo"},on:{click:function(e){t.selectAll()}}},[t._v("查询")]),t._v(" "),t.addShow?a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.add()}}},[t._v("新增")]):t._e(),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])])]),t._v(" "),t._m(1),t._v(" "),a("script",{attrs:{type:"text/html",id:"toolbarDemo"}},[t._v('\n\t\t\t\t<div class="layui-btn-container">\n\t\t\t\t\t<button class="layui-btn layui-bg-blue" lay-event="getCheckData">批量导出二维码</button>\n\t\t\t\t\t\x3c!-- <button class="layui-btn layui-btn-sm" lay-event="getCheckLength">获取选中数目</button>\n\t\t\t\t\t<button class="layui-btn layui-btn-sm" lay-event="isAll">验证是否全选</button> --\x3e\n\t\t\t\t</div>\n\t\t\t')])]),t._v(" "),a("div",{staticClass:"dis-n sdd"},[a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(2),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formV.assetAttr,expression:"formV.assetAttr"}],staticClass:"allinput upWidth",attrs:{"lay-filter":""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formV,"assetAttr",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"迅维"}},[t._v("迅维")]),t._v(" "),a("option",{attrs:{value:"客户"}},[t._v("客户")]),t._v(" "),a("option",{attrs:{value:"其他"}},[t._v("其他")])])])])]),t._v(" "),t.xunwei?a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(3),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.holdMan,expression:"formV.holdMan"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":""},domProps:{value:t.formV.holdMan},on:{input:function(e){e.target.composing||t.$set(t.formV,"holdMan",e.target.value)}}})])])]):t._e(),t._v(" "),t.xunwei?a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(4),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.holdDepartment,expression:"formV.holdDepartment"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":""},domProps:{value:t.formV.holdDepartment},on:{input:function(e){e.target.composing||t.$set(t.formV,"holdDepartment",e.target.value)}}})])])]):t._e(),t._v(" "),t.xunwei?a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(5),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.assetNumber,expression:"formV.assetNumber"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":""},domProps:{value:t.formV.assetNumber},on:{input:function(e){e.target.composing||t.$set(t.formV,"assetNumber",e.target.value)}}})])])]):t._e(),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[t._v("资产类别：")]),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.assetClass,expression:"formV.assetClass"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":""},domProps:{value:t.formV.assetClass},on:{input:function(e){e.target.composing||t.$set(t.formV,"assetClass",e.target.value)}}})])])]),t._v(" "),t.xunweis?a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(6),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formV.assetStatus,expression:"formV.assetStatus"}],staticClass:"allinput upWidth",attrs:{"lay-filter":""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formV,"assetStatus",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"使用中"}},[t._v("使用中")]),t._v(" "),a("option",{attrs:{value:"报废"}},[t._v("报废")])])])])]):t._e(),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[t._v("规格型号：")]),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.specifications,expression:"formV.specifications"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":""},domProps:{value:t.formV.specifications},on:{input:function(e){e.target.composing||t.$set(t.formV,"specifications",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(7),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.machCode,expression:"formV.machCode"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":""},domProps:{value:t.formV.machCode},on:{input:function(e){e.target.composing||t.$set(t.formV,"machCode",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(8),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.deviceType,expression:"formV.deviceType"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":""},domProps:{value:t.formV.deviceType},on:{input:function(e){e.target.composing||t.$set(t.formV,"deviceType",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(9),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.unitType,expression:"formV.unitType"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":""},domProps:{value:t.formV.unitType},on:{input:function(e){e.target.composing||t.$set(t.formV,"unitType",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[t._v("设备序列号：")]),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.esNumber,expression:"formV.esNumber"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":""},domProps:{value:t.formV.esNumber},on:{input:function(e){e.target.composing||t.$set(t.formV,"esNumber",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(10),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.deviceBrand,expression:"formV.deviceBrand"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":""},domProps:{value:t.formV.deviceBrand},on:{input:function(e){e.target.composing||t.$set(t.formV,"deviceBrand",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[t._v("输出规格：")]),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.outputSpec,expression:"formV.outputSpec"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":""},domProps:{value:t.formV.outputSpec},on:{input:function(e){e.target.composing||t.$set(t.formV,"outputSpec",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[t._v("设备幅面：")]),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.deviceBound,expression:"formV.deviceBound"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":""},domProps:{value:t.formV.deviceBound},on:{input:function(e){e.target.composing||t.$set(t.formV,"deviceBound",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item btn"},[a("button",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.subMit()}}},[t._v("提交")])])]),t._v(" "),a("div",{staticClass:"dis-n",attrs:{id:"windows"}},[a("div",{staticClass:"divW"},[t._m(11),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formVa.changeType,expression:"formVa.changeType"}],attrs:{name:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formVa,"changeType",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"null"}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"移动"}},[t._v("移动")]),t._v(" "),a("option",{attrs:{value:"变更"}},[t._v("变更")]),t._v(" "),a("option",{attrs:{value:"撤除"}},[t._v("撤除")])])])]),t._v(" "),a("div",{staticClass:"divW"},[t._m(12),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.location,expression:"formVa.location"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formVa.location},on:{input:function(e){e.target.composing||t.$set(t.formVa,"location",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"divW"},[t._m(13),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.department,expression:"formVa.department"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formVa.department},on:{input:function(e){e.target.composing||t.$set(t.formVa,"department",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"divW"},[a("label",{staticClass:"winLabel"},[t._v("服务级别")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.serviceLevel,expression:"formVa.serviceLevel"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formVa.serviceLevel},on:{input:function(e){e.target.composing||t.$set(t.formVa,"serviceLevel",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"divW"},[a("label",{staticClass:"winLabel"},[t._v("客户联系人")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.linkman,expression:"formVa.linkman"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formVa.linkman},on:{input:function(e){e.target.composing||t.$set(t.formVa,"linkman",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"divW"},[a("label",{staticClass:"winLabel"},[t._v("客户联系电话")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.linkmanTel,expression:"formVa.linkmanTel"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formVa.linkmanTel},on:{input:function(e){e.target.composing||t.$set(t.formVa,"linkmanTel",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"divW"},[t._m(14),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.responsibleEngineer,expression:"formVa.responsibleEngineer"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formVa.responsibleEngineer},on:{input:function(e){e.target.composing||t.$set(t.formVa,"responsibleEngineer",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"divW"},[t._m(15),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.reserveEnginner,expression:"formVa.reserveEnginner"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formVa.reserveEnginner},on:{input:function(e){e.target.composing||t.$set(t.formVa,"reserveEnginner",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"divW"},[a("label",{staticClass:"winLabel"},[t._v("设备IP")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.IP,expression:"formVa.IP"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formVa.IP},on:{input:function(e){e.target.composing||t.$set(t.formVa,"IP",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"divW"},[a("label",{staticClass:"winLabel"},[t._v("初始黑白读数")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.bwReader,expression:"formVa.bwReader"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formVa.bwReader},on:{input:function(e){e.target.composing||t.$set(t.formVa,"bwReader",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"divW"},[a("label",{staticClass:"winLabel"},[t._v("初始彩色读数")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.colorReader,expression:"formVa.colorReader"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formVa.colorReader},on:{input:function(e){e.target.composing||t.$set(t.formVa,"colorReader",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"divW"},[t._m(16),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.installedTime,expression:"formVa.installedTime"}],staticClass:"layui-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:t.formVa.installedTime},on:{input:function(e){e.target.composing||t.$set(t.formVa,"installedTime",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"divW"},[t._m(17),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("label",[t._v("是"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.secret,expression:"formVa.secret"}],attrs:{type:"radio",name:"a",value:"true"},domProps:{checked:t._q(t.formVa.secret,"true")},on:{click:function(e){t.wac("true")},change:function(e){t.$set(t.formVa,"secret","true")}}})]),t._v(" "),a("label",[t._v("否"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.secret,expression:"formVa.secret"}],attrs:{type:"radio",name:"a",value:"false"},domProps:{checked:t._q(t.formVa.secret,"false")},on:{click:function(e){t.wac("false")},change:function(e){t.$set(t.formVa,"secret","false")}}})])])]),t._v(" "),t.issecret?a("div",{staticClass:"divW"},[t._m(18),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("label",[t._v("秘密"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.secretLevel,expression:"formVa.secretLevel"}],attrs:{type:"radio",name:"b",value:"1"},domProps:{checked:t._q(t.formVa.secretLevel,"1")},on:{change:function(e){t.$set(t.formVa,"secretLevel","1")}}})]),t._v(" "),a("label",[t._v("机密"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.secretLevel,expression:"formVa.secretLevel"}],attrs:{type:"radio",name:"b",value:"2"},domProps:{checked:t._q(t.formVa.secretLevel,"2")},on:{change:function(e){t.$set(t.formVa,"secretLevel","2")}}})]),t._v(" "),a("label",[t._v("绝密"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.secretLevel,expression:"formVa.secretLevel"}],attrs:{type:"radio",name:"b",value:"3"},domProps:{checked:t._q(t.formVa.secretLevel,"3")},on:{change:function(e){t.$set(t.formVa,"secretLevel","3")}}})])])]):t._e(),t._v(" "),a("div",{staticClass:"submitNow"},[a("button",{on:{click:function(e){t.subMit()}}},[t._v("提交")])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("客户名称")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"custName","lay-verify":"",placeholder:"",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("服务区域")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("select",{attrs:{name:"serviceArea","lay-verify":""}},[a("option",{attrs:{value:"",id:"address"}},[t._v("请选择")])])])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("资产属性")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("select",{attrs:{name:"assetAscription",id:""}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"迅维"}},[t._v("迅维")]),t._v(" "),a("option",{attrs:{value:"客户"}},[t._v("客户")]),t._v(" "),a("option",{attrs:{value:"其他"}},[t._v("其他")])])])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("机器编码")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"macNum","lay-verify":"",placeholder:"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("资产属性：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("保管人：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("保管部门：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("资产编码：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("资产状态：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("机器编码：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("设备类型：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("设备型号：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("设备品牌：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("变动类型")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("设备位置")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("使用部门")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("责任工程师名称")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("后备工程师名称")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("装机日期")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("是否涉密")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"winLabel"},[e("span",[this._v("*")]),this._v("涉密等级")])}]};var Ht=a("VU/8")(Bt,Ut,!1,function(t){a("7c2q")},"data-v-3e3f8674",null).exports,Yt={name:"Assets",components:{Index:V},data:function(){return{item:"",limita:0,limits:{},serArea:[],serAreas:""}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=sessionStorage.getItem("username"),a=sessionStorage.getItem("userRole");sessionStorage.getItem("serviceArea");layui.use(["table","layer","form"],function(){var i=layui.table,s=layui.layer,l=layui.form;l.render(),i.render({elem:"#demo",height:"full-280",cellMinWidth:120,url:t.$url+"assetManage",where:{username:e},cols:[[{field:"",title:"序号",rowspan:2,type:"numbers",width:80,fixed:"left"},{field:"custName",title:"客户名称",rowspan:2,width:180,fixed:"left"},{field:"serviceArea",title:"服务区域",rowspan:2,width:180},{field:"assetAttr",title:"资产属性",rowspan:2},{field:"holdDepartment",title:"保管部门",rowspan:2},{field:"holdMan",title:"保管人",rowspan:2},{field:"devName",title:"设备类型",rowspan:2},{field:"assetNumber",title:"资产编码",rowspan:2},{field:"assetClass",title:"资产类别",rowspan:2},{field:"specifications",title:"型号规格",rowspan:2},{field:"unit",title:"单位",rowspan:2},{align:"center",title:"账面数",colspan:5},{field:"realNumber",title:"实盘数",rowspan:2},{align:"center",title:"盘亏、馈差额",colspan:2},{field:"",title:"备注",rowspan:2},{field:"czx",fixed:"right",title:"操作项",rowspan:2,width:80,templet:function(e){return t.isShow(e)}}],[{field:"quantity",title:"数量"},{field:"unitPirce",title:"单价"},{field:"origValue",title:"原值"},{field:"accDep",title:"累计折旧"},{field:"netValue",title:"净值"},{field:"number",title:"数量"},{field:"money",title:"金额"}]],id:"testReload",page:!0,limit:20,done:function(e){console.log(e.data),console.log(t.serAreas),"客服经理"!=a&&"总部客服"!=a&&"运维助理"!=a&&"驻现场人员"!=a&&$("[data-field='czx']").css("display","none")}}),i.on("tool(demo)",function(t){"edit"==t.event&&(s.open({type:1,title:"编辑",area:["50%","80%"],content:$(".appraise")}),l.val("example",{assetNumber:t.data.assetNumber}))}),l.on("submit(evalSub)",function(t){console.log(t);var e,a={assetNumber:(t=t.field).assetNumber,unit:t.unit,quantity:t.quantity,unitPirce:t.unitPirce,origValue:t.origValue,accDep:t.accDep,netValue:t.netValue,realNumber:t.realNumber,number:t.number,money:t.money};(e=a,o.a.post(m+"changeAsset",u.a.stringify(v(e,d)))).then(function(t){0==t.data.code?($("#reset").click(),s.closeAll(),s.msg(t.data.msg),i.reload("testReload")):s.msg(t.data.msg)}).catch(function(t){})}),t.$serviceArea(p),l.on("submit(formDome)",function(a){a=a.field;$(".layui-icon-close").click(),i.reload("testReload",{url:t.$url+"assetManage",method:"post",where:{custName:a.name,serviceArea:a.address,assetAscription:"",username:e},page:{curr:1}})})})},exportE:function(){this.$exportE("exportAssetManage")},isShow:function(){var t=this.$admin;return t.zbkf==this.$userRole||t.admin==this.$userRole||t.zxcry==this.$userRole||t.kfzg==this.$userRole||t.ywzl==this.$userRole?'<a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>':'<a class="layui-btn layui-btn-xs noAdmin">'+this.$noAdmin+"</a>"}},destroyed:function(){$(".layui-icon-close").click()}},Kt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assets"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>资产管理<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-filter":"formDome","lay-submit":""}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportE()}}},[t._v("导出")])])])]),t._v(" "),t._m(1),t._v(" "),a("script",{attrs:{type:"text/html",id:"barDemo"}},[t._v('\n            \x3c!-- <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a> --\x3e\n        ')])]),t._v(" "),t._m(2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("服务区域")]),this._v(" "),e("div",{staticClass:"layui-input-block allinput"},[e("select",{attrs:{name:"address","lay-verify":""}},[e("option",{attrs:{value:"",id:"address"}})])])]),this._v(" "),e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("客户名称")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"name","lay-verify":"",placeholder:"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"appraise dis-n"},[a("form",{staticClass:"layui-form winForm",attrs:{"lay-filter":"example"}},[a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label winLabWidth"},[a("span",[t._v("*")]),t._v("资产编码")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"assetNumber",unselectable:"on",readonly:"",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label winLabWidth"},[t._v("单位")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"unit",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"winTitle"},[t._v("账面数")]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label winLabWidth"},[t._v("数量")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"quantity",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label winLabWidth"},[t._v("单价")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"unitPirce",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label winLabWidth"},[t._v("原值")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"origValue",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label winLabWidth"},[t._v("累计折旧")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"accDep",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label winLabWidth"},[t._v("净值")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"netValue",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label winLabWidth"},[t._v("实盘数")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"realNumber",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"winTitle"},[t._v("盘亏、馈差额")]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label winLabWidth"},[t._v("数量")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"number",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label winLabWidth"},[t._v("金额")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"money",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"evalSub"}},[t._v("提交")]),t._v(" "),a("button",{staticClass:"layui-btn dis-n",attrs:{type:"reset",id:"reset"}},[t._v("重置")])])])])}]};var Qt=a("VU/8")(Yt,Kt,!1,function(t){a("MWWD")},"data-v-a4194186",null).exports,Gt={name:"Assistant",components:{Index:V},data:function(){return{item:"",contractCode:"",custName:"",repairMan:"",repairService:"",responsibleEngineer:"",reservEngineer:"",formV:{machCode:"",mainFrequency:"",responsibleName:"",reserveEnginnerName:""},addShow:!1}},mounted:function(){this.getData()},methods:{selectA:function(){var t=this;y(t.formV).then(function(e){console.log(e),0==e.data.code?(t.contractCode=e.data.data.contractNo,t.custName=e.data.data.custArea,t.repairMan=e.data.data.custLinkman,t.repairService=e.data.data.linkmanPhone,t.reservEngineer=e.data.data.reserveEnginner,t.responsibleEngineer=e.data.data.responsibleEngineer):t.$layerMsg(e.data.msg)})},getData:function(){var t=this,e=sessionStorage.getItem("username"),a=sessionStorage.getItem("userRole");layui.use(["form","table"],function(){var i=layui.form,s=layui.table;s.render({elem:"#demo",height:"full-280",cellMinWidth:120,url:t.$url+"maintenancePlan",where:{username:e},method:"post",page:!0,limit:20,cols:[[{field:"",title:"序号",type:"numbers",minWidth:180,fixed:"left"},{field:"custName",title:"客户名称",minWidth:180,fixed:"left"},{field:"compName",title:"服务区域",minWidth:180},{field:"contractCode",title:"合同号码",minWidth:180},{field:"machCode",title:"机器编码"},{field:"repairMan",title:"联系人"},{field:"repairService",title:"联系电话"},{field:"mainFrequency",title:"保养频率"},{field:"responsibleEngineer",title:"责任工程师"},{field:"reservEngineer",title:"后备工程师"},{field:"czx",fixed:"right",title:"操作项",align:"center",width:120,templet:function(t){return'<a class="layui-btn layui-btn-xs" lay-event="exit">修改</a><a class="layui-btn layui-btn-xs layui-btn-danger" lay-event="delete">删除</a>'}}]],id:"test",done:function(e){t.custNum=e.count,"运维助理"!=a&&"驻现场人员"!=a&&"客服经理"!=a&&$("[data-field='czx']").css("display","none")}}),i.render(),i.on("submit(formDemo)",function(e){$(".layui-icon-close").click();e=Q()(e.field);var i=(e=JSON.parse(e)).custName,l=e.serviceArea,n=sessionStorage.getItem("username");return s.render({elem:"#demo",height:"full-280",cellMinWidth:120,url:t.$url+"maintenancePlan",method:"post",where:{custName:i,serviceArea:l,username:n},page:!0,limit:20,cols:[[{field:"",title:"序号",type:"numbers",minWidth:180,fixed:"left"},{field:"custName",title:"客户名称",minWidth:180,fixed:"left"},{field:"compName",title:"服务区域",minWidth:180},{field:"contractCode",title:"合同号码",minWidth:180},{field:"machCode",title:"机器编码"},{field:"repairMan",title:"联系人"},{field:"repairService",title:"联系电话"},{field:"mainFrequency",title:"保养频率"},{field:"responsibleEngineer",title:"责任工程师"},{field:"reservEngineer",title:"后备工程师"},{field:"czx",fixed:"right",title:"操作项",align:"center",width:120,templet:function(t){return'<a class="layui-btn layui-btn-xs" lay-event="exit">修改</a><a class="layui-btn layui-btn-xs layui-btn-danger" lay-event="delete">删除</a>'}}]],id:"test",done:function(e){t.custNum=e.count,"运维助理"!=a&&"驻现场人员"!=a&&"客服经理"!=a&&$("[data-field='czx']").css("display","none")}}),!1}),i.on("submit(formDemo2)",function(e){var a;return console.log(e),t.formV.mainFrequency=e.field.mainFrequency,t.formV.responsibleName=e.field.responsibleName,t.formV.reserveEnginnerName=e.field.reserveEnginnerName,(a=t.formV,o.a.post(m+"addMaintenance",u.a.stringify(v(a,d)))).then(function(e){0==e.data.code?(t.$layerClose("test"),t.$layerMsg("添加成功")):t.$layerMsg(e.data.msg)}),!1}),t.$serviceArea(p),s.on("tool(demo)",function(t){if("exit"==t.event)layer.open({type:1,title:"修改",content:$("#revise"),area:["60%","70%"],cancel:function(t,e){}}),i.val("example",{machCode:t.data.machCode,mainFrequency:t.data.mainFrequency,contractCode:t.data.contractCode,custName:t.data.custName,repairMan:t.data.repairMan,repairService:t.data.repairService,responsibleEngineer:t.data.responsibleEngineer,reservEngineer:t.data.reservEngineer});else if("delete"==t.event){var e={machCode:t.data.machCode};layer.confirm("确认删除？",function(t){var a;(a=e,o.a.post(m+"deleteMaintenance",u.a.stringify(v(a,d)))).then(function(t){console.log(t.data.msg),s.reload("test"),layer.msg(t.data.msg)}).catch(function(t){}),layer.close(t)})}}),i.on("submit(formSub)",function(t){var e,a={machCode:t.field.machCode,mainFrequency:t.field.mainFrequency,contractCode:t.field.contractCode,custName:t.field.custName,repairMan:t.field.repairMan,repairService:t.field.repairService,responsibleName:t.field.responsibleEngineer,reserveEnginnerName:t.field.reservEngineer};(e=a,o.a.post(m+"updateMaintenance",u.a.stringify(v(e,d)))).then(function(t){0==t.data.code?(layer.closeAll(),s.reload("test"),layer.msg(t.data.msg)):1==t.data.code&&(layer.closeAll(),s.reload("testReload"),layer.msg(t.data.msg))}).catch(function(t){})})})},exportExcel:function(){this.$exportE("exportmaintenanceMapper")},add:function(){this.flag="add",layui.use(["form","table","layer","util"],function(){layui.table;var t=layui.layer;$("#reset").click();layui.form;t.open({type:1,title:"新增",area:["60%","70%"],content:$(".sdd")})})},showA:function(){var t=[this.$admin.ywzl,this.$admin.zxcry,this.$admin.kfzg,this.$admin.admin];console.log(t);for(var e=0,a=t.length;e<a;e++)t[e]==this.$userRole&&(this.addShow=!0)}},created:function(){this.showA()},destroyed:function(){$(".layui-icon-close").click()}},Jt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>保养计划<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDemo"}},[t._v("查询")]),t._v(" "),t.addShow?a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.add()}}},[t._v("新增")]):t._e(),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])])]),t._v(" "),t._m(2)]),t._v(" "),a("div",{staticClass:"dis-n sdd"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(3),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.machCode,expression:"formV.machCode"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"machCode",autocomplete:"off"},domProps:{value:t.formV.machCode},on:{blur:function(e){t.selectA()},input:function(e){e.target.composing||t.$set(t.formV,"machCode",e.target.value)}}})])])]),t._v(" "),t._m(4),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(5),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contractCode,expression:"contractCode"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",unselectable:"on",readOnly:"",autocomplete:"off"},domProps:{value:t.contractCode},on:{input:function(e){e.target.composing||(t.contractCode=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(6),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.custName,expression:"custName"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",unselectable:"on",readOnly:"",autocomplete:"off"},domProps:{value:t.custName},on:{input:function(e){e.target.composing||(t.custName=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(7),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.repairMan,expression:"repairMan"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",unselectable:"on",readOnly:"",autocomplete:"off"},domProps:{value:t.repairMan},on:{input:function(e){e.target.composing||(t.repairMan=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(8),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.repairService,expression:"repairService"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",unselectable:"on",readOnly:"",autocomplete:"off"},domProps:{value:t.repairService},on:{input:function(e){e.target.composing||(t.repairService=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(9),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.responsibleEngineer,expression:"responsibleEngineer"}],staticClass:"layui-input",attrs:{type:"text",name:"responsibleName","lay-verify":"",autocomplete:"off"},domProps:{value:t.responsibleEngineer},on:{input:function(e){e.target.composing||(t.responsibleEngineer=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(10),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.reservEngineer,expression:"reservEngineer"}],staticClass:"layui-input",attrs:{type:"text",name:"reserveEnginnerName","lay-verify":"",autocomplete:"off"},domProps:{value:t.reservEngineer},on:{input:function(e){e.target.composing||(t.reservEngineer=e.target.value)}}})])])]),t._v(" "),t._m(11)])]),t._v(" "),t._m(12)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("客户名称")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"custName","lay-verify":"",placeholder:"",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("服务区域")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("select",{staticClass:"allinput",attrs:{name:"serviceArea","lay-verify":""}},[e("option",{attrs:{value:"",id:"address"}},[this._v("请选择")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("机器编码：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[a("span",[t._v("*")]),t._v("保养频率：")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("select",{attrs:{name:"mainFrequency"}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"周"}},[t._v("周")]),t._v(" "),a("option",{attrs:{value:"月"}},[t._v("月")]),t._v(" "),a("option",{attrs:{value:"季度"}},[t._v("季度")]),t._v(" "),a("option",{attrs:{value:"半年"}},[t._v("半年")]),t._v(" "),a("option",{attrs:{value:"年"}},[t._v("年")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("合同编码：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("客户名称：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("联系人：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("联系电话：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("责任工程师：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("后备工程师：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item btn"},[e("button",{staticClass:"layui-btn dis-n",attrs:{type:"reset",id:"reset"}},[this._v("重置")]),this._v(" "),e("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDemo2"}},[this._v("提交")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dis-n ",attrs:{id:"revise"}},[a("form",{staticClass:"layui-form",attrs:{action:"","lay-filter":"example"}},[a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[a("span",[t._v("*")]),t._v("机器编码：")]),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"machCode","lay-verify":"machCode",unselectable:"on",readOnly:"",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[a("span",[t._v("*")]),t._v("保养频率：")]),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("select",{attrs:{name:"mainFrequency"}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"周"}},[t._v("周")]),t._v(" "),a("option",{attrs:{value:"月"}},[t._v("月")]),t._v(" "),a("option",{attrs:{value:"季度"}},[t._v("季度")]),t._v(" "),a("option",{attrs:{value:"半年"}},[t._v("半年")]),t._v(" "),a("option",{attrs:{value:"年"}},[t._v("年")])])])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[a("span",[t._v("*")]),t._v("合同编码：")]),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"contractCode","lay-verify":"",unselectable:"on",readOnly:"",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[a("span",[t._v("*")]),t._v("客户名称：")]),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"custName","lay-verify":"",unselectable:"on",readOnly:"",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[a("span",[t._v("*")]),t._v("联系人：")]),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"repairMan","lay-verify":"",unselectable:"on",readOnly:"",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[a("span",[t._v("*")]),t._v("联系电话：")]),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"repairService","lay-verify":"",unselectable:"on",readOnly:"",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[a("span",[t._v("*")]),t._v("责任工程师：")]),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"responsibleEngineer","lay-verify":"",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label addInput"},[a("span",[t._v("*")]),t._v("后备工程师：")]),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"reservEngineer","lay-verify":"",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item btn"},[a("button",{staticClass:"layui-btn dis-n",attrs:{type:"reset",id:"reset"}},[t._v("重置")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formSub"}},[t._v("提交")])])])])}]};var Xt=a("VU/8")(Gt,Jt,!1,function(t){a("xzX7")},"data-v-1c1635cd",null).exports,Zt={name:"Assistant",components:{Index:V},data:function(){return{item:"",number:{count:""}}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=sessionStorage.getItem("username"),a=sessionStorage.getItem("userRole");layui.use(["table","form"],function(){var i=layui.table,s=layui.form;i.render({elem:"#demo",height:"full-260",cellMinWidth:120,url:t.$url+"maintenancePerformer",where:{username:e},method:"post",page:!0,limit:20,cols:[[{field:"id",title:"序号",type:"numbers",width:80,fixed:"left"},{field:"custName",title:"客户名称",minWidth:180,fixed:"left"},{field:"compName",title:"服务区域",minWidth:180},{field:"contractCode",title:"合同号码",minWidth:180},{field:"machCode",title:"机器编码"},{field:"lastTime",title:"保养完成时间",templet:function(t){return console.log(t),null==t.lastTime?"":"<div>"+layui.util.toDateString(t.lastTime,"yyyy-MM-dd")+"</div>"}},{field:"mainFrequency",title:"保养频率"},{field:"maintenanceState",title:"保养执行状态",templet:function(t){return console.log(t),0==t.maintenanceState?"<span>未完成</span>":1==t.maintenanceState?"<span>完成</span>":void 0}},{field:"coverage",title:"覆盖率(%)"},{field:"bwReader",title:"黑白读数",templet:function(t){return null==t.device.bwReader?"":t.device.bwReader}},{field:"coReader",title:"彩色读数",templet:function(t){return null==t.device.colorReader?"":t.device.colorReader}},{field:"materialModel",title:"耗材型号"},{field:"materialNumber",title:"耗材数量"},{field:"responsibleEngineer",title:"责任工程师"},{field:"reservEngineer",title:"后备工程师"},{field:"remark",title:"备注"}]],done:function(e){t.number.count=e.count,console.log(a),"总部客服"!=a&&"运维助理"!=a&&($("[data-field='coverage']").css("display","none"),$("[data-field='bwReader']").css("display","none"),$("[data-field='coReader']").css("display","none"),$("[data-field='materialModel']").css("display","none"),$("[data-field='materialNumber']").css("display","none"))}}),s.on("submit(formDemo)",function(a){$(".layui-icon-close").click();a=Q()(a.field);var s=(a=JSON.parse(a)).custName,l=a.serviceArea,n=a.enginnerName;return i.render({elem:"#demo",height:"full-260",cellMinWidth:120,url:t.$url+"maintenancePerformer",method:"post",where:{custName:s,serviceArea:l,enginnerName:n,username:e},page:!0,limit:20,cols:[[{field:"id",title:"序号",type:"numbers",width:80,fixed:"left"},{field:"custName",title:"客户名称",minWidth:180,fixed:"left"},{field:"compName",title:"服务区域",minWidth:180},{field:"contractCode",title:"合同号码",minWidth:180},{field:"machCode",title:"机器编码"},{field:"lastTime",title:"保养完成时间",templet:"<div>{{layui.util.toDateString(d.lastTime,'yyyy-MM-dd')}}</div>"},{field:"mainFrequency",title:"保养频率"},{field:"maintenanceState",title:"保养执行状态",templet:function(t){return console.log(t),0==t.maintenanceState?"<span>未完成</span>":1==t.maintenanceState?"<span>完成</span>":void 0}},{field:"coverage",title:"覆盖率(%)"},{field:"bwReader",title:"黑白读数",templet:function(t){return null==t.device.bwReader?"":t.device.bwReader}},{field:"coReader",title:"彩色读数",templet:function(t){return null==t.device.colorReader?"":t.device.colorReader}},{field:"materialModel",title:"耗材型号"},{field:"materialNumber",title:"耗材数量"},{field:"responsibleEngineer",title:"责任工程师"},{field:"reservEngineer",title:"后备工程师"},{field:"remark",title:"备注"}]]}),!1}),s.render(),t.$serviceArea(p)})},exportExcel:function(){this.$exportE("exportmaintenancePerformer")}},destroyed:function(){$(".layui-icon-close").click()}},te={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>保养执行<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-filter":"formDemo","lay-submit":""}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])])]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("客户名称")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"custName","lay-verify":"",placeholder:"",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("服务区域")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("select",{staticClass:"allinput",attrs:{name:"serviceArea","lay-verify":""}},[e("option",{attrs:{value:"",id:"address"}},[this._v("请选择")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("工程师名称")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"enginnerName","lay-verify":"",placeholder:"",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"test"}})])}]};var ee=a("VU/8")(Zt,te,!1,function(t){a("05UB")},"data-v-cb301f6e",null).exports,ae={name:"Assistant",components:{Index:V},data:function(){return{item:"",pic:"",engName:"",engMin:"",responseTimeRate:"",arrTimeRate:"",probSolveRate:"",main:!0,mainEng:!1}},mounted:function(){this.getData()},methods:{getData:function(){var t=this;a();var e=sessionStorage.getItem("username");function a(){var e=t.$echarts.init(document.getElementById("main")),a={title:{text:"工程师到达现场平均用时"},xAxis:{type:"category",data:t.engName},yAxis:{type:"value",axisLabel:{show:!0,interval:"auto",formatter:"{value}(h)"}},series:[{data:t.engMin,type:"bar",label:{normal:{show:!0,position:"inside"}}}],animation:!1};e.setOption(a);e.getDataURL();t.pic={picture:e.getDataURL()}}function i(){var e=t.$echarts.init(document.getElementById("mainEng"),"",{width:600,height:300});console.log(t.responseTimeRate);var a={title:{text:""},tooltip:{formatter:function(t,e,a){return console.log(t),console.log(e),console.log(a),res}},legend:{},xAxis:{type:"category"},yAxis:[{type:"value",axisLabel:{show:!0,interval:"auto",formatter:"{value} %"},show:!0,boundaryGap:!0}],series:[{type:"bar",itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{color:"black",fontSize:14,formatter:"{b}\n{c}%"}}}}},{type:"bar",itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{color:"black",fontSize:14,formatter:"{b}\n{c}%"}}}}}],dataset:{source:[["product","达标率目标","当月实际达标率"],["电话响应时间","95",t.responseTimeRate],["到达现场时间","95",t.arrTimeRate],["问题解决时间","95",t.probSolveRate]]},animation:!1};e.setOption(a);e.getDataURL();console.log("picture"),t.pic={picture:e.getDataURL()}}layui.use(["table","form","laydate"],function(){var s=layui.table,l=layui.form,n=layui.laydate;n.render({elem:"#test1"}),n.render({elem:"#test2"}),l.on("submit(formDemo)",function(t){return layer.msg(Q()(t.field)),!1}),l.render(),s.render({elem:"#demo",height:"full-300",cellMinWidth:150,url:t.$url+"engineerKpiSummary",where:{username:e},page:!0,limit:20,cols:[[{field:"id",title:"NO",type:"numbers",width:80},{field:"staffName",title:"工程师姓名"},{field:"responseTimeRate",title:"电话响应时间达标率",templet:function(t){var e=t.responseTimeRate;return Math.round(e)+"%"}},{field:"arrTimeRate",title:"到达时间达标率",templet:function(t){var e=t.arrTimeRate;return Math.round(e)+"%"}},{field:"probSolveRate",title:"问题解决时间达标率",width:180,templet:function(t){var e=t.probSolveRate;return Math.round(e)+"%"}},{field:"maintenanceRate",title:"保养完成率",templet:function(t){var e=t.maintenanceRate;return Math.round(e)+"%"}}]],id:"testReload",done:function(e){if(console.log(e),1==e.count){t.main=!1,t.mainEng=!0;var s=e.data[0].responseTimeRate,l=e.data[0].arrTimeRate,n=e.data[0].probSolveRate;t.responseTimeRate=s,t.arrTimeRate=l,t.probSolveRate=n,console.log(t.responseTimeRate),console.log(t.arrTimeRate),console.log(t.probSolveRate),i()}else if(0==e.count)t.main=!1,t.mainEng=!1;else{t.main=!0,t.mainEng=!1;for(var r=[],o=[],c=0;c<e.data.length;c++)r.push(e.data[c].staffName),o.push(e.data[c].arrTimeAvg);t.engName=r,t.engMin=o,console.log(t.engName),a()}}}),l.on("submit(formDome)",function(a){a=a.field;s.reload("testReload",{url:t.$url+"engineerKpiSummary",where:{staffName:a.name,startDate:a.startDate,endDate:a.endDate,username:e},page:{curr:1}})})})},exportExcel:function(){console.log(this.pic);var t,e=sessionStorage.getItem("username");(t=this.pic,o.a.post(m+"expoetEngineerKpiSummary",u.a.stringify(v(t,d)))).then(function(t){console.log(t),window.open("http://"+t.data.msg+"?username="+e,"_blank")}).catch(function(t){})}}},ie={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>工程师KPI报表<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDome"}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])])]),t._v(" "),t._m(1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.main,expression:"main"}],staticStyle:{width:"800px",height:"400px"},attrs:{id:"main"}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.mainEng,expression:"mainEng"}],staticStyle:{width:"800px",height:"400px"},attrs:{id:"mainEng"}})])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("工程师姓名")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"name","lay-verify":"",placeholder:"",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("起始时间")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{name:"startDate",id:"test1",type:"text",placeholder:"年-月-日",readonly:"",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("终止时间")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{name:"endDate",id:"test2",type:"text",placeholder:"年-月-日",readonly:"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])}]};var se=a("VU/8")(ae,ie,!1,function(t){a("mIUz")},"data-v-257a370a",null).exports,le={name:"Assistant",components:{Index:V},data:function(){return{item:"",responseTimeRate:"",arrTimeRate:"",probSolveRate:"",pic:"",isShow:!1}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=sessionStorage.getItem("username");layui.use(["table","form","laydate"],function(){var a=layui.table,i=layui.form,s=layui.laydate;function l(t){var e=t.split("%")[0];return Math.round(e)+"%"}i.on("submit(formDemo)",function(t){return layer.msg(Q()(t.field)),!1}),s.render({elem:"#test1"}),s.render({elem:"#test2"}),i.render(),a.render({elem:"#demo",height:"full-300",cellMinWidth:150,url:t.$url+"customerKpiSummary",where:{username:e},page:!0,limit:20,cols:[[{field:"id",title:"NO",type:"numbers",width:80},{field:"custName",title:"客户名称"},{field:"responseTimeRate",title:"电话响应时间达标率",templet:function(t){return l(t.responseTimeRate)}},{field:"arrTimeRate",title:"到达时间达标率",templet:function(t){return l(t.arrTimeRate)}},{field:"probSolveRate",title:"问题解决时间达标率",width:180,templet:function(t){return l(t.probSolveRate)}}]],id:"testReload",done:function(e){if(1==e.count){t.isShow=!0;var a=e.data[0].responseTimeRate,i=e.data[0].arrTimeRate,s=e.data[0].probSolveRate;t.responseTimeRate=a.substring(0,a.length-1),t.arrTimeRate=i.substring(0,i.length-1),t.probSolveRate=s.substring(0,s.length-1),function(){var e=t.$echarts.init(document.getElementById("main"),"",{width:600,height:300});console.log(t.responseTimeRate);var a={title:{text:"客户月KPI汇总"},tooltip:{},legend:{},xAxis:{type:"category"},yAxis:[{type:"value",axisLabel:{show:!0,interval:"auto",formatter:"{value} %"},show:!0,boundaryGap:!0}],series:[{type:"bar",itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{color:"black",fontSize:14,formatter:"{b}\n{c} %"}}}}},{type:"bar",itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{color:"black",fontSize:14,formatter:"{b}\n{c} %"}}}}}],dataset:{source:[["product","达标率目标","当月实际达标率"],["电话响应时间","95",t.responseTimeRate],["到达现场时间","95",t.arrTimeRate],["问题解决时间","95",t.probSolveRate]]},animation:!1};e.setOption(a);e.getDataURL();t.pic={picture:e.getDataURL()}}()}else t.isShow=!1}}),i.on("submit(formDome)",function(i){console.log(i);i=i.field;console.log(i),a.reload("testReload",{url:t.$url+"customerKpiSummary",where:{custName:i.name,startDate:i.startDate,endDate:i.endDate,username:e},page:{curr:1}})})})},exportExcel:function(){var t,e=sessionStorage.getItem("username");(t=this.pic,o.a.post(m+"exportCustomerKpiSummary",u.a.stringify(v(t,d)))).then(function(t){window.open("http://"+t.data.msg+"?username="+e,"_blank")}).catch(function(t){})}}},ne={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>客户KPI报表<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-filter":"formDome","lay-submit":""}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])])]),t._v(" "),t._m(1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticStyle:{width:"600px",height:"400px"},attrs:{id:"main"}})])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("客户名称")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"name","lay-verify":"",placeholder:"",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("起始时间")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{name:"startDate",id:"test1",type:"text",placeholder:"年-月-日",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("终止时间")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{name:"endDate",id:"test2",type:"text",placeholder:"年-月-日",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])}]};var re=a("VU/8")(le,ne,!1,function(t){a("2Clc")},"data-v-ee466f08",null).exports,oe={name:"Assistant",components:{Index:V},data:function(){return{item:"",responseTimeRate:"",arrTimeRate:"",probSolveRate:"",pic:"",isShow:!1}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=sessionStorage.getItem("username");function a(){var e=t.$echarts.init(document.getElementById("main"),"",{width:600,height:300});console.log(t.responseTimeRate);var a={title:{text:"分公司月KPI汇总"},tooltip:{formatter:function(t,e,a){return console.log(t),console.log(e),console.log(a),res}},legend:{},xAxis:{type:"category"},yAxis:[{type:"value",axisLabel:{show:!0,interval:"auto",formatter:"{value} %"},show:!0,boundaryGap:!0}],series:[{type:"bar",label:{normal:{show:!0,position:"top",fontSize:14}}},{type:"bar",label:{normal:{show:!0,position:"top",fontSize:14}}}],dataset:{source:[["product","达标率目标","当月实际达标率"],["电话响应时间","95",t.responseTimeRate],["到达现场时间","95",t.arrTimeRate],["问题解决时间","95",t.probSolveRate]]},animation:!1};e.setOption(a);e.getDataURL();t.pic={picture:e.getDataURL()}}layui.use(["table","form","laydate"],function(){var i=layui.table,s=layui.laydate,l=layui.form;l.on("submit(formDemo)",function(t){return layer.msg(Q()(t.field)),!1}),s.render({elem:"#test1"}),s.render({elem:"#test2"}),l.render(),i.render({elem:"#demo",height:"full-300",cellMinWidth:150,url:t.$url+"branchKpiSummary",where:{username:e},page:!0,limit:20,cols:[[{field:"id",title:"NO",type:"numbers",width:80},{field:"custName",title:"客户名称"},{field:"responseTimeRate",title:"电话响应时间达标率"},{field:"arrTimeRate",title:"到达时间达标率"},{field:"probSolveRate",title:"问题解决时间达标率",width:180},{field:"custScore",title:"客户满意度",width:150}]],id:"testReload",done:function(e){1==e.count||(t.isShow=!1)}}),t.$serviceArea(p),l.on("submit(formDome)",function(s){console.log(s);s=s.field;console.log(s),$(".layui-icon-close").click(),i.reload("testReload",{url:t.$url+"branchKpiSummary",where:{serviceArea:s.name,startDate:s.startDate,endDate:s.endDate,username:e},page:{curr:1},done:function(e){console.log(e),s.name&&(t.isShow=!0,t.responseTimeRate=e.avgResponseTimeRate,t.arrTimeRate=e.avgArrTimeRate,t.probSolveRate=e.avgProbTimeRate,a())}})})})},aaaa:function(){var t,e=sessionStorage.getItem("username");console.log(this.pic),(t=this.pic,o.a.post(m+"exportBranchKpi",u.a.stringify(v(t,d)))).then(function(t){window.open("http://"+t.data.msg+"?username="+e,"_blank")}).catch(function(t){})}}},ce={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>分公司KPI<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDome"}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",staticStyle:{width:"120px"},on:{click:function(e){t.aaaa()}}},[t._v("导出详细报表")])])])]),t._v(" "),t._m(1),t._v(" "),a("div"),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticStyle:{width:"600px",height:"400px"},attrs:{id:"main"}})])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("服务区域")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("select",{attrs:{name:"name","lay-verify":""}},[a("option",{attrs:{value:"",id:"address"}},[t._v("请选择")])])])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("起始时间")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{staticClass:"layui-input",attrs:{name:"startDate",id:"test1",type:"text",placeholder:"年-月-日",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("终止时间")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{staticClass:"layui-input",attrs:{name:"endDate",id:"test2",type:"text",placeholder:"年-月-日",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])}]};var ue=a("VU/8")(oe,ce,!1,function(t){a("27R1")},"data-v-16f710cf",null).exports,me={name:"Assistant",components:{Index:V},data:function(){return{item:""}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=sessionStorage.getItem("username");layui.use(["table","laydate","form"],function(){var a=layui.table,i=layui.form,s=layui.laydate;function l(t){var e=t.split("%")[0];return Math.round(e)+"%"}i.on("submit(formDemo)",function(t){return layer.msg(Q()(t.field)),!1}),s.render({elem:"#test1"}),s.render({elem:"#test2"}),i.render(),a.render({elem:"#demo",height:"full-300",cellMinWidth:150,url:t.$url+"headOffice",where:{username:e},page:!0,limit:20,cols:[[{field:"id",title:"NO",type:"numbers",width:80},{field:"custName",title:"客户名称"},{field:"responseTimeRate",title:"电话响应时间达标率",templet:function(t){return l(t.responseTimeRate)}},{field:"arrTimeRate",title:"到达时间达标率",templet:function(t){return l(t.arrTimeRate)}},{field:"probSolveRate",title:"问题解决时间达标率",templet:function(t){return l(t.probSolveRate)}},{field:"custScore",title:"客户满意度",width:150}]],id:"testReload"}),t.$serviceArea(p),i.on("submit(formDome)",function(i){console.log(i);i=i.field;console.log(i),a.reload("testReload",{url:t.$url+"headOffice",where:{serviceArea:i.name,startDate:i.startDate,endDate:i.endDate,username:e},page:{curr:1}})})})},exportExcel:function(){this.$exportE("exportHeadOffice")}}},de={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>总公司运维KPI<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDome"}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])]),t._v(" "),t._m(1)])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("服务区域")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("select",{attrs:{name:"name","lay-verify":""}},[a("option",{attrs:{value:"",id:"address"}},[t._v("请选择")])])])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("起始时间")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{staticClass:"layui-input",attrs:{name:"startDate",id:"test1",type:"text",placeholder:"年-月-日",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("终止时间")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{staticClass:"layui-input",attrs:{name:"endDate",id:"test2",type:"text",placeholder:"年-月-日",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])}]};var ve=a("VU/8")(me,de,!1,function(t){a("YGqn")},"data-v-7b9ecc57",null).exports,fe={name:"Service",components:{Index:V},data:function(){return{item:""}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=sessionStorage.getItem("username");layui.use(["table","form","laydate"],function(){var a=layui.table,i=layui.form,s=layui.laydate;i.on("submit(formDemo)",function(t){return layer.msg(Q()(t.field)),!1}),s.render({elem:"#test1"}),s.render({elem:"#test2"}),i.render(),a.render({elem:"#demo",height:"full-300",cellMinWidth:150,url:t.$url+"seatServiceSummary",where:{username:e},page:!0,limit:20,cols:[[{field:"id",title:"NO",type:"numbers",width:80},{field:"staffName",title:"客服姓名"},{field:"chiefSendTimeRate",title:"受理时间达标率",templet:function(t){return e=t.chiefSendTimeRate,a=e.split("%")[0],Math.round(a)+"%";var e,a}},{field:"orderNum",title:"工单数量"},{field:"custComplaints",title:"客户投诉（次）"}]],id:"testReload"}),i.on("submit(formDome)",function(i){console.log(i);i=i.field;console.log(i),a.reload("testReload",{url:t.$url+"seatServiceSummary",where:{staffName:i.name,startDate:i.startDate,endDate:i.endDate,username:e},page:{curr:1}})})})},exportExcel:function(){this.$exportE("exportSeatService")}}},pe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>坐席客服KPI<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDome"}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出详细报表")])])])]),t._v(" "),t._m(1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("客服姓名")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"name","lay-verify":"",placeholder:"",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("起始时间")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{staticClass:"layui-input",attrs:{name:"startDate",id:"test1",type:"text",placeholder:"年-月-日",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("终止时间")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{staticClass:"layui-input",attrs:{name:"endDate",id:"test2",type:"text",placeholder:"年-月-日",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])}]};var ye=a("VU/8")(fe,pe,!1,function(t){a("nkB8")},"data-v-7a65c856",null).exports,he={name:"Assistant",components:{Index:V},data:function(){return{item:"",arrive1:"",arrive2:"",arrive3:"",arrive4:"",prob1:"",prob2:"",prob3:"",prob4:"",picA:"",pic:"",isShow:!1}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=sessionStorage.getItem("username");layui.use(["table","form","laydate"],function(){var a=layui.table,i=layui.form,s=layui.laydate;s.render({elem:"#test1"}),s.render({elem:"#test2"}),i.on("submit(formDemo)",function(t){return layer.msg(Q()(t.field)),!1}),i.render(),a.render({elem:"#demo",height:"full-320",cellMinWidth:120,url:t.$url+"orderAnalysis",where:{username:e},page:!0,limit:20,cols:[[{field:"",title:"NO",width:80,type:"numbers",fixed:"left"},{field:"woNumber",title:"工单号码",minWidth:160},{field:"custName",title:"客户名称",minWidth:200},{field:"serviceArea",title:"服务区域",minWidth:200},{field:"repairType",title:"工单来源"},{field:"devName",title:"设备类型"},{field:"machCode",title:"机器编码"},{field:"faultType",title:"服务类型"},{field:"accidentType",title:"服务类别"},{field:"post",title:"服务级别"},{field:"repairTime",title:"报修时间",minWidth:180},{field:"sendTime",title:"派单时间",minWidth:180},{field:"telRepon",title:"电话响应时间",minWidth:180},{field:"arrTime",title:"到达时间",minWidth:180},{field:"probSolve",title:"完成时间",minWidth:180},{field:"sendTimeSlot",title:"客服派单用时(min)",minWidth:150},{field:"responseTime",title:"电话响应用时(min)"},{field:"arrTimeSlot",title:"到达现场耗时(h)",minWidth:140},{field:"probSolveSlot",title:"处理用时(h)"},{field:"staffName",title:"责任工程师"},{field:"orderTurnNum",title:"转单/升级"},{field:"staffName2",title:"后续工程师"},{field:"woStatus",title:"工单状态"},{field:"treatmentMeasure",title:"处理措施",minWidth:180}]],id:"testReload"}),t.$serviceArea(p),i.on("submit(formDome)",function(i){console.log(i);i=i.field;console.log(i),$(".layui-icon-close").click(),a.reload("testReload",{url:t.$url+"orderAnalysis",where:{custName:i.custName,serviceArea:i.name,startDate:i.startDate,endDate:i.endDate,username:e},page:{curr:1},done:function(e){i.custName||i.name?(console.log(e.data),""!=e.data?(t.isShow=!0,t.arrive1=e.arrive1,t.arrive2=e.arrive2,t.arrive3=e.arrive3,t.prob1=e.prob1,t.prob2=e.prob2,t.prob3=e.prob3,function(){var e=t.$echarts.init(document.getElementById("mainA"),"",{width:500,height:300}),a={title:{text:"到达现场时间占比",subtext:"",x:"center"},tooltip:{trigger:"item",formatter:function(t){console.log(t);var e=t.seriesName,a=t.name,i=t.value,s=t.percent.toFixed(1)+"%";return e+"</br>"+a+"&nbsp;:&nbsp;"+i+"&nbsp;(&nbsp;"+s+"&nbsp;)"}},color:["#009953","#61a0a8","#c23531"],legend:{orient:"vertical",left:"left",data:["2小时内","2~4小时","超过4小时"]},series:[{name:"到达现场时间占比",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:t.arrive1,name:"2小时内"},{value:t.arrive2,name:"2~4小时"},{value:t.arrive3,name:"超过4小时"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{normal:{fontSize:14,formatter:function(t){console.log(t);t.seriesName;var e=t.name,a=t.value,i=t.percent.toFixed(1)+"%";return e+" ("+a+"个) "+i}}}}],animation:!1};e.setOption(a);var i=e.getDataURL();t.picA=i}(),function(){var e=t.$echarts.init(document.getElementById("main"),"",{width:600,height:300}),a={title:{text:"问题解决时间占比",subtext:"",x:"center"},tooltip:{trigger:"item",formatter:function(t){console.log(t);var e=t.seriesName,a=t.name,i=t.value,s=t.percent.toFixed(1)+"%";return e+"</br>"+a+"&nbsp;:&nbsp;"+i+"&nbsp;(&nbsp;"+s+"&nbsp;)"}},color:["#009953","#61a0a8","#c23531"],legend:{orient:"vertical",left:"left",data:["4小时内","4~8小时","超过8小时"]},series:[{name:"问题解决时间占比",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:t.prob1,name:"4小时内"},{value:t.prob2,name:"4~8小时"},{value:t.prob3,name:"超过8小时"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{normal:{fontSize:14,formatter:function(t){console.log(t);t.seriesName;var e=t.name,a=t.value,i=t.percent.toFixed(1)+"%";return e+" ("+a+"个) "+i}}}}],animation:!1};e.setOption(a);var i=e.getDataURL();t.pic=i}()):t.isShow=!1):t.isShow=!1}})})})},exportExcel:function(){console.log(this.pic);var t,e={picture1:this.picA,picture2:this.pic},a=sessionStorage.getItem("username");console.log(e),(t=e,o.a.post(m+"exportWorkAnalysisTable",u.a.stringify(v(t,d)))).then(function(t){console.log(t),window.open("http://"+t.data.msg+"?username="+a,"_blank")}).catch(function(t){})}},destroyed:function(){$(".layui-icon-close").click()}},_e={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>工单分析表<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDome"}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])])]),t._v(" "),t._m(1),t._v(" "),a("div"),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticStyle:{width:"50%",height:"400px",float:"left",margin:"0 auto"},attrs:{id:"mainA"}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticStyle:{width:"50%",height:"400px",float:"left"},attrs:{id:"main"}})])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("客户名称")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"custName","lay-verify":"",placeholder:"",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("服务区域")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("select",{attrs:{name:"name","lay-verify":""}},[a("option",{attrs:{value:"",id:"address"}},[t._v("请选择")])])])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("起始时间")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{staticClass:"layui-input",attrs:{name:"startDate",id:"test1",type:"text",placeholder:"年-月-日",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("终止时间")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{staticClass:"layui-input",attrs:{name:"endDate",id:"test2",type:"text",placeholder:"年-月-日",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])}]};var be=a("VU/8")(he,_e,!1,function(t){a("EFeV")},"data-v-0fb34d23",null).exports,ge={name:"Assistant",components:{Index:V},data:function(){return{item:"",hcgd:"",echarsType:""}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=sessionStorage.getItem("username");layui.use(["table","laydate","form"],function(){var a=layui.table,i=layui.laydate,s=layui.form;i.render({elem:"#test1"}),i.render({elem:"#test2"}),s.on("submit(formDemo)",function(t){return layer.msg(Q()(t.field)),!1}),s.render(),a.render({elem:"#demo",height:"full-280",cellMinWidth:140,url:t.$url+"repairReport",where:{username:e},page:!0,limit:20,cols:[[{field:"id",title:"NO",type:"numbers",width:80},{field:"woNumber",title:"服务单号",minWidth:160},{field:"custName",title:"客户名称",minWidth:160},{field:"unitType",title:"设备型号"},{field:"deviceBrand",title:"设备品牌"},{field:"esNumber",title:"设备序列号"},{field:"machCode",title:"机器编码"},{field:"serviceArea",title:"服务区域"},{field:"department",title:"部门"},{field:"location",title:"设备位置",minWidth:180},{field:"repairTime",title:"报修时间",minWidth:160},{field:"probTime",title:"完成时间",minWidth:160},{field:"bwReader",title:"黑白读数"},{field:"coReader",title:"彩色读数"},{field:"accidentType",title:"故障现象分类"},{field:"maintenanceFeedback",title:"处理措施"},{field:"faultNo",title:"故障代码"},{field:"remark",title:"故障描述"}]],id:"testReload",done:function(e){!function(e){var a=t.$echarts.init(document.getElementById("main"),"",{width:1200,height:400});console.log(e);for(var i=[],s=0;s<e.length;s++)i.push(e[s].name);var l={title:{text:"故障现象分析",x:"center"},tooltip:{trigger:"item",formatter:function(t){console.log(t);var e=t.seriesName,a=t.name,i=t.value,s=t.percent.toFixed(1)+"%";return e+"</br>"+a+"&nbsp;:&nbsp;"+i+"&nbsp;(&nbsp;"+s+"&nbsp;)"}},legend:{orient:"vertical",left:"left",data:i},series:[{name:"故障类型",type:"pie",radius:"55%",center:["50%","60%"],data:e,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{normal:{fontSize:14,formatter:function(t){console.log(t);t.seriesName;var e=t.name,a=t.value,i=t.percent.toFixed(1)+"%";return e+" ("+a+"个) "+i}}}}],animation:!1};a.setOption(l);a.getDataURL();t.pic={picture:a.getDataURL()}}(e.kpi)}}),t.$serviceArea(p),s.on("submit(formDome)",function(i){console.log(i);i=i.field;console.log(i),$(".layui-icon-close").click(),a.reload("testReload",{url:t.$url+"repairReport",where:{custName:i.custName,serviceArea:i.name,startDate:i.startDate,endDate:i.endDate,username:e},page:{curr:1}})})})},exportExcel:function(){var t,e=sessionStorage.getItem("username");(t=this.pic,o.a.post(m+"exportRepairReport",u.a.stringify(v(t,d)))).then(function(t){console.log(t),window.open("http://"+t.data.msg+"?username="+e,"_blank")}).catch(function(t){})}}},Ce={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>维修报表<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDome"}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])])]),t._v(" "),t._m(4),t._v(" "),a("div",{staticStyle:{width:"1000px",height:"400px"},attrs:{id:"main"}})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("客户名称")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"custName","lay-verify":"",placeholder:"",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("服务区域")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("select",{attrs:{name:"name","lay-verify":""}},[e("option",{attrs:{value:"",id:"address"}},[this._v("请选择")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("起始时间")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input",attrs:{name:"startDate",id:"test1",type:"text",placeholder:"年-月-日",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("终止时间")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input",attrs:{name:"endDate",id:"test2",type:"text",placeholder:"年-月-日",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])}]};var we=a("VU/8")(ge,Ce,!1,function(t){a("DAhs")},"data-v-1112a91d",null).exports,Ve={name:"OperationRate",components:{Index:V},data:function(){return{item:"",pic:"",isShow:!1}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=sessionStorage.getItem("username");layui.use(["table","laydate","form"],function(){var a=layui.table,i=layui.laydate,s=layui.form;i.render({elem:"#test1"}),i.render({elem:"#test2"}),s.render(),a.render({elem:"#demo",height:"full-280",cellMinWidth:140,url:t.$url+"equipmentOperation",where:{username:e},page:!0,limit:20,cols:[[{field:"id",title:"NO",type:"numbers",width:60,fixed:"left"},{field:"custArea",title:"客户名称",minWidth:180,fixed:"left"},{field:"serviceArea",title:"服务区域",minWidth:180},{field:"unitType",title:"设备型号"},{field:"esNumber",title:"设备序列号"},{field:"machCode",title:"机器编码"},{field:"workTime",title:"运转时间(hr)"},{field:"downTime",title:"停机时间(hr)"},{field:"operationRate",title:"设备正常运转率"}]],id:"testReload"}),t.$serviceArea(p),s.on("submit(formDome)",function(i){console.log(i);i=i.field;console.log(i);var s,l,n,r,o,c=i.name,u=i.custName,m=e,d=i.startDate,v=i.endDate;$(".layui-icon-close").click(),a.reload("testReload",{url:t.$url+"equipmentOperation",where:{serviceArea:c,custName:u,username:m,startDate:d,endDate:v},page:{curr:1}}),c||u?(t.isShow=!0,s=c,l=u,n=m,r=d,o=v,console.log(s,l,n,r,o),g({serviceArea:s,custName:l,username:n,startDate:r,endDate:o}).then(function(e){console.log(e);var a=e.data.设备正常运转率,i=t.$echarts.init(document.getElementById("main"),"",{width:600,height:300}),s={title:{text:"设备正常运转率"},tooltip:{formatter:"{a} <br/>{b} : {c}%"},toolbox:{},series:[{name:"设备正常运转率",type:"gauge",min:50,distance:5,detail:{formatter:"{value}%"},axisLine:{lineStyle:{color:[[.6,"#c10404"],[.9,"#f39407"],[1,"#009953"]],width:8}},data:[{value:a,name:""}]}],animation:!1};i.setOption(s),i.getDataURL(),t.pic={picture:i.getDataURL()}}).catch(function(t){})):t.isShow=!1})})},exportExcel:function(){var t,e=sessionStorage.getItem("username");(t=this.pic,o.a.post(m+"exportEquipmentOperation",u.a.stringify(v(t,d)))).then(function(t){console.log(t),window.open("http://"+t.data.msg+"?username="+e,"_blank")}).catch(function(t){})}}},xe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"operationRate"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>设备运转正常率<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDome"}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])])]),t._v(" "),t._m(4),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticStyle:{width:"600px",height:"400px"},attrs:{id:"main"}})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("客户名称")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("input",{staticClass:"layui-input widthI",attrs:{type:"text",name:"custName","lay-verify":"",placeholder:"",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("服务区域")]),this._v(" "),e("div",{staticClass:"layui-input-block widthI"},[e("select",{staticClass:"widthI",attrs:{name:"name","lay-verify":""}},[e("option",{attrs:{value:"",id:"address"}},[this._v("请选择")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("起始时间")]),this._v(" "),e("div",{staticClass:"layui-input-block widthI"},[e("input",{staticClass:"layui-input",attrs:{name:"startDate",id:"test1",type:"text",placeholder:"年-月-日",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("终止时间")]),this._v(" "),e("div",{staticClass:"layui-input-block widthI"},[e("input",{staticClass:"layui-input",attrs:{name:"endDate",id:"test2",type:"text",placeholder:"年-月-日",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])}]};var ke=a("VU/8")(Ve,xe,!1,function(t){a("Zkp7")},"data-v-a8bd0c54",null).exports,$e={name:"Assistant",components:{Index:V},data:function(){return{item:""}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=sessionStorage.getItem("username");layui.use(["table","form","laydate"],function(){var a=layui.table,i=layui.form,s=layui.laydate;i.on("submit(formDemo)",function(t){return layer.msg(Q()(t.field)),!1}),s.render({elem:"#timeS"}),s.render({elem:"#timeE"}),s.render({elem:"#timeS2"}),s.render({elem:"#timeE2"}),i.render(),a.render({elem:"#tbmForms",height:"full-280",cellMinWidth:140,url:t.$url+"maintenanceSummary",where:{username:e},page:!0,limit:20,cols:[[{field:"mainFrequency",title:"NO",sort:!0,type:"numbers",width:80},{field:"custName",title:"客户名称",minWidth:160},{field:"machCode",title:"机器编码"},{field:"deviceType",title:"设备类型",templet:function(t){return null==t.device.deviceType?"":t.device.deviceType}},{field:"mainFrequency",title:"保养周期"},{field:"maintenStatus",title:"保养状态"},{field:"lastTime",title:"上次保养时间",minWidth:160,templet:function(t){return null==t.lastTime?"":"<div>"+layui.util.toDateString(t.lastTime)+"</div>"}},{field:"Reader",title:"黑白读数",templet:function(t){return null==t.device.bwReader?"":t.device.bwReader}},{field:"Reader",title:"彩色读数",templet:function(t){return null==t.device.colorReader?"":t.device.colorReader}},{field:"coverage",title:"覆盖率(%)"},{field:"materialModel",title:"耗材存量"},{field:"remark",title:"备注"}]],id:"testReload1"}),a.render({elem:"#tbmForm",height:470,cellMinWidth:120,url:t.$url+"maintenanceReport",where:{username:e},page:!0,limit:20,cols:[[{field:"id",title:"NO",type:"numbers",width:80},{field:"custName",title:"客户名称",minWidth:160},{field:"deviceNumber",title:"设备数量"},{field:"planDeviceNumber",title:"计划保养数量"},{field:"reallyOverDeviceNumber",title:"实际完成"},{field:"notOverDeviceNumber",title:"未完成"},{field:"maintenanceRate",title:"完成率"},{field:"remark",title:"备注"}]],id:"testReload"}),i.on("submit(formDome)",function(i){console.log(i);i=i.field;console.log(i),a.reload("testReload1",{url:t.$url+"maintenanceSummary",where:{custName:i.custName,serviceArea:i.name,username:e},page:{curr:1}})}),t.$serviceArea(p);var l=sessionStorage.getItem("userRole"),n=sessionStorage.getItem("serviceArea");"总部客服"==l||"运维总监"==l?p().then(function(t){for(var e=t.data.data,a=[],s=0;s<e.length;s++)-1==a.indexOf(e[s].compName)&&a.push(e[s].compName);for(var l=0;l<a.length;l++)$("#addressA").after("<option value='"+a[l]+'\' id="">'+a[l]+"</option>");i.render()}).catch(function(t){}):"客户"==l?($("#addressA").after("<option value='"+n+'\' id="">'+n+"</option>"),i.render()):"广州乐派数码科技有限公司"==n||"行业客户部"==n||"系统推进部"==n?($("#addressA").after('<option value="广州乐派数码科技有限公司">广州乐派数码科技有限公司</option><option value="行业客户部">行业客户部</option><option value="系统推进部">系统推进部</option>'),i.render()):($("#addressA").after("<option value='"+n+'\' id="">'+n+"</option>"),i.render()),i.on("submit(formDome1)",function(i){console.log(i);i=i.field;console.log(i),a.reload("testReload",{url:t.$url+"maintenanceReport",where:{serviceArea:i.name,custName:i.custName,username:e},page:{curr:1}})})})},exportExcel:function(){this.$exportE("exportMaintenanceSummary")},exportExcel1:function(){this.$exportE("exportMaintenanceReport")}}},Ne={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>保养报表<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDome"}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])]),t._v(" "),a("div",{staticStyle:{"margin-left":"30px"}},[t._v("保养完成报表")])]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(2),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDome1"}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel1()}}},[t._v("导出")])])]),t._v(" "),a("div",{staticStyle:{"margin-left":"30px"}},[t._v("保养状态报表")])]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("客户名称")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"custName","lay-verify":"",placeholder:"",autocomplete:"off"}})])]),this._v(" "),e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("服务区域")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("select",{attrs:{name:"name","lay-verify":""}},[e("option",{attrs:{value:"",id:"address"}},[this._v("请选择")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"tbmForms","lay-filter":"tbmForms"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("客户名称")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"custName","lay-verify":"",placeholder:"",autocomplete:"off"}})])]),this._v(" "),e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("服务区域")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("select",{attrs:{name:"name","lay-verify":""}},[e("option",{attrs:{value:"",id:"addressA"}},[this._v("请选择")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"tbmForm","lay-filter":"tbmForm"}})])}]};var Ae=a("VU/8")($e,Ne,!1,function(t){a("cQ6w")},"data-v-8997879c",null).exports,Se={name:"Assistant",components:{Index:V},data:function(){return{item:""}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=sessionStorage.getItem("username");layui.use(["table","form"],function(){var a=layui.table,i=layui.form;i.on("submit(formDemo)",function(t){return layer.msg(Q()(t.field)),!1}),i.render(),a.render({elem:"#demo",height:"full-280",cellMinWidth:140,url:t.$url+"equipmentManagementReport",where:{username:e},page:!0,limit:20,cols:[[{field:"id",title:"序号",type:"numbers",width:60,fixed:"left"},{field:"machCode",title:"机器编码"},{field:"assetAttr",title:"设备归属",minWidth:100},{field:"assetNumber",title:"固定资产编号"},{field:"contractNo",title:"合同号码",minWidth:180},{field:"custArea",title:"客户名称"},{field:"installedTime",title:"装机日期"},{field:"deviceBrand",title:"品牌"},{field:"devName",title:"设备类型"},{field:"unitType",title:"设备型号规格"},{field:"esNumber",title:"设备序列号"},{field:"deviceUserYear",title:"设备已使用年数"},{field:"mainFrequency",title:"设备使用状态"},{field:"secret",title:"是否保密设备"},{field:"secretLevel",title:"密级"},{field:"location",title:"设备存放位置"},{field:"ip",title:"IP地址"},{field:"holdMan",title:"资产管理人"},{field:"mainFrequency",title:"备注"}]],id:"testReload"}),t.$serviceArea(p),i.on("submit(formDome)",function(i){console.log(i);i=i.field;console.log(i),a.reload("testReload",{url:t.$url+"equipmentManagementReport",where:{custName:i.custName,serviceArea:i.name,contartctNo:i.contartctNo,username:e},page:{curr:1}})})})},exportExcel:function(){this.$exportE("exportEquipmentManagement")}}},Me={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>设备管理报表<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDome"}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])])]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("服务区域")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("select",{attrs:{name:"name","lay-verify":""}},[e("option",{attrs:{value:"",id:"address"}},[this._v("请选择")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("客户名称")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"custName","lay-verify":"",placeholder:"",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("合同号码")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"contartctNo","lay-verify":"",placeholder:"",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])}]};var Te=a("VU/8")(Se,Me,!1,function(t){a("ziq4")},"data-v-7659a6f4",null).exports,De={name:"Assistant",components:{Index:V},data:function(){return{item:""}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=sessionStorage.getItem("username");layui.use(["table","form"],function(){var a=layui.table,i=layui.form;i.on("submit(formDemo)",function(t){return layer.msg(Q()(t.field)),!1}),a.render({elem:"#demo",height:"full-280",cellMinWidth:120,url:t.$url+"operationalContract",where:{username:e},page:!0,limit:20,cols:[[{field:"id",title:"序号",type:"numbers",width:60,fixed:"left"},{field:"custName",title:"客户名称",width:180,fixed:"left"},{field:"mainService",title:"服务区域"},{field:"contractNo",title:"合同编码"},{field:"contractNature",title:"合同性质"},{field:"contractType",title:"合同类型"},{field:"regTime",title:"登记时间"},{field:"handlingDepartment",title:"经办部门"},{field:"agent",title:"经办人"},{field:"contractHoldman",title:"合同保管人"},{field:"startDate",title:"签约日期"},{field:"endDate",title:"到期日期"},{field:"contractDeadline",title:"合同期限(月)"},{field:"dueDays",title:"离到期天数"}]],id:"testReload"}),t.$serviceArea(p),i.on("submit(formDome)",function(i){console.log(i);i=i.field;console.log(i),a.reload("testReload",{url:t.$url+"operationalContract",where:{custName:i.custName,contractNo:i.contartctNo,username:e},page:{curr:1}})})})},exportExcel:function(){this.$exportE("exportOperationalContract")}}},Ee={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>运维合同报表<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDome"}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])])]),t._v(" "),t._m(2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("客户名称")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"custName","lay-verify":"",placeholder:"",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("合同编码")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"contartctNo","lay-verify":"",placeholder:"",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])}]};var Ie=a("VU/8")(De,Ee,!1,function(t){a("zqbw")},"data-v-40a1fe38",null).exports,Re={name:"OrderStat",components:{Index:V},data:function(){return{item:"",hcgd:"",echarsType:""}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=sessionStorage.getItem("username");layui.use(["table","laydate","form"],function(){var a=layui.table,i=layui.laydate,s=layui.form;i.render({elem:"#test1"}),i.render({elem:"#test2"}),s.on("submit(formDemo)",function(t){return layer.msg(Q()(t.field)),!1}),s.render(),a.render({elem:"#demo",height:"full-280",cellMinWidth:120,url:t.$url+"orderStatistics",where:{username:e},page:!0,limit:20,totalRow:!0,cols:[[{field:"id",title:"NO",type:"numbers",width:80,totalRowText:"合计"},{field:"engineerName",title:"工程师姓名"},{field:"engineerWoNumber1",title:"事故类",totalRow:!0},{field:"engineerWoNumber2",title:"需求类",totalRow:!0},{field:"engineerWoNumber3",title:"事件类",totalRow:!0},{field:"engineerTotalWoNumber",title:"工单总数",totalRow:!0},{field:"turnOrderNumber",title:"转单总数",totalRow:!0}]],id:"testReload",done:function(){var t=this.elem.next();console.log(t);var e=t.find(".layui-table-total");console.log(e);var a=this.page?this.page.limit:this.limit;console.log(a),layui.each(e.find("td"),function(t,e){console.log(e),console.log(t);var a=(e=$(e)).text();console.log(a),a=a.split(".")[0],e.find("div.layui-table-cell").html(a)})}}),t.$serviceArea(p),s.on("submit(formDome)",function(i){console.log(i);i=i.field;console.log(i),a.reload("testReload",{url:t.$url+"orderStatistics",where:{custName:i.custName,serviceArea:i.name,startDate:i.startDate,endDate:i.endDate,username:e},page:{curr:1}})})})}}},Pe={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"orderStat"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>工单统计<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("服务区域")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("select",{attrs:{name:"name","lay-verify":""}},[a("option",{attrs:{value:"",id:"address"}},[t._v("请选择")])])])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("起始时间")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{name:"startDate",id:"test1",type:"text",placeholder:"年-月-日",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("终止时间")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{name:"endDate",id:"test2",type:"text",placeholder:"年-月-日",autocomplete:"off"}})])]),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDome"}},[t._v("查询")])])])]),t._v(" "),a("div",{staticClass:"tab"},[a("table",{attrs:{id:"demo","lay-filter":"demo"}})])])])}]};var We=a("VU/8")(Re,Pe,!1,function(t){a("03Mi")},"data-v-009e2da2",null).exports,qe={name:"OrderStat",components:{Index:V},data:function(){return{item:"",hcgd:"",echarsType:"",isShow:!1,arrTimeAvg:"",probTimeAvg:"",staffName:"",picA:"",pic:"",avgOrderNumber:"",avgTime:"",proTime:""}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=sessionStorage.getItem("username");layui.use(["table","laydate","form"],function(){var a=layui.table,i=layui.laydate,s=layui.form;i.render({elem:"#test1"}),i.render({elem:"#test2"}),s.on("submit(formDemo)",function(t){return layer.msg(Q()(t.field)),!1}),s.render(),a.render({elem:"#demo",height:"full-280",cellMinWidth:120,url:t.$url+"orderPrescription",where:{username:e},page:!0,limit:20,totalRow:!0,cols:[[{field:"id",title:"NO",type:"numbers",width:80,totalRowText:"平均值"},{field:"staffName",title:"工程师姓名"},{field:"orderNum",title:"维修单数",totalRow:!0},{field:"arrTimeAvg",title:"到达现场平均用时(h)",totalRow:!0},{field:"probTimeAvg",title:"问题解决平均用时(h)",totalRow:!0}]],id:"testReload",done:function(e){var a=this.elem.next().find(".layui-table-total"),i=(this.page?this.page.limit:this.limit,[]);layui.each(a.find("td"),function(t,a){var s=(a=$(a)).text();s&&!isNaN(s)&&(e.count>=20?s/=20:s/=e.count,s=s.toFixed(1),a.find("div.layui-table-cell").html(s)),i.push(s),console.log(s)}),t.avgOrderNumber=i[2],t.avgTime=i[3],t.proTime=i[4]}}),t.$serviceArea(p),s.on("submit(formDome)",function(i){console.log(i);i=i.field;console.log(i),a.reload("testReload",{url:t.$url+"orderPrescription",where:{serviceArea:i.name,startDate:i.startDate,endDate:i.endDate,username:e},page:{curr:1},done:function(e){var a=this.elem.next().find(".layui-table-total"),i=(this.page?this.page.limit:this.limit,[]);if(layui.each(a.find("td"),function(t,a){var s=(a=$(a)).text();s&&!isNaN(s)&&(e.count>=20?s/=20:s/=e.count,s=s.toFixed(1),a.find("div.layui-table-cell").html(s)),i.push(s)}),t.avgOrderNumber=i[2],t.avgTime=i[3],t.proTime=i[4],1==e.code2)t.isShow=!1;else{t.isShow=!0;for(var s=[],l=[],n=[],r=0;r<e.data.length;r++)s.push(e.data[r].staffName),n.push(e.data[r].arrTimeAvg),l.push(e.data[r].probTimeAvg);t.staffName=s,t.arrTimeAvg=n,t.probTimeAvg=l,function(){var e=t.$echarts.init(document.getElementById("main"),"",{width:600,height:300}),a={title:{text:"工程师到达现场平均用时"},xAxis:{type:"category",data:t.staffName},yAxis:{type:"value",axisLabel:{show:!0,interval:"auto",formatter:"{value}(h)"}},series:[{data:t.arrTimeAvg,type:"bar",label:{normal:{show:!0,position:"inside"}}}],animation:!1};e.setOption(a);e.getDataURL();t.picA=e.getDataURL()}(),function(){var e=t.$echarts.init(document.getElementById("mainP"),"",{width:600,height:300}),a={title:{text:"工程师问题解决平均用时"},xAxis:{type:"category",data:t.staffName},yAxis:{type:"value",axisLabel:{show:!0,interval:"auto",formatter:"{value}(h)"}},series:[{data:t.probTimeAvg,type:"bar",label:{normal:{show:!0,position:"inside"}}}],animation:!1};e.setOption(a);e.getDataURL();t.pic=e.getDataURL()}()}}})})})},exportExcel:function(){console.log(this.pic),console.log(this.avgOrderNumber);var t,e={picture1:this.picA,picture2:this.pic,avgOrderNumber:this.avgOrderNumber,avgTime:this.avgTime,proTime:this.proTime},a=sessionStorage.getItem("username");(t=e,o.a.post(m+"exportOrderPrescription",u.a.stringify(v(t,d)))).then(function(t){console.log(t),window.open("http://"+t.data.msg+"?username="+a,"_blank")}).catch(function(t){})}}},Le={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"orderStat"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>工单时效表<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDome"}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])])]),t._v(" "),t._m(3),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticStyle:{width:"50%",height:"400px",float:"left"},attrs:{id:"main"}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticStyle:{width:"50%",height:"400px",float:"left"},attrs:{id:"mainP"}})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("服务区域")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("select",{attrs:{name:"name","lay-verify":""}},[e("option",{attrs:{value:"",id:"address"}},[this._v("请选择")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("起始时间")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input",attrs:{name:"startDate",id:"test1",type:"text",placeholder:"年-月-日",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("终止时间")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input",attrs:{name:"endDate",id:"test2",type:"text",placeholder:"年-月-日",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])}]};var ze=a("VU/8")(qe,Le,!1,function(t){a("Clu9")},"data-v-d75859a6",null).exports,Oe={name:"Assistant",components:{Index:V},data:function(){return{item:"",formV:{id:"",workStatus:"",remark:""},formVa:{name:"",post:"",phone:""},flag:""}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=sessionStorage.getItem("username"),a=sessionStorage.getItem("userRole");layui.use(["table","form"],function(){var i=layui.table,s=layui.form;s.render(),i.render({elem:"#demo",id:"testReload",method:"post",height:"full-280",cellMinWidth:180,url:t.$url+"engineerWorkingStatus",where:{username:e},page:!0,limit:20,cols:[[{field:"staffId",title:"员工编号"},{field:"name",title:"姓名"},{field:"post",title:"职位"},{field:"workCond",title:"工作状态"},{field:"phone",title:"电话"},{field:"remark",title:"备注"},{field:"czx",title:"操作项",minWidth:80,fixed:"right",templet:function(e){return t.isShow(e)}}]],done:function(t){"运维助理"!=a&&$("[data-field='czx']").css("display","none")}}),s.on("submit(formDemo)",function(a){a=a.field;$(".layui-icon-close").click(),i.reload("testReload",{url:t.$url+"engineerWorkingStatus",method:"post",where:{name:a.name,post:a.post,username:e},page:{curr:1}})}),i.on("tool(demo)",function(e){var a,i=e.data;"del"==e.event?(t.formV.id=i.staffId,(a=t.formV,o.a.post(m+"deletaEngineer",u.a.stringify(v(a,d)))).then(function(e){0==e.data.code?(t.$layerClose("test"),t.$layerMsg("删除成功")):t.$layerMsg(e.data.msg)})):"edit"==e.event&&(t.flag="edit",t.formV.id=i.staffId,t.formV.workStatus=i.workCond,t.formVa.name=i.name,t.formVa.post=i.post,t.formVa.phone=i.phone,t.formV.remark=i.remark,t.b=i.name,t.c=i.post,t.d=i.phone,t.e=i.remark,layui.use(["form","table","layer","util"],function(){layui.table;var t=layui.layer;layui.form;t.open({type:1,title:"修改",area:["700px","500px"],content:$(".sdd2")})}))})})},exportExcel:function(){this.$exportE("exportEngineers")},subMit:function(){var t,e=this;"edit"==e.flag&&(t=e.formV,o.a.post(m+"doUpdateEngineer",u.a.stringify(v(t,d)))).then(function(t){0==t.data.code?(e.$layerClose("test"),e.$layerMsg("修改成功"),e.getData()):e.$layerMsg(t.data.msg)}).catch(function(t){console.log(res)})},isShow:function(){var t=this.$admin;return t.ywzl==this.$userRole||t.admin==this.$userRole?'<a class="layui-btn layui-btn-xs" lay-event="edit">修改</a>':'<a class="layui-btn layui-btn-xs noAdmin">'+this.$noAdmin+"</a>"}},destroyed:function(){$(".layui-icon-close").click()}},je={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>在岗状态<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"formDemo"}},[t._v("查询")]),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.exportExcel()}}},[t._v("导出")])])])]),t._v(" "),t._m(2),t._v(" "),a("script",{attrs:{type:"text/html",id:"barDemo"}},[t._v('\n                \x3c!-- <a class="layui-btn layui-btn-xs" lay-event="edit">修改</a> --\x3e\n                \x3c!-- <a class="layui-btn layui-btn-xs layui-btn-danger" lay-event="del">删除</a> --\x3e\n            ')])]),t._v(" "),a("div",{staticClass:"dis-n sdd2"},[a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(3),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.id,expression:"formV.id"}],staticClass:"layui-input",attrs:{type:"text",unselectable:"on",readonly:"readonly","lay-verify":"machCode",autocomplete:"off"},domProps:{value:t.formV.id},on:{input:function(e){e.target.composing||t.$set(t.formV,"id",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(4),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.name,expression:"formVa.name"}],staticClass:"layui-input",attrs:{type:"text",unselectable:"on",readonly:"readonly","lay-verify":"",autocomplete:"off"},domProps:{value:t.formVa.name},on:{input:function(e){e.target.composing||t.$set(t.formVa,"name",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(5),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.post,expression:"formVa.post"}],staticClass:"layui-input",attrs:{type:"text",unselectable:"on",readonly:"readonly","lay-verify":"",autocomplete:"off"},domProps:{value:t.formVa.post},on:{input:function(e){e.target.composing||t.$set(t.formVa,"post",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(6),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formV.workStatus,expression:"formV.workStatus"}],staticClass:"allinput",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formV,"workStatus",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"在岗"}},[t._v("在岗")]),t._v(" "),a("option",{attrs:{value:"休假"}},[t._v("休假")]),t._v(" "),a("option",{attrs:{value:"培训"}},[t._v("培训")])])])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(7),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formVa.phone,expression:"formVa.phone"}],staticClass:"layui-input",attrs:{type:"text",unselectable:"on",readonly:"readonly","lay-verify":"",autocomplete:"off"},domProps:{value:t.formVa.phone},on:{input:function(e){e.target.composing||t.$set(t.formVa,"phone",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(8),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.remark,expression:"formV.remark"}],staticClass:"layui-input",attrs:{type:"text","lay-verify":"",autocomplete:"off"},domProps:{value:t.formV.remark},on:{input:function(e){e.target.composing||t.$set(t.formV,"remark",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.subMit()}}},[t._v("提交")])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("职位")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("select",{staticClass:"allinput",attrs:{name:"post","lay-verify":""}},[a("option",{attrs:{value:"",id:"address"}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"运维助理"}},[t._v("运维助理")]),t._v(" "),a("option",{attrs:{value:"驻现场人员"}},[t._v("驻现场人员")]),t._v(" "),a("option",{attrs:{value:"客服经理"}},[t._v("客服经理")]),t._v(" "),a("option",{attrs:{value:"总部客服"}},[t._v("总部客服")]),t._v(" "),a("option",{attrs:{value:"运维总监"}},[t._v("运维总监")]),t._v(" "),a("option",{attrs:{value:"运维经理"}},[t._v("运维经理")]),t._v(" "),a("option",{attrs:{value:"技术主管"}},[t._v("技术主管")]),t._v(" "),a("option",{attrs:{value:"工程师"}},[t._v("工程师")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("姓名")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"name","lay-verify":"",placeholder:"",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("员工编号：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("姓名：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("职位：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("工作状态：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("电话：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label addInput"},[e("span",[this._v("*")]),this._v("备注：")])}]};var Fe=a("VU/8")(Oe,je,!1,function(t){a("svY4")},"data-v-5f3aff8d",null).exports,Be={name:"Assistant",components:{Index:V},data:function(){return{item:"",subBut:!0,addShow:!1,refer:!0}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=sessionStorage.getItem("userRole");layui.use(["table","layer","form"],function(){var a=layui.table,i=layui.layer,s=layui.form;a.render({elem:"#demo",method:"post",height:"full-240",cellMinWidth:360,url:t.$url+"areaManage",page:!0,limit:20,cols:[[{field:"",title:"序号",type:"numbers"},{field:"compName",title:"服务区域"},{field:"abbreviation",title:"服务区域缩写"},{field:"compLocation",title:"区域地址",minWidth:800},{field:"czx",fixed:"right",title:"操作项",width:120,templet:function(e){return t.isShow(e)}}]],id:"testReload",done:function(t){"运维总监"!=e&&"总部客服"!=e&&$("[data-field='czx']").css("display","none")}}),a.on("tool(demo)",function(e){if(t.subBut=!1,"edit"==e.event)t.subBut=!1,i.open({type:1,title:"修改",area:["700px","500px"],content:$(".sdd")}),s.val("example",{compId:e.data.compNumber,serviceArea:e.data.compName,abbre:e.data.abbreviation,location:e.data.compLocation});else if("del"==e.event){var a={compNumber:e.data.compNumber};i.confirm("确定删除？",function(t){var s;(s=a,o.a.post(m+"deleteArea",u.a.stringify(v(s,d)))).then(function(a){0==a.data.code?(i.msg(a.data.msg),e.del(),i.close(t)):i.msg(a.data.msg)}).catch(function(t){})})}}),s.on("submit(add)",function(){return t.subBut=!0,$(".reset").click(),i.open({type:1,title:"新增",area:["700px","500px"],content:$(".sdd")}),!1}),s.on("submit(addSubmit)",function(e){t.refer=!1;var s,l=e.field,n={serviceArea:l.serviceArea,abbre:l.abbre,location:l.location};(s=n,o.a.post(m+"addArea",u.a.stringify(v(s,d)))).then(function(e){0==e.data.code?(i.closeAll(),i.msg(e.data.msg),a.reload("testReload"),t.refer=!0):(t.refer=!0,i.msg(e.data.msg))}).catch(function(t){})}),s.on("submit(preservation)",function(e){t.refer=!1;var s,l=e.field,n={compId:l.compId,serviceArea:l.serviceArea,abbre:l.abbre,location:l.location};(s=n,o.a.post(m+"updateArea",u.a.stringify(v(s)))).then(function(e){0==e.data.code?(i.closeAll(),i.msg(e.data.msg),a.reload("testReload"),t.refer=!0):(i.msg(e.data.msg),t.refer=!0)}).catch(function(t){})})})},showA:function(){var t=[this.$admin.zbkf,this.$admin.ywzj,this.$admin.admin];console.log(t);for(var e=0,a=t.length;e<a;e++)t[e]==this.$userRole&&(this.addShow=!0)},isShow:function(){var t=this.$admin;return t.zbkf==this.$userRole||t.admin==this.$userRole||t.ywzj==this.$userRole?'<a class="layui-btn layui-btn-xs" lay-event="edit">修改</a><a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>':'<a class="layui-btn layui-btn-xs noAdmin">'+this.$noAdmin+"</a>"}},created:function(){this.showA()}},Ue={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>区域管理<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("div",{staticClass:"btn"},[t.addShow?a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"add"}},[t._v("新增")]):t._e()])]),t._v(" "),t._m(0),t._v(" "),a("script",{attrs:{type:"text/html",id:"barDemo"}},[t._v('\n            \x3c!-- <a class="layui-btn layui-btn-xs" lay-event="edit">修改</a>\n            <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a> --\x3e\n        ')])]),t._v(" "),a("div",{staticClass:"sdd dis-n",attrs:{id:"addWindow"}},[a("form",{staticClass:"layui-form",attrs:{"lay-filter":"example"}},[t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t.refer?a("div",{staticClass:"layui-form-item mar-left"},[t.subBut?a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"addSubmit"}},[t._v("提交")]):a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"preservation"}},[t._v("保存")]),t._v(" "),a("button",{staticClass:"layui-btn dis-n reset",attrs:{type:"reset"}},[t._v("重置")])]):a("div",{staticClass:"layui-form-item mar-left"},[t.subBut?a("a",{staticClass:"layui-btn layui-bg-blue"},[t._v("提交")]):a("a",{staticClass:"layui-btn layui-bg-blue"},[t._v("保存")]),t._v(" "),a("button",{staticClass:"layui-btn dis-n reset",attrs:{type:"reset"}},[t._v("重置")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[e("span",[this._v("*")]),this._v("服务区域")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"serviceArea","lay-verify":"required",autocomplete:"off"}}),this._v(" "),e("input",{staticClass:"layui-input dis-n",attrs:{type:"text",name:"compId","lay-verify":"",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[e("span",[this._v("*")]),this._v("服务区缩写")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"abbre","lay-verify":"required",autocomplete:"off"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[e("span",[this._v("*")]),this._v("区域地址")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"location","lay-verify":"required",autocomplete:"off"}})])])])}]};var He=a("VU/8")(Be,Ue,!1,function(t){a("hSlb")},"data-v-4a8f0cad",null).exports,Ye={name:"Assistant",components:{Index:V},data:function(){},mounted:function(){},methods:{}},Ke={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"assistant"}},[e("div",{staticClass:"body"})])}]};var Qe=a("VU/8")(Ye,Ke,!1,function(t){a("WU9O")},"data-v-b142437e",null).exports,Ge={name:"Assistant",components:{Index:V},data:function(){return{item:"",formV:{role:""}}},mounted:function(){this.getData()},watch:{"formV.homepage":function(t){1==t?(this.formV.workerOrder=!0,this.formV.equipment=!0,this.formV.contract=!0,this.formV.atWork=!0,this.formV.satisfaction=!0):(this.formV.workerOrder=!1,this.formV.equipment=!1,this.formV.contract=!1,this.formV.atWork=!1,this.formV.satisfaction=!1)},"formV.basicMsg":function(t){1==t?(this.formV.custmorMsg=!0,this.formV.userManage=!0,this.formV.calendar=!0):(this.formV.custmorMsg=!1,this.formV.userManage=!1,this.formV.calendar=!1)},"formV.custManage":function(t){1==t?(this.formV.contractMsg=!0,this.formV.contractSatis=!0,this.formV.feedback=!0):(this.formV.contractMsg=!1,this.formV.contractSatis=!1,this.formV.feedback=!1)},"formV.serveManage":function(t){1==t?(this.formV.workMsg=!0,this.formV.faultAnalysis=!0):(this.formV.workMsg=!1,this.formV.faultAnalysis=!1)},"formV.equipAndProperty":function(t){1==t?(this.formV.equipmentManage=!0,this.formV.assets=!0):(this.formV.equipmentManage=!1,this.formV.assets=!1)},"formV.maintainManage":function(t){1==t?(this.formV.plan=!0,this.formV.implement=!0):(this.formV.plan=!1,this.formV.implement=!1)},"formV.reportManage":function(t){1==t?(this.formV.kpiMang=!0,this.formV.orderAnalysis=!0,this.formV.repair=!0,this.formV.operationRate=!0,this.formV.maintain=!0,this.formV.equipmentReq=!0,this.formV.contractForm=!0):(this.formV.kpiMang=!1,this.formV.orderAnalysis=!1,this.formV.repair=!1,this.formV.operationRate=!1,this.formV.maintain=!1,this.formV.equipmentReq=!1,this.formV.contractForm=!1)},"formV.onGuard":function(t){this.formV.engineerWork=1==t},"formV.system":function(t){1==t?(this.formV.area=!0,this.formV.jurisdiction=!0,this.formV.amend=!0,this.formV.parameter=!0):(this.formV.area=!1,this.formV.jurisdiction=!1,this.formV.amend=!1,this.formV.parameter=!1)},"formV.kpiMang":function(t){1==t?(this.formV.engineer=!0,this.formV.customerMsgr=!0,this.formV.branchOffice=!0,this.formV.headquarters=!0,this.formV.service=!0):(this.formV.engineer=!1,this.formV.customerMsgr=!1,this.formV.branchOffice=!1,this.formV.headquarters=!1,this.formV.service=!1)},"formV.jurisdiction":function(t){1==t?(this.formV.pc=!0,this.formV.moble=!0,this.formV.account=!0):(this.formV.pc=!1,this.formV.moble=!1,this.formV.account=!1)}},methods:{homePage:function(t){0==t&&(this.formV.homepage=!0)},getData:function(){var t=this;layui.use(["layer","form"],function(){layui.layer;var e=layui.form;e.render(),e.on("select(role)",function(e){t.formV.role=e.value;var a,i={role:t.formV.role};sessionStorage.setItem("role",t.formV.role),(a=i,o.a.post(m+"judgeRole",u.a.stringify(v(a,d)))).then(function(e){0==e.data.code?t.formV=e.data.data:t.$layerMsg(e.data.msg)})})})},subMit:function(){var t,e=this;e.formV.role=sessionStorage.getItem("role"),(t=e.formV,o.a.post(m+"upDatePermission",u.a.stringify(v(t,d)))).then(function(t){0==t.data.code?(sessionStorage.removeItem("userN"),e.$layerMsg(t.data.msg),e.formV="",e.$router.go(0)):e.$layerMsg(t.data.msg)})}}},Je={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>PC端权限分配<<")]),t._v(" "),a("form",{staticClass:"layui-form"},[a("div",{staticClass:"layui-form-item"},[t._m(0),t._v(" "),a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.subMit()}}},[t._v("保存")])])]),t._v(" "),a("div",{staticClass:"menuSet"},[a("div",{staticClass:"title"},[t._v("菜单管理")]),t._v(" "),a("div",{staticClass:"menuCon"},[a("div",{staticClass:"menuContent"},[a("div",{staticClass:"floatDiv"},[a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.homepage,expression:"formV.homepage"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.homepage)?t._i(t.formV.homepage,null)>-1:t.formV.homepage},on:{change:function(e){var a=t.formV.homepage,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"homepage",a.concat([null])):l>-1&&t.$set(t.formV,"homepage",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"homepage",s)}}}),a("label",[t._v("首页")])]),t._v(" "),a("div",{staticClass:"menuChild"},[a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.workerOrder,expression:"formV.workerOrder"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.workerOrder)?t._i(t.formV.workerOrder,null)>-1:t.formV.workerOrder},on:{click:function(e){t.homePage(t.formV.workerOrder)},change:function(e){var a=t.formV.workerOrder,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"workerOrder",a.concat([null])):l>-1&&t.$set(t.formV,"workerOrder",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"workerOrder",s)}}}),a("label",[t._v("工单概况")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.contract,expression:"formV.contract"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.contract)?t._i(t.formV.contract,null)>-1:t.formV.contract},on:{click:function(e){t.homePage(t.formV.contract)},change:function(e){var a=t.formV.contract,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"contract",a.concat([null])):l>-1&&t.$set(t.formV,"contract",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"contract",s)}}}),a("label",[t._v("合同概况")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.equipment,expression:"formV.equipment"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.equipment)?t._i(t.formV.equipment,null)>-1:t.formV.equipment},on:{click:function(e){t.homePage(t.formV.equipment)},change:function(e){var a=t.formV.equipment,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"equipment",a.concat([null])):l>-1&&t.$set(t.formV,"equipment",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"equipment",s)}}}),a("label",[t._v("设备概况")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.atWork,expression:"formV.atWork"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.atWork)?t._i(t.formV.atWork,null)>-1:t.formV.atWork},on:{click:function(e){t.homePage(t.formV.atWork)},change:function(e){var a=t.formV.atWork,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"atWork",a.concat([null])):l>-1&&t.$set(t.formV,"atWork",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"atWork",s)}}}),a("label",[t._v("在岗人数")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.satisfaction,expression:"formV.satisfaction"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.satisfaction)?t._i(t.formV.satisfaction,null)>-1:t.formV.satisfaction},on:{click:function(e){t.homePage(t.formV.satisfaction)},change:function(e){var a=t.formV.satisfaction,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"satisfaction",a.concat([null])):l>-1&&t.$set(t.formV,"satisfaction",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"satisfaction",s)}}}),a("label",[t._v("客户满意度")])])])]),t._v(" "),a("div",{staticClass:"floatDiv"},[a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.basicMsg,expression:"formV.basicMsg"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.basicMsg)?t._i(t.formV.basicMsg,null)>-1:t.formV.basicMsg},on:{change:function(e){var a=t.formV.basicMsg,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"basicMsg",a.concat([null])):l>-1&&t.$set(t.formV,"basicMsg",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"basicMsg",s)}}}),a("label",[t._v("基本信息")])]),t._v(" "),a("div",{staticClass:"menuChild"},[a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.custmorMsg,expression:"formV.custmorMsg"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.custmorMsg)?t._i(t.formV.custmorMsg,null)>-1:t.formV.custmorMsg},on:{change:function(e){var a=t.formV.custmorMsg,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"custmorMsg",a.concat([null])):l>-1&&t.$set(t.formV,"custmorMsg",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"custmorMsg",s)}}}),a("label",[t._v("客户信息")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.userManage,expression:"formV.userManage"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.userManage)?t._i(t.formV.userManage,null)>-1:t.formV.userManage},on:{change:function(e){var a=t.formV.userManage,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"userManage",a.concat([null])):l>-1&&t.$set(t.formV,"userManage",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"userManage",s)}}}),a("label",[t._v("用户管理")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.calendar,expression:"formV.calendar"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.calendar)?t._i(t.formV.calendar,null)>-1:t.formV.calendar},on:{change:function(e){var a=t.formV.calendar,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"calendar",a.concat([null])):l>-1&&t.$set(t.formV,"calendar",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"calendar",s)}}}),a("label",[t._v("工作日历")])])])]),t._v(" "),a("div",{staticClass:"floatDiv"},[a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.custManage,expression:"formV.custManage"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.custManage)?t._i(t.formV.custManage,null)>-1:t.formV.custManage},on:{change:function(e){var a=t.formV.custManage,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"custManage",a.concat([null])):l>-1&&t.$set(t.formV,"custManage",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"custManage",s)}}}),a("label",[t._v("客户管理")])]),t._v(" "),a("div",{staticClass:"menuChild"},[a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.contractMsg,expression:"formV.contractMsg"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.contractMsg)?t._i(t.formV.contractMsg,null)>-1:t.formV.contractMsg},on:{change:function(e){var a=t.formV.contractMsg,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"contractMsg",a.concat([null])):l>-1&&t.$set(t.formV,"contractMsg",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"contractMsg",s)}}}),a("label",[t._v("合同管理")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.contractSatis,expression:"formV.contractSatis"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.contractSatis)?t._i(t.formV.contractSatis,null)>-1:t.formV.contractSatis},on:{change:function(e){var a=t.formV.contractSatis,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"contractSatis",a.concat([null])):l>-1&&t.$set(t.formV,"contractSatis",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"contractSatis",s)}}}),a("label",[t._v("客户满意度")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.feedback,expression:"formV.feedback"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.feedback)?t._i(t.formV.feedback,null)>-1:t.formV.feedback},on:{change:function(e){var a=t.formV.feedback,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"feedback",a.concat([null])):l>-1&&t.$set(t.formV,"feedback",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"feedback",s)}}}),a("label",[t._v("反馈与建议")])])])]),t._v(" "),a("div",{staticClass:"floatDiv"},[a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.serveManage,expression:"formV.serveManage"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.serveManage)?t._i(t.formV.serveManage,null)>-1:t.formV.serveManage},on:{change:function(e){var a=t.formV.serveManage,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"serveManage",a.concat([null])):l>-1&&t.$set(t.formV,"serveManage",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"serveManage",s)}}}),a("label",[t._v("服务管理")])]),t._v(" "),a("div",{staticClass:"menuChild"},[a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.workMsg,expression:"formV.workMsg"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.workMsg)?t._i(t.formV.workMsg,null)>-1:t.formV.workMsg},on:{change:function(e){var a=t.formV.workMsg,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"workMsg",a.concat([null])):l>-1&&t.$set(t.formV,"workMsg",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"workMsg",s)}}}),a("label",[t._v("工单管理")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.faultAnalysis,expression:"formV.faultAnalysis"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.faultAnalysis)?t._i(t.formV.faultAnalysis,null)>-1:t.formV.faultAnalysis},on:{change:function(e){var a=t.formV.faultAnalysis,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"faultAnalysis",a.concat([null])):l>-1&&t.$set(t.formV,"faultAnalysis",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"faultAnalysis",s)}}}),a("label",[t._v("故障分析")])])])]),t._v(" "),a("div",{staticClass:"floatDiv"},[a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.equipAndProperty,expression:"formV.equipAndProperty"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.equipAndProperty)?t._i(t.formV.equipAndProperty,null)>-1:t.formV.equipAndProperty},on:{change:function(e){var a=t.formV.equipAndProperty,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"equipAndProperty",a.concat([null])):l>-1&&t.$set(t.formV,"equipAndProperty",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"equipAndProperty",s)}}}),a("label",[t._v("设备与资产管理")])]),t._v(" "),a("div",{staticClass:"menuChild"},[a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.equipmentManage,expression:"formV.equipmentManage"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.equipmentManage)?t._i(t.formV.equipmentManage,null)>-1:t.formV.equipmentManage},on:{change:function(e){var a=t.formV.equipmentManage,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"equipmentManage",a.concat([null])):l>-1&&t.$set(t.formV,"equipmentManage",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"equipmentManage",s)}}}),a("label",[t._v("设备管理")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.assets,expression:"formV.assets"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.assets)?t._i(t.formV.assets,null)>-1:t.formV.assets},on:{change:function(e){var a=t.formV.assets,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"assets",a.concat([null])):l>-1&&t.$set(t.formV,"assets",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"assets",s)}}}),a("label",[t._v("资产管理")])])])]),t._v(" "),a("div",{staticClass:"floatDiv"},[a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.maintainManage,expression:"formV.maintainManage"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.maintainManage)?t._i(t.formV.maintainManage,null)>-1:t.formV.maintainManage},on:{change:function(e){var a=t.formV.maintainManage,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"maintainManage",a.concat([null])):l>-1&&t.$set(t.formV,"maintainManage",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"maintainManage",s)}}}),a("label",[t._v("保养管理")])]),t._v(" "),a("div",{staticClass:"menuChild"},[a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.plan,expression:"formV.plan"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.plan)?t._i(t.formV.plan,null)>-1:t.formV.plan},on:{change:function(e){var a=t.formV.plan,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"plan",a.concat([null])):l>-1&&t.$set(t.formV,"plan",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"plan",s)}}}),a("label",[t._v("保养计划")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.implement,expression:"formV.implement"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.implement)?t._i(t.formV.implement,null)>-1:t.formV.implement},on:{change:function(e){var a=t.formV.implement,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"implement",a.concat([null])):l>-1&&t.$set(t.formV,"implement",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"implement",s)}}}),a("label",[t._v("保养执行")])])])]),t._v(" "),a("div",{staticClass:"floatDiv",staticStyle:{width:"235px"}},[a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.reportManage,expression:"formV.reportManage"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.reportManage)?t._i(t.formV.reportManage,null)>-1:t.formV.reportManage},on:{change:function(e){var a=t.formV.reportManage,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"reportManage",a.concat([null])):l>-1&&t.$set(t.formV,"reportManage",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"reportManage",s)}}}),a("label",[t._v("报表管理")])]),t._v(" "),a("div",{staticClass:"menuChild"},[a("div",{staticClass:"menuTit",staticStyle:{height:"230px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.kpiMang,expression:"formV.kpiMang"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.kpiMang)?t._i(t.formV.kpiMang,null)>-1:t.formV.kpiMang},on:{change:function(e){var a=t.formV.kpiMang,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"kpiMang",a.concat([null])):l>-1&&t.$set(t.formV,"kpiMang",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"kpiMang",s)}}}),a("label",[t._v("kpi管理")]),t._v(" "),a("div",{staticClass:"menukpi"},[a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.engineer,expression:"formV.engineer"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.engineer)?t._i(t.formV.engineer,null)>-1:t.formV.engineer},on:{change:function(e){var a=t.formV.engineer,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"engineer",a.concat([null])):l>-1&&t.$set(t.formV,"engineer",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"engineer",s)}}}),a("label",[t._v("工程师KPI报表")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.customerMsgr,expression:"formV.customerMsgr"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.customerMsgr)?t._i(t.formV.customerMsgr,null)>-1:t.formV.customerMsgr},on:{change:function(e){var a=t.formV.customerMsgr,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"customerMsgr",a.concat([null])):l>-1&&t.$set(t.formV,"customerMsgr",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"customerMsgr",s)}}}),a("label",[t._v("客户KPI报表")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.branchOffice,expression:"formV.branchOffice"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.branchOffice)?t._i(t.formV.branchOffice,null)>-1:t.formV.branchOffice},on:{change:function(e){var a=t.formV.branchOffice,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"branchOffice",a.concat([null])):l>-1&&t.$set(t.formV,"branchOffice",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"branchOffice",s)}}}),a("label",[t._v("分公司KPI")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.headquarters,expression:"formV.headquarters"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.headquarters)?t._i(t.formV.headquarters,null)>-1:t.formV.headquarters},on:{change:function(e){var a=t.formV.headquarters,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"headquarters",a.concat([null])):l>-1&&t.$set(t.formV,"headquarters",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"headquarters",s)}}}),a("label",[t._v("总公司运维KPI")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.service,expression:"formV.service"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.service)?t._i(t.formV.service,null)>-1:t.formV.service},on:{change:function(e){var a=t.formV.service,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"service",a.concat([null])):l>-1&&t.$set(t.formV,"service",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"service",s)}}}),a("label",[t._v("坐席客服KPI")])])])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.orderAnalysis,expression:"formV.orderAnalysis"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.orderAnalysis)?t._i(t.formV.orderAnalysis,null)>-1:t.formV.orderAnalysis},on:{change:function(e){var a=t.formV.orderAnalysis,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"orderAnalysis",a.concat([null])):l>-1&&t.$set(t.formV,"orderAnalysis",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"orderAnalysis",s)}}}),a("label",[t._v("工单分析表")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.repair,expression:"formV.repair"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.repair)?t._i(t.formV.repair,null)>-1:t.formV.repair},on:{change:function(e){var a=t.formV.repair,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"repair",a.concat([null])):l>-1&&t.$set(t.formV,"repair",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"repair",s)}}}),a("label",[t._v("维修报表")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.operationRate,expression:"formV.operationRate"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.operationRate)?t._i(t.formV.operationRate,null)>-1:t.formV.operationRate},on:{change:function(e){var a=t.formV.operationRate,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"operationRate",a.concat([null])):l>-1&&t.$set(t.formV,"operationRate",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"operationRate",s)}}}),a("label",[t._v("设备运转正常率")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.maintain,expression:"formV.maintain"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.maintain)?t._i(t.formV.maintain,null)>-1:t.formV.maintain},on:{change:function(e){var a=t.formV.maintain,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"maintain",a.concat([null])):l>-1&&t.$set(t.formV,"maintain",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"maintain",s)}}}),a("label",[t._v("保养报表")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.equipmentReq,expression:"formV.equipmentReq"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.equipmentReq)?t._i(t.formV.equipmentReq,null)>-1:t.formV.equipmentReq},on:{change:function(e){var a=t.formV.equipmentReq,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"equipmentReq",a.concat([null])):l>-1&&t.$set(t.formV,"equipmentReq",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"equipmentReq",s)}}}),a("label",[t._v("设备管理报表")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.contractForm,expression:"formV.contractForm"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.contractForm)?t._i(t.formV.contractForm,null)>-1:t.formV.contractForm},on:{change:function(e){var a=t.formV.contractForm,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"contractForm",a.concat([null])):l>-1&&t.$set(t.formV,"contractForm",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"contractForm",s)}}}),a("label",[t._v("运维合同报表")])])])]),t._v(" "),a("div",{staticClass:"floatDiv",staticStyle:{"border-right":"none"}},[a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.onGuard,expression:"formV.onGuard"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.onGuard)?t._i(t.formV.onGuard,null)>-1:t.formV.onGuard},on:{change:function(e){var a=t.formV.onGuard,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"onGuard",a.concat([null])):l>-1&&t.$set(t.formV,"onGuard",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"onGuard",s)}}}),a("label",[t._v("在岗管理")])]),t._v(" "),a("div",{staticClass:"menuChild"},[a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.engineerWork,expression:"formV.engineerWork"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.engineerWork)?t._i(t.formV.engineerWork,null)>-1:t.formV.engineerWork},on:{change:function(e){var a=t.formV.engineerWork,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"engineerWork",a.concat([null])):l>-1&&t.$set(t.formV,"engineerWork",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"engineerWork",s)}}}),a("label",[t._v("在岗状态")])])])]),t._v(" "),a("div",{staticClass:"floatDiv",staticStyle:{width:"235px","border-right":"none"}},[a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.system,expression:"formV.system"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.system)?t._i(t.formV.system,null)>-1:t.formV.system},on:{change:function(e){var a=t.formV.system,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"system",a.concat([null])):l>-1&&t.$set(t.formV,"system",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"system",s)}}}),a("label",[t._v("系统管理")])]),t._v(" "),a("div",{staticClass:"menuChild"},[a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.area,expression:"formV.area"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.area)?t._i(t.formV.area,null)>-1:t.formV.area},on:{change:function(e){var a=t.formV.area,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"area",a.concat([null])):l>-1&&t.$set(t.formV,"area",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"area",s)}}}),a("label",[t._v("区域管理")])]),t._v(" "),a("div",{staticClass:"menuTit",staticStyle:{height:"115px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.jurisdiction,expression:"formV.jurisdiction"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.jurisdiction)?t._i(t.formV.jurisdiction,null)>-1:t.formV.jurisdiction},on:{change:function(e){var a=t.formV.jurisdiction,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"jurisdiction",a.concat([null])):l>-1&&t.$set(t.formV,"jurisdiction",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"jurisdiction",s)}}}),a("label",[t._v("权限分配")]),t._v(" "),a("div",{staticClass:"menukpi"},[a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.pc,expression:"formV.pc"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.pc)?t._i(t.formV.pc,null)>-1:t.formV.pc},on:{change:function(e){var a=t.formV.pc,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"pc",a.concat([null])):l>-1&&t.$set(t.formV,"pc",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"pc",s)}}}),a("label",[t._v("PC端权限分配")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.account,expression:"formV.account"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.account)?t._i(t.formV.account,null)>-1:t.formV.account},on:{change:function(e){var a=t.formV.account,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"account",a.concat([null])):l>-1&&t.$set(t.formV,"account",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"account",s)}}}),a("label",[t._v("账户管理")])])])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.amend,expression:"formV.amend"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.amend)?t._i(t.formV.amend,null)>-1:t.formV.amend},on:{change:function(e){var a=t.formV.amend,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"amend",a.concat([null])):l>-1&&t.$set(t.formV,"amend",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"amend",s)}}}),a("label",[t._v("密码修改")])]),t._v(" "),a("div",{staticClass:"menuTit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formV.parameter,expression:"formV.parameter"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formV.parameter)?t._i(t.formV.parameter,null)>-1:t.formV.parameter},on:{change:function(e){var a=t.formV.parameter,i=e.target,s=!!i.checked;if(Array.isArray(a)){var l=t._i(a,null);i.checked?l<0&&t.$set(t.formV,"parameter",a.concat([null])):l>-1&&t.$set(t.formV,"parameter",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.formV,"parameter",s)}}}),a("label",[t._v("参数设定")])])])])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("角色")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("select",{staticClass:"layui-form",attrs:{name:"role",id:"rr","lay-filter":"role"}},[a("option",{attrs:{value:""}}),t._v(" "),a("option",{attrs:{value:"运维总监"}},[t._v("运维总监")]),t._v(" "),a("option",{attrs:{value:"运维经理"}},[t._v("运维经理")]),t._v(" "),a("option",{attrs:{value:"技术主管"}},[t._v("技术主管")]),t._v(" "),a("option",{attrs:{value:"客服经理"}},[t._v("客服经理")]),t._v(" "),a("option",{attrs:{value:"总部客服"}},[t._v("总部客服")]),t._v(" "),a("option",{attrs:{value:"运维助理"}},[t._v("运维助理")])])])])}]};var Xe=a("VU/8")(Ge,Je,!1,function(t){a("JPJL")},"data-v-0b5e3a10",null).exports,Ze={name:"Assistant",components:{Index:V},data:function(){return{item:""}},mounted:function(){this.getData()},methods:{}},ta={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"assistant"}},[e("Index"),this._v(" "),e("div",{staticClass:"body"},[this._v("\n        kjdlkjlkjksjjdjsdjsdkksd\n        \n    ")])],1)},staticRenderFns:[]};var ea=a("VU/8")(Ze,ta,!1,function(t){a("4G77")},"data-v-b8c16764",null).exports,aa={name:"Account",components:{Index:V},data:function(){return{item:"",custName:!1,staffNum:!1,save:!0,cust:!0,worker:!1,compName:"",accout:"",addShow:!1,refer:!0}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=sessionStorage.getItem("username");layui.use(["table","form"],function(){var a=layui.table,i=layui.form;i.render(),a.render({elem:"#demo",method:"post",height:"full-280",cellMinWidth:120,url:t.$url+"selectUser",where:{username:e},page:!0,limit:20,cols:[[{title:"序号",type:"numbers",width:80},{field:"role",title:"角色"},{field:"userName",title:"姓名"},{field:"userId",title:"账户ID"},{field:"custName",title:"所属公司"},{field:"gnx",title:"操作项",toolbar:"#barDemo"}]],id:"testReload"}),i.on("submit(select)",function(i){i=i.field;return a.reload("testReload",{url:t.$url+"selectUser",method:"post",where:{role:i.role,custName:i.custName,phone:i.phone,username:e},page:{curr:1}}),!1}),a.on("tool(demo)",function(t){if("resetPwd"==t.event){var e={userId:t.data.userId};console.log(e),layer.confirm("确认重置密码？",function(t){var a;layer.close(t),(a=e,o.a.post(m+"resetPassword",u.a.stringify(v(a,d)))).then(function(t){console.log(t),0==t.data.code?layer.msg("重置成功！密码为123456"):layer.msg(t.data.msg)}).catch(function(t){})})}}),i.on("select(role)",function(e){var a=e.value;"客户"==a?(t.custName=!0,t.staffNum=!1,t.save=!0,t.cust=!0,t.worker=!1):"公司员工"==a?(t.staffNum=!0,t.custName=!1,t.save=!1,t.cust=!1,t.worker=!0,t.compName="",t.accout=""):(t.custName=!1,t.staffNum=!1,t.save=!0,t.cust=!0,t.worker=!1,t.compName="",t.accout="")}),i.on("submit(save)",function(e){t.refer=!1;var s,l={staffId:e.field.staffId,password:e.field.password};return(s=l,o.a.post(m+"addCompany",u.a.stringify(v(s,d)))).then(function(e){var s=e.data;0==s.code?(layer.closeAll(),layer.msg(s.msg),a.reload("testReload"),t.refer=!0,$("#addGoodsForm")[0].reset(),i.val("example",{role:""}),t.custName=!1,t.staffNum=!1,t.save=!0,t.cust=!0,t.worker=!1,t.compName="",t.accout="",layui.form.render()):(layer.msg(s.msg),$("#addGoodsForm")[0].reset(),t.refer=!0,i.val("example",{role:"公司员工"}),t.staffNum=!0,t.custName=!1,t.save=!1,t.cust=!1,t.worker=!0,t.compName="",t.accout="",layui.form.render())}).catch(function(t){}),!1}),i.on("submit(subsave)",function(e){console.log(e),t.refer=!1;var s,l={role:e.field.role,compName:e.field.compName,userName:e.field.userName,accout:e.field.accout,password:e.field.password};return(s=l,o.a.post(m+"addCust",u.a.stringify(v(s,d)))).then(function(e){var s=e.data;0==s.code?(t.refer=!0,layer.closeAll(),layer.msg(s.msg),a.reload("testReload"),$("#addGoodsForm")[0].reset(),i.val("example",{role:""}),t.custName=!1,t.staffNum=!1,t.save=!0,t.cust=!0,t.worker=!1,t.compName="",t.accout="",layui.form.render()):(layer.msg(s.msg),t.refer=!0,$("#addGoodsForm")[0].reset(),layui.form.render(),i.val("example",{role:"客户"}))}).catch(function(t){}),!1})})},add:function(){layui.use(["layer","form"],function(){var t=layui.layer;layui.form;t.open({type:1,title:"新增账户",area:["700px","500px"],content:$(".sdd")})})},staff:function(){var t,e=this,a=$("#staff").val(),i={staffId:a};console.log(a),(t=i,o.a.post(m+"staffMessage",u.a.stringify(v(t,d)))).then(function(t){var a=t.data;1==a.code?layer.msg(a.msg):0==a.code&&(e.compName=t.data.data.compName,e.accout=t.data.data.phone)}).catch(function(t){})},showA:function(){var t=[this.$admin.zbkf,this.$admin.ywzj,this.$admin.admin];console.log(t);for(var e=0,a=t.length;e<a;e++)t[e]==this.$userRole&&(this.addShow=!0)}},created:function(){this.showA()}},ia={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>账户管理<<")]),t._v(" "),a("div",{staticClass:"abovebtn"},[a("form",{staticClass:"layui-form",attrs:{action:""}},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"btn"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-filter":"select","lay-submit":""}},[t._v("查询")]),t._v(" "),t.addShow?a("a",{staticClass:"layui-btn layui-bg-blue",on:{click:function(e){t.add()}}},[t._v("新增账户")]):t._e()])])]),t._v(" "),t._m(3),t._v(" "),a("script",{attrs:{type:"text/html",id:"barDemo"}},[t._v('\r\n                <a class="layui-btn layui-btn-xs" lay-event="resetPwd">重置密码</a>\r\n            ')])]),t._v(" "),a("div",{staticClass:"sdd dis-n"},[a("form",{staticClass:"layui-form",attrs:{"lay-filter":"example",id:"addGoodsForm"}},[t._m(4),t._v(" "),t.custName?a("div",{staticClass:"layui-form-item custName"},[t._m(5)]):t._e(),t._v(" "),t.staffNum?a("div",{staticClass:"layui-form-item staffNum"},[a("div",{staticClass:"layui-inline"},[t._m(6),t._v(" "),a("div",{staticClass:"layui-input-inline "},[a("input",{staticClass:"layui-input upWidth",attrs:{type:"text",name:"staffId",id:"staff","lay-verify":"required",autocomplete:"off"},on:{blur:function(e){t.staff()}}})])])]):t._e(),t._v(" "),t.cust?a("div",{staticClass:"layui-form-item affiliate"},[t._m(7)]):t._e(),t._v(" "),t.worker?a("div",{staticClass:"layui-form-item affiliate"},[a("div",{staticClass:"layui-inline"},[t._m(8),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.compName,expression:"compName"}],staticClass:"layui-input upWidth",attrs:{type:"text",name:"compName",unselectable:"on",readonly:"","lay-verify":"required",autocomplete:"off"},domProps:{value:t.compName},on:{input:function(e){e.target.composing||(t.compName=e.target.value)}}})])])]):t._e(),t._v(" "),t.cust?a("div",{staticClass:"layui-form-item"},[t._m(9)]):t._e(),t._v(" "),t.worker?a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[t._m(10),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.accout,expression:"accout"}],staticClass:"layui-input upWidth",attrs:{type:"text",name:"accout",unselectable:"on",readonly:"","lay-verify":"phone||required",autocomplete:"off"},domProps:{value:t.accout},on:{input:function(e){e.target.composing||(t.accout=e.target.value)}}})])])]):t._e(),t._v(" "),t._m(11),t._v(" "),t.refer?a("div",{staticClass:"layui-form-item btn"},[t.save?a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"subsave"}},[t._v("提交")]):a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"save"}},[t._v("保存")]),t._v(" "),a("button",{staticClass:"layui-btn",attrs:{type:"reset",id:"resetBut"}},[t._v("重置")])]):a("div",{staticClass:"layui-form-item btn"},[t.save?a("a",{staticClass:"layui-btn layui-bg-blue"},[t._v("提交")]):a("a",{staticClass:"layui-btn layui-bg-blue"},[t._v("保存")]),t._v(" "),a("a",{staticClass:"layui-btn reset dis-n",attrs:{type:"reset"}},[t._v("重置")])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("角色")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("select",{attrs:{name:"role","lay-verify":"role","lay-search":""}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"运维经理"}},[t._v("运维经理")]),t._v(" "),a("option",{attrs:{value:"技术主管"}},[t._v("技术主管")]),t._v(" "),a("option",{attrs:{value:"总部客服"}},[t._v("总部客服")]),t._v(" "),a("option",{attrs:{value:"工程师"}},[t._v("工程师")]),t._v(" "),a("option",{attrs:{value:"驻现场人员"}},[t._v("驻现场人员")]),t._v(" "),a("option",{attrs:{value:"运维助理"}},[t._v("运维助理")]),t._v(" "),a("option",{attrs:{value:"客服经理"}},[t._v("客服经理")]),t._v(" "),a("option",{attrs:{value:"运维总监"}},[t._v("运维总监")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("所属公司")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"custName","lay-verify":"",placeholder:"",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[this._v("手机号")]),this._v(" "),e("div",{staticClass:"layui-input-block"},[e("input",{staticClass:"layui-input",attrs:{type:"text",name:"phone","lay-verify":"",placeholder:"",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab"},[e("table",{attrs:{id:"demo","lay-filter":"demo"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[a("span",[t._v("*")]),t._v("角色名称")]),t._v(" "),a("div",{staticClass:"layui-input-inline upWidth"},[a("select",{staticClass:"upWidth",attrs:{name:"role","lay-filter":"role","lay-verify":"required"}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"客户"}},[t._v("客户")]),t._v(" "),a("option",{attrs:{value:"公司员工"}},[t._v("公司员工")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[e("span",[this._v("*")]),this._v("客户名称")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input upWidth",attrs:{type:"text",name:"userName","lay-verify":"required",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label"},[e("span",[this._v("*")]),this._v("员工编码")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[e("span",[this._v("*")]),this._v("所属公司")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input upWidth",attrs:{type:"text",name:"compName","lay-verify":"required",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label"},[e("span",[this._v("*")]),this._v("所属公司")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[e("span",[this._v("*")]),this._v("账号")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input upWidth",attrs:{type:"text",name:"accout","lay-verify":"phone||required",autocomplete:"off"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"layui-form-label"},[e("span",[this._v("*")]),this._v("账号")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layui-form-item"},[e("div",{staticClass:"layui-inline"},[e("label",{staticClass:"layui-form-label"},[e("span",[this._v("*")]),this._v("密码")]),this._v(" "),e("div",{staticClass:"layui-input-inline"},[e("input",{staticClass:"layui-input upWidth",attrs:{type:"text",name:"password","lay-verify":"required",autocomplete:"off"}})])])])}]};var sa=a("VU/8")(aa,ia,!1,function(t){a("E99v")},"data-v-c3b22f78",null).exports,la={name:"Assistant",components:{Index:V},data:function(){return{item:""}},mounted:function(){this.getData()},methods:{getData:function(){layui.use(["form","layer"],function(){var t=layui.form,e=layui.layer;t.on("submit(preservation)",function(t){console.log(t);var a,i={username:sessionStorage.getItem("username"),oldPassword:t.field.oldPassword,newPassword:t.field.newPassword,surePassword:t.field.surePassword};console.log(i),(a=i,o.a.post(m+"upDatePassword",u.a.stringify(v(a,d)))).then(function(t){console.log(t.data);var a=t.data;1==a.code?(e.msg(a.msg),$(".reset").click()):0==a.code&&(e.msg(a.msg),$(".reset").click())}).catch(function(t){})})})}}},na={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>密码修改<<")]),t._v(" "),a("form",{staticClass:"layui-form"},[a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("原密码")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{type:"password",name:"oldPassword","lay-verify":"required",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("新密码")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{type:"password",name:"newPassword","lay-verify":"required",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("确认密码")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{type:"password",name:"surePassword","lay-verify":"required",autocomplete:"off"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item mar-left"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"preservation"}},[t._v("提交")]),t._v(" "),a("button",{staticClass:"layui-btn reset",attrs:{type:"reset"}},[t._v("重置")])])])])])}]};var ra=a("VU/8")(la,na,!1,function(t){a("4j69")},"data-v-0bb9ba72",null).exports,oa={name:"Assistant",components:{Index:V},data:function(){return{item:""}},mounted:function(){this.getData()},methods:{getData:function(){layui.use(["layer","form"],function(){var t,e=layui.layer,a=layui.form;a.verify({httpUrl:[/(http|https):\/\/([\w.]+\/?)\S*/,"连接地址格式不正确！"]}),a.on("submit(caseSave)",function(t){console.log(t.field);var a,i={title:t.field.caseTitle,content:t.field.caseContent};return(a=i,o.a.post(m+"addSolvePlan",u.a.stringify(v(a,d)))).then(function(t){e.msg(t.data.msg),$(".reset").click()}).catch(function(t){}),!1}),o.a.post(m+"selectAssessment",u.a.stringify(v(t,d))).then(function(t){a.val("example",{telphone:t.data.responseTime,arrive:t.data.arriveTime,solve:t.data.solvingTime,sendTime:t.data.sendTime})}).catch(function(t){}),a.on("submit(timeSave)",function(t){console.log(t.field);var i={responseTime:t.field.telphone,arriveTime:t.field.arrive,solvingTime:t.field.solve,sendTime:t.field.sendTime};return e.confirm("确定修改？",function(t){var s;(s=i,o.a.post(m+"assessment",u.a.stringify(v(s,d)))).then(function(i){var s=i.data;0==s.code?(e.close(t),e.msg(s.msg),a.render()):1==s.code&&(e.close(t),e.msg(s.msg),a.render())}).catch(function(t){})}),!1})})}}},ca={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"assistant"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"titleLab"},[t._v(">>参数设定<<")]),t._v(" "),a("div",{staticClass:"moduleDiv"},[a("div",{staticClass:"title"},[t._v("新增方案")]),t._v(" "),a("form",{staticClass:"layui-form"},[a("div",{staticClass:"layui-form-item",staticStyle:{"margin-top":"35px"}},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label "},[t._v("方案标题")]),t._v(" "),a("div",{staticClass:"layui-input-inline",staticStyle:{width:"270px"}},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"caseTitle","lay-verify":"required",autocomplete:"off",placeholder:"广东迅维信息产业股份有限公司"}})])]),t._v(" "),a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("方案链接")]),t._v(" "),a("div",{staticClass:"layui-input-inline",staticStyle:{width:"270px"}},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"caseContent","lay-verify":"httpUrl||required",autocomplete:"off",placeholder:"http://solutionyun.com"}})])])]),t._v(" "),a("div",{staticClass:"layui-form-item mar-left"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"caseSave"}},[t._v("保存")]),t._v(" "),a("button",{staticClass:"layui-btn dis-n reset",attrs:{type:"reset"}},[t._v("重置")])])]),t._v(" "),a("div",{staticClass:"caseContent"})]),t._v(" "),a("div",{staticClass:"moduleDiv"},[a("div",{staticClass:"title"},[t._v("考核目标时间设定")]),t._v(" "),a("form",{staticClass:"layui-form",attrs:{"lay-filter":"example"}},[a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label allinput"},[t._v("电话响应时间")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"telphone","lay-verify":"required",autocomplete:"off"}})]),t._v(" "),a("label",{staticClass:"selHeight"},[t._v("分钟")])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label allinput"},[t._v("到达现场时间")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"arrive","lay-verify":"required",autocomplete:"off"}})]),t._v(" "),a("label",{staticClass:"selHeight"},[t._v("小时")])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label allinput"},[t._v("问题解决时间")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"solve","lay-verify":"required",autocomplete:"off"}})]),t._v(" "),a("label",{staticClass:"selHeight"},[t._v("小时")])])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label allinput"},[t._v("客服派单时间")]),t._v(" "),a("div",{staticClass:"layui-input-inline"},[a("input",{staticClass:"layui-input",attrs:{type:"text",name:"sendTime","lay-verify":"required",autocomplete:"off"}})]),t._v(" "),a("label",{staticClass:"selHeight"},[t._v("分钟")])])]),t._v(" "),a("div",{staticClass:"layui-form-item mar-left"},[a("a",{staticClass:"layui-btn layui-bg-blue",attrs:{"lay-submit":"","lay-filter":"timeSave"}},[t._v("保存")])])])])])])}]};var ua=a("VU/8")(oa,ca,!1,function(t){a("MQve")},"data-v-42bd5cf2",null).exports,ma={render:function(){var t=this.$createElement;return(this._self._c||t)("view")},staticRenderFns:[]};var da=a("VU/8")({name:"Pcu",data:function(){return{}},methos:{},created:function(){this.$router.push({path:"/home/pc"})}},ma,!1,function(t){a("WbfV")},null,null).exports;i.a.use(n.a);var va=new n.a({routes:[{path:"/",name:"Login",component:D},{path:"/home",name:"Home",component:N,children:[{path:"/home/pcU",name:"pcU",component:da},{path:"/home/assistant",name:"Assistant",component:R},{path:"/home/client",name:"Client",component:q},{path:"/home/majordomo",name:"Majordomo",component:O},{path:"/home/operations",name:"Operations",component:B},{path:"/home/serviceHome",name:"ServiceHome",component:Y},{path:"/home/workerOrder",name:"WorkerOrder",component:X},{path:"/home/contract",name:"Contract",component:et},{path:"/home/atWork",name:"AtWork",component:ot},{path:"/home/satisfaction",name:"Satisfaction",component:mt},{path:"/home/custmorMsg",name:"CustmorMsg",component:ht},{path:"/home/equipment",name:"Equipment",component:ft},{path:"/home/calendar",name:"Calendar",component:gt},{path:"/home/userManage",name:"UserManage",component:Vt},{path:"/home/contractMsg",name:"ContractMsg",component:$t},{path:"/home/contractSatis",name:"ContractSatis",component:St},{path:"/home/feedback",name:"Feedback",component:Dt},{path:"/home/workMsg",name:"WorkMsg",component:Rt,children:[{path:"workMsgAdd",name:"WorkMsgAdd",component:qt}]},{path:"/home/faultAnalysis",name:"FaultAnalysis",component:Ot},{path:"/home/equipmentManage",name:"EquipmentManage",component:Ht},{path:"/home/assets",name:"Assets",component:Qt},{path:"/home/plan",name:"Plan",component:Xt},{path:"/home/implement",name:"Implement",component:ee},{path:"/home/engineer",name:"Engineer",component:se},{path:"/home/customerMsgr",name:"CustomerMsgr",component:re},{path:"/home/branchOffice",name:"BranchOffice",component:ue},{path:"/home/headquarters",name:"Headquarters",component:ve},{path:"/home/service",name:"Service",component:ye},{path:"/home/orderAnalysis",name:"OrderAnalysis",component:be},{path:"/home/repair",name:"Repair",component:we},{path:"/home/operationRate",name:"OperationRate",component:ke},{path:"/home/maintain",name:"Maintain",component:Ae},{path:"/home/equipmentReq",name:"EquipmentReq",component:Te},{path:"/home/orderStat",name:"OrderStat",component:We},{path:"/home/orderPrescription",name:"orderPrescription",component:ze},{path:"/home/contractForm",name:"ContractForm",component:Ie},{path:"/home/engineerWork",name:"EngineerWork",component:Fe},{path:"/home/area",name:"Area",component:He},{path:"/home/jurisdiction",name:"Jurisdiction",component:Qe},{path:"/home/pc",name:"Pc",component:Xe},{path:"/home/moble",name:"Moble",component:ea},{path:"/home/account",name:"Account",component:sa},{path:"/home/amend",name:"Amend",component:ra},{path:"/home/parameter",name:"Parameter",component:ua}]}]}),fa=(a("hct2"),a("OMmn"),a("KBGp"),a("hKoQ")),pa=a.n(fa),ya=a("qMlo"),ha=a.n(ya),_a=a("XLwt"),ba=a.n(_a);pa.a.polyfill(),i.a.use(ha.a);var ga="http://47.106.110.201:80/som/",Ca=sessionStorage.getItem("username");i.a.prototype.$exportE=function(t){window.open(ga+t+"?username="+Ca)},i.a.prototype.$layerMsg=function(t){layui.use("layer",function(){layer.msg(t)})},i.a.prototype.$layerClose=function(t){layui.use(["form","table","layer"],function(){var e=layui.table;layui.layer.closeAll(),e.reload(t)})},i.a.prototype.$serviceArea=function(t){layui.use(["form","layer"],function(){var e=layui.form,a=(layui.layer,sessionStorage.getItem("userRole")),i=sessionStorage.getItem("serviceArea");"总部客服"==a||"运维总监"==a?t().then(function(t){for(var a=t.data.data,i=[],s=0;s<a.length;s++)-1==i.indexOf(a[s].compName)&&i.push(a[s].compName);for(var l=0;l<i.length;l++)$("#address").after("<option value='"+i[l]+'\' id="">'+i[l]+"</option>");e.render()}).catch(function(t){}):"客户"==a?($("#address").after("<option value='"+i+'\' id="">'+i+"</option>"),e.render()):"广州乐派数码科技有限公司"==i||"行业客户部"==i||"系统推进部"==i?($("#address").after('<option value="广州乐派数码科技有限公司">广州乐派数码科技有限公司</option><option value="行业客户部">行业客户部</option><option value="系统推进部">系统推进部</option>'),e.render()):($("#address").after("<option value='"+i+'\' id="">'+i+"</option>"),e.render())})},i.a.prototype.$exportEa=function(t){$.ajax({url:ga+t,type:"get",async:!1,success:function(t){window.open("http://"+t+"?username="+Ca)},error:function(t){alert(t)}})},i.a.config.productionTip=!1,i.a.prototype.$axios=o.a,i.a.prototype.$url=ga,i.a.prototype.$userRole=sessionStorage.getItem("userRoleA"),i.a.prototype.$admin1=["运维助理","驻现场人员","客服主管","总部客服","超级管理员"],i.a.prototype.$admin2=["总部客服","超级管理员"],i.a.prototype.$admin={ywzl:"assingest",zxcry:"dogface",kfjl:"beefnoodle",zbkf:"badhead",admin:"admin",kh:"shitcustomer",ywzj:"uglyman",jszg:"chinken",ywjl:"anlahuakeba",kfzg:"beefnoodle"},i.a.prototype.$noAdmin="",i.a.prototype.$noColor="#ddd",i.a.prototype.$date=function(t){var e=parseInt(t);if(""!=e||null!=e){var a=new Date(e),i=a.getFullYear(),s=a.getMonth()+1;s=s>=10?s:"0"+s;var l=a.getDate(),n=i+"-"+s+"-"+(l=l>=10?l:"0"+l)}else n="";return n},i.a.prototype.$extend=function(t,e){var a={};for(var i in t)a[i]=t[i];for(var s in e)a[s]=e[s];return a},i.a.prototype.$echarts=ba.a,new i.a({el:"#app",router:va,components:{App:l},template:"<App/>"})},OMmn:function(t,e){},Onzz:function(t,e){},S1IW:function(t,e){},SmFt:function(t,e){},WU9O:function(t,e){},WbfV:function(t,e){},WrJy:function(t,e){},XUZj:function(t,e){},YGqn:function(t,e){},Zkp7:function(t,e){},aCqY:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUUAAAEYCAMAAAD8uhRGAAACeVBMVEUAAAD////////////6/f/2/P7///7L7fr9/vn4/f7a8vyv4/ju+f56z/K45vnQ7vv8/fWO1/Xm9v3+//+R2PVxy/GB0vOF1PSW2vWs4vjp9/3r+P2c3Pbt9M2/6fnF6vrX8fvh9fzj9fzz+/7b6Jvf66bg7Krk7bOo4Pe95/nU8Pv3+unW5Y5+0PK05Pj8/v32+eTw+v78/v/7/v/Y5pJ3z/Of3vbd8/z9/v9yzvJ/z9/j8+73/PrD6fnw9dX+/v70+ODf9Pz+/vx0zvPi7K7m77ik3/fx+fb5++36/PD6/PJsyuWF0NrT7OTZ55eJ1fTo9fHn8L3r8sjH6/rX8Pv2+/qm2cuU1Nfe6qLk7rXp8cHs88rx9tr7/v1myOaO09l2zeF90fPY7ufc6J7d8Org8ezu+PXq8cTu9NH6/fzx9tjy99zY7ufZ7ujl9O/s9vPq8sb0+vi86Pne8u3+/vvQ6uJxzOOr3ND5/Pvt9/Vwxsm/49vF5t/z+vjw9tf+///r9/T5/fxhwdJmw9C039W239XK6eHW7ejj8+9Nwe8+uOvK3W6u282Fy7pOwe9AuexOwu9LwO5Du+xBuuyx3MxLwPBGve6w3M1Ivu5EvO1bxvFIwPFSwe1iyfFWxfBTw/BFvO1JvOy44NPM33RJv++DyrnO33dGu+yz3tHU5InS4oNQwu/P4HrL3nFty/JpyPCOz7/Q4X5oy/Jhxe9cw+9Wwe5Mve1YxOy+4tel2dC03cup2suf19Ob1MVmx+89uOzN6eDJ592W0sNPvu1fxunD5NrL3nCs286HzLuHzLmw3M+g1sei18mY1tWT0cFLvOJWvtp+ycCKzLbTRsJiAAAAiXRSTlMASlSHUldXi15UeKxh76KEZNZpTdL65eHMsWZjxaGZknxvbVvr29TItpyAdv7pp5B9Xk9P+fPAdE368s2elZSMg3Ja9c7Au6twbGn49fPx27+4qJB8Gf384MOzpY0J/vfz6+vn3NSyrpqWkIrn4sW3q6SdX1r69eyVM/62paSQjDkR+PjSzJNxTypBN7sAABIFSURBVHja7NtZaxNRFAfwORgJiVZRG9fi+mKFKCruFhFBH1QU1PrkgqhvIuqDuOG+3MOdTDJJOg3JgymGFAQN2NQlptVW0Vj3T+SdGpfYqs3MvTM3aX8UUfDpz7k559ybKmPq0QpglDFVmQawaC3s9XoXz5zZsGpXoKHhUeBhYNf0psamWc0L/Ctmw0plzN8BgL9lwpSuri7ELA5PwxRuCS6e5V8AHmVMBQCf3zsrmM6mcaTS3YEZExYuGjvrPytw3pSefBatSOWnTJjoGeVJAsDkoIb2RPtnTBo/amsSYOrMNPKR7Wryrhx9QYJnbgD5ym9pHlVnGya2NHRryJ82fcLs0REkwPKZeRSmP9gC05Q6BwubsiiWho0L6vloA+wNdqMTery+Os0R5qxG5+iNU+twUwTYmkJHadP9dVaPa/1BdEFgch19QMLmBg3dkWqpj60GYOEWdI/+qLkOYoTNPeguLdBS45doMLFRQ/etO3NAqVkAS1Mogd7rpbNXlNoEsFeKDBG1kqp+vLBPqUGw6CHKofe8aiqeUWoNeBajLD6V1O8Gzik1BfyyFOLPUjTlLtZQlwHYmkVZ9H76qv4ycEepETC+ByXyRWVqrRwBJqFovagh6tGoHtX1aIL9hf1b+8t//VxSK7XWwNADvkcoTlRPtN27FyGEhEMkTNhPmP2QEDH/iETa2u7q0T9SzKh/6pO+WcNkFMOMj6UVCpN/MjMlkfaE/iPEayV1qJtXFYkBNCF/0bsRVn2hEBk5FiarTF1DVIdVlHjmgYk9vANMtEdYJBaFSXxHX+6tmlGHyEl7qmF+Wp4Ev3v8zKB0oO+tOtQNOXs1NEe5nmISInbF91OTQQvF3JCKbJVxsV7ZiJz0ancjPz4F7ZYi/cEovM+plUl+lO7DEXyrkA+tjYQJJ09pBWMg97Yix9uKVGD5Q04H+R7hZ3uM/sFgR/v3HG8pEoGFeS4ZtpMQ4Sf+lA5l0Nbfm80FRRqwt1uukzwofjhGh/d7QZ6VpVXDkrT9DM0y5Ov+G1qhsiB/5nhWjlYN83S0SY+ECW/JHTH6L4W+cqd5L0OMcFqTMEM25cTof7T2lTKSxAgtNkOMRogIbOD+r3fleiy6fTkBzWhLQkQdlgfuETAKfSXzrszdaoR5Ns9yiIiRfE5HqPAxw6rRzRhhPtrRToRhA/eIvc9lMkX3Bh7wow1tRJRqSpExjIG3mcKycYorwIfWJcIhIkz88DNaFaOovhvnSozgyaJVUSIww/LAXZ3W3BNXUlzRjVbdJULF18do9Yo7XYgRHqBFWoSIlTKoFYUNjscIU2TsKoOSh2LUEuO4wzHCLLRGI8Kx3c+ijo2OxghezWprJqKxKcey107GCHOyaAnb94Q7GKPWvVimOAastWedCGevFBnnGjXMkLOtDHoVo3Z0OtWoYamU8813yafUns5TjsQIEzV5rhGHYNcQNjmzw3i6LK18zmDvfrYdGT5G9z8UdeIMc/ezzdgmPEZYosnaVxh2DcHBk02KYOOlbc6M+e7Hw07BMUIDVu0ecYad3c/RcQf2YNUixCns3Y+TDqHjji8t6Zg46JVBeXkpMEWYIXOIyecG5Wa3sBhhCVaLOCfEBm5+OoQ1GEhJHKK5+/F0VFAxwlaZQzS/aMdTp6DZe05U4hBJiHL2UshV47SKUVGqEae8+3EmYmiENTKHaA7cXAlqMGvzMocYP0T5O1YuRkFbi0y7c7kUqQAd3D8ZPf3VhRgi/yPtwP3LCc7FCBOwGglnQwyxdz8ROjhPO55u/EGim+2KG24RXpgpCvkqhBTff6jEdj8xjI0KR+PT8rZnhgrC93kaFmMV2onD1htUlM6NIq4h5PgqTqUQFejIOFee8TWnQ4wfEleKPItxZR5/keoKwvSYCsRvZgQvlkn1VFWW/GBQkTp4pfgQv5Po+f4XNnCLxO3tYDaOXJg4LP6cCvaayzYNQZR3UiTbDSraSR7F6IvKegfBJN9QwfisgbAUpd382MBNxevkcKShX+LzHKficbmtXYOD3P+NqmFEdlAnPLms2ATTEVHSedt8bHHEJdu3Of3ynudv7J1rTxNREIbPrlKKCtQriqCitKCg4iXeRUWMiHc04RqNogKCiokavhg/l9NQLDREKKA04Q4GgwbQGIiIiYn/yUVB2O1OaXf3nJ0mPj9h8s45M+/M2W277eJDjd6UjsZbbzunJ1x8GKvSOYTejTefnV9cnPj5WJ8YhXqcM79Zbrk4obtkjKsPEd71NlBwM6JXVxSFYaxWjtMpbTfxQ9cwcMc7pNashIsfOlN6F9oqx3vMxQ99Kb12N875s4Sv2cWVOj09NFop3nbxRNcaXgraglv6jBhP9LyxFNL/F9z/0B7FUaxSnOZ8Kk5dO6U5iqs+IT0VpecE/Ph+v2qZnq9nHUZ6QXtf8JJiV81TXRGUEJKwti2fXRzoff5AiqABc2ikUuRQcE89PmXQN/BielBuiDkbGefz2L06DSIUJTRP8938zRyWw5auu+e1pLEoWiv6qGoUV+L0FX2sCu6fk0+0RVDMTqWzPCOBCFdRVtyvf7lY8P34Xm1pfNrhp3Mka22imzhbYkwK7rF7VdpEeOHcCF1EqqjmLWKsuNsM7v26Lms8CJ8VZFIFMypRTHQjdGe9Fw08FVsmr2k8CB+WUzVsKiMXjHdL47jpB2GWo5sCJKt0LgjvFoOeknc9OqFNhPnX+2kQ7KKWzqWJd7HY0KK/sbv8QFsELckH6RL0iYEfZcPXt3gv6Xe4tB2E1UU0BEYuEAVHPPgS2jfBzuGCI5iRNkhDw19NFKxxoysW2wo5O1yiaCvpo2FQQBTcdKNL6OlmFg4XLMLKKzRMcomCnegS2vuLgcMFNnb2IRo+B3OInCRsCe29NRFuY3dC20GYVzxCteEXlV4EtoRuHOficNVmUh1YFVH8iiyhpWELD4dLJ2WKcvE9slFB4w/WjZ2f6qdEocUly8W3XBsX76Vm/Qch7HD1U2NIU/hiPlyzvwFmDldpJjUOu0X+tsCD6lhsK2wJ4nBNXXul2eEyln5RrkVcz9Wmm40/CHO7qVFApc6KpbTYw/NY9BYa63DZJIeLCYNyo3YzplmBd3oCaOw0OlzM6M6TvxZyY4riuHEO1wxlilyL8Zhe5csK7rH7ddodLuZkhRXFN05+LEixq+aldoeLC8ny2RWeJnruY6m9k08YOFxsoxiN51j0/Zh1uLSuLtj9lB9Kn3YLmpq77djdKo0Ol7S6wJs0eUajWRXzfo0XmDlcjKMYj2kjPmGVwMjhYhzFk5gMHeeHbYKm1QX+lJPFbHUjMnQk1kWF4nABjR1H7PJnV2iu6DmOBpWjKOZIDhcCHPLXqFiu6H907IHleLqcIuGKfBztwWOLzZOQCMnxoemZPE+R/IEBpiHqPB+igTCK1lw/RYH8XNzXhOszTnMkxUBxTMYhR/kdnejD9XG7eYbXQGHMuDJDzSdXsTKGxIsI4NBy6J4uQZDVDsWPtlGVi4uJ3QzJsdr8rJb3LgfWIyt0FrNpOVQ15g5Rc6kgMnYjjqLzaiIkxzKTs/o6kZGAOYrO9ugDUM1jrhyziYx0LEMXdRqSYghU85hpR5QRGfF4Fp1UaYhNgbI6P9W8mieLyFiB6cmVKg1xUENovW6aHK1ERso33Fqc5Q7UyVjKTKp5uvOJjBgfotdCEJ1xYGPtoKagXEn+WA/iQZHRf1i9HJJjqRlZ3Zej/Pc7jpH+UnTcAOWYSrnTJ4b+wQMPloyepfMQVPNYCihfVN5T7oqQKDobzp6B5HiBtxzPEQUpHnz2IkDrHgGS4znKlUqiYNVoJNwufxlYtw+6ZLK4DrUyiAJhPZZpdCi0xoNZ7eDXyQzZiJLVEXFHz9O5UQDimFM6SDkxaCFK4twRk9F/aAflmMdr9e5gYBQ3R8gdvSDHdEiO1mI+WW0nAQgeHLtOYTC8ApRjH+VAskoU1+P2dNRojdsPhNGWRtmTQQLZg93TUWHgKjjbOs1cjt1WEkhUBEYx2AKFrYiypd9CAhHceCcGQejYBPo8lWxtR7uoFsVYtNOr4MALFFlMa54KosZW6HZ57cRN60pwmJDGcERoI2ocwbMEGi6xoByzRygjBq1EDeFTZGb0LK1bwLUoVv5EpqgexY0It51CJiER2kOpZTNMKCXqHEa3eRcOw/HgJcOkdMwg6gjvIsOmBehMj4LkWGy8HAct4P89I6yRVnJnO9jJGF46ploIwMmeCGuklbRuhRrrfIefGko2gYgajcDmRc6GKEiOtYbWPP48AiGsi9SCcYF2sLE2dCYz8ru9u/lNIogCAP7eBkQ+WspHKRQFCmpajE1oBcpBI21s1IvRetDoxZNGb8az971Q482NCzYxGoNiBPXo0b/LRaWUlsd+ATsz9Zdeen2Zmfdm5s0iASnIYEuyaVFqOG5eHd+sviUBKdcZXjByUersUzPUcHwytjuZG0CLLPNc6uyrldwTbgX/eAJG8LLdNWZYjNxYPx7LcLwnwQjY4T1J/6OkqJcJm3ftD8fP52EUnN3lPUn3xOnnb7aTzCcJRkp2uD2POKxdjhCH4Lafvz3SiSIu83Oxr+vUpE5vr4OO3C47b3ttq1TJVnA7O5mLEujAeWbemY9DgrwiPGs9iqdB186eIOnlr5lFHHfv7fsToMtb5PagdgiigcJWK/g5CfTdGdZ9x28U5WbcTQ3HW5aSzBwYgG84vE0dpdbOkM/fTJ/zDDbc0XBVqIWxS1lBGO65+VbwB2BIriPUwtjVjJJ9KC9M3m0NXrjQMLXL790LRfGQs9pcW9RpCYzZ6Ii1MP7R2F6jem9vm9hYa/12BqGH+5PaYRQf2UBh/HPUVyWg6T6ufM3pJvCg+ja9sTYaxTkwDHdeHdlKcz+lu2aq5HAkkgx9PKvPGxPjdOwINUU+ajWysf48B2Zk90Sc0ppGNABkA4W1zR8NS/x2SOioZMjnb7rD8SSY49oTa/tyQD2BMNzmo69WVkUa+nl4D2hRZclSA8WvTTBr7SeHPbUG0b23MOq90W0JzMLgG/EK774t8uNlL6gk83UTzItsizulNXTNM0ec3l6WwIL1L6LtpQfFk2DmZcJHCazA6qvDP6wvFrrmuXbxaMF9QwJLMM59p8loSoL8lt79T0TBbd7Gd0FLxn0LAbIVfHA4fjoJVmHwg8D55Q/FB4S5gZ8QfCqBZbj9SuT8olFdAAaSzEUJbPBeEPFIoq/uRiBJ184QF/lmJX+KnF9qaYQ++qvgpyWwBTMfBC524gh99OntGQlswlnxjrx7WmugR9KG4+eTYBvGBLqYHlRA0CddeSKBfa7vgp7sVBGmB7MfhDzZWUWYJrwkREfoITcRpiuSEO4yUC4iTNtaSLQNjOKFaaAvqN8KUHoriwgOKDwUKU03sgiOCMyLs5uu5REcsjgvzDmjB8ExS18E6Ql1MoiA4Y4Q1c4sgpO0MApQ7awgOAsD37hPMI4HEQBzvbXxHafb6VXngwiAgRYH31lldk3sQfc8x6feKTaCqHEv/E0wHOZpDzNBBMDoLp9zOstQEAHQz/Kn+Skv3UwFEWBjZY+7PK1GGAsiAPr+FI4yP2EMIXNBBMDwDFffNmGkwjkiENrl5yrLx2gQAdb9Pzj5qOAWi7O5B4MdLo4lSgzHUIPJIvtHjXWWSu3h8Nke252htViA+SACYPkLy9+4bPjXgQeI/obMKjXDwUDslY5FmU3xdW6CqMFnqsyeFg8r4kG4FGvKbHmZZrlIJKCHqeHYDLn4i6EGCwlFZkUrz2UMu3AxxEi2XlnjNogaDMdk5/k5XBAHuYIOVz1KaYP3GHZhqujgvA6xdbViA3q2nIljvcTazYotmJmRp05d5X49PCySjE/3Tqbmz4kWwy50+dvylNQXfMKNwx5ET7EuT97LU0sREBm6ltuTzTT1aFjYYdiHmCm1J7RE1pRYuiD2MOxDd3a7MYERWXxWEH8UHhRBn/+hPE6hzDGYyEO4kuloSx6HrRQezxD+486uhCqy9baUZrPiLxzrCPa4AzuJhbr5Ekidic4eh3xsXASrS/5Tals2EsyaolaW81neblGmBNHrKpcTpYcLaksLp/ZXk7U/TVPu/t9W26FQPOUr/5/DRiC6MewOl5M7+XQ6n/IF09W8D905RE6Kwd/4KGXV8bp/DQAAAABJRU5ErkJggg=="},cQ6w:function(t,e){},"fi+u":function(t,e){},"h+3r":function(t,e){},hSlb:function(t,e){},hct2:function(t,e){},kbrk:function(t,e){},mIUz:function(t,e){},mqrV:function(t,e){},ng3q:function(t,e,a){t.exports=a.p+"static/img/xuwei.beadf63.png"},nkB8:function(t,e){},svY4:function(t,e){},ut2n:function(t,e){},wJsD:function(t,e){},xaCt:function(t,e){},xzX7:function(t,e){},ziq4:function(t,e){},zqbw:function(t,e){}},[0]);
//# sourceMappingURL=app.b602f83e60e7ebd52bd5.js.map