<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>新增工单信息</title>
    <script src="../../../js/layui.js"></script>
    <link rel="stylesheet" href="../../../css/layui.css">
    <style type="text/css">
        *{margin: 0px auto;padding: 0px;}
        fieldset{width:400px;}
        form{padding: 10px;}
        .malfunction{display: none}
    </style>
    <link rel="stylesheet" href="../../../css/modules/layer/default/layer.css">
    <script src="../../../js/jquery.js"></script>
    <link rel="stylesheet" href="../../../css/modules/laydate/default/laydate.css">
</head>
<body>
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
    <legend>新增工单信息</legend>

    <form class="layui-form" action="">
        <!--不用填-->
        <div class="layui-form-item">
            <label class="layui-form-label">工单号</label>
            <div class="layui-input-block">
                <input name="clientname" class="layui-input" type="text" placeholder="请输入名称" autocomplete="off" lay-verify="required">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">设备序列号</label>
            <div class="layui-input-block">
                <input name="Contractcode" class="layui-input" type="text" placeholder="" autocomplete="off" lay-verify="required">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">客户名称</label>
            <div class="layui-input-block">
                <input name="linkman" class="layui-input" type="text" placeholder="" autocomplete="off" lay-verify="required">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">设备名称</label>
            <div class="layui-input-block">
                <input name="clientname" class="layui-input" type="text" placeholder="请输入名称" autocomplete="off" lay-verify="required">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">机器编码</label>
            <div class="layui-input-block">
                <input name="clientname" class="layui-input" type="text" placeholder="请输入名称" autocomplete="off" lay-verify="required">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">客户地址</label>
            <div class="layui-input-block">
                <input name="clientname" class="layui-input" type="text" placeholder="请输入名称" autocomplete="off" lay-verify="required">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">报修类型：</label>
            <div class="layui-input-block">
                <select name="type" lay-verify="required">
                    <option value="">请选择</option>
                    <option value="0">微信报修</option>
                    <option value="1">电话报修</option>
                    <option value="2">PC报修</option>
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">服务类型：</label>
            <div class="layui-input-block" id="serve">
                <select name="serve" lay-verify="required" lay-filter="serve">
                    <option value="">请选择</option>
                    <option value="0">事故类</option>
                    <option value="1">需求类</option>
                    <option value="2">事件类</option>
                </select>
            </div>
        </div>
        <div class="layui-form-item malfunction">
            <label class="layui-form-label">故障类型：</label>
            <div class="layui-input-block">
                <select name="type" lay-verify="required">
                    <option value="">请选择</option>
                    <option value="0">软件故障</option>
                    <option value="1">角色2</option>
                    <option value="2">角色3</option>
                </select>
            </div>
        </div>
        <!--不用填-->
        <div class="layui-form-item">
            <label class="layui-form-label">工单状态</label>
            <div class="layui-input-block">
                <input name="clientname" class="layui-input" type="text" placeholder="请输入名称" autocomplete="off" lay-verify="required">
            </div>
        </div>
        <!--不用填-->
        <div class="layui-form-item">
        <label class="layui-form-label">处理措施</label>
        <div class="layui-input-block">
            <input name="clientname" class="layui-input" type="text" placeholder="请输入名称" autocomplete="off" lay-verify="required">
        </div>
    </div>
        <div class="layui-form-item">
            <label class="layui-form-label">报修时间</label>
            <div class="layui-input-inline">
                <input name="termofcontract " class="layui-input" type="text" placeholder="" autocomplete="off" lay-verify="date" id="date">
            </div>
        </div>
        <div class="layui-form-item">
            <div class="layui-input-block">
                <button class="layui-btn" lay-filter="demo1" lay-submit="">立即提交</button>
                <button class="layui-btn layui-btn-primary" type="reset">重置</button>
            </div>
        </div>
    </form>
</fieldset>
<script>
    layui.use(['form', 'layedit', 'laydate'], function(){
        var form = layui.form
            ,layer = layui.layer
            ,layedit = layui.layedit
            ,laydate = layui.laydate;

        laydate.render({
            elem:"#date"
        })
        form.on('select(serve)',function (date) {
            var serve=$("#serve input").val();
            if (serve=="事故类"||serve=="需求类"){
                $(".malfunction").show();
            }else {
                $(".malfunction").hide();
            }
        })
        //监听提交
        form.on('submit(demo1)', function(data){
            layer.alert(JSON.stringify(data.field), {title: '最终的提交信息' })
            return false;
        });
    });
</script>

</body>
</html>